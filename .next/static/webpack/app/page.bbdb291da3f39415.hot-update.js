"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/components/Header.tsx":
/*!***************************************!*\
  !*** ./src/app/components/Header.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _telegram_apps_sdk_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @telegram-apps/sdk-react */ \"(app-pages-browser)/./node_modules/@telegram-apps/sdk-react/dist/index.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _styles_header_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/header.module.css */ \"(app-pages-browser)/./src/app/styles/header.module.css\");\n/* harmony import */ var _styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _barrel_optimize_names_FaGear_react_icons_fa6__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=FaGear!=!react-icons/fa6 */ \"(app-pages-browser)/./node_modules/react-icons/fa6/index.mjs\");\n/* harmony import */ var _Exchanges__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Exchanges */ \"(app-pages-browser)/./src/app/components/Exchanges.tsx\");\n/* harmony import */ var _Settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Settings */ \"(app-pages-browser)/./src/app/components/Settings.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst initData = (0,_telegram_apps_sdk_react__WEBPACK_IMPORTED_MODULE_6__.useInitData)();\nconst Header = (param)=>{\n    let { className = \"\" } = param;\n    _s();\n    const user = initData.user;\n    const [selectedExchange, setSelectedExchange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [exchanges, setExchanges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toggleExchangesDisplay = ()=>{\n        setExchanges((prev)=>!prev);\n    };\n    const handleExchangeSelect = (exchange)=>{\n        setSelectedExchange(exchange);\n        setExchanges(false); // Hide dropdown when a language is selected\n    };\n    const toggleSettings = ()=>{\n        setSettings((prev)=>!prev);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            exchanges && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Exchanges__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                selectedexchange: selectedExchange,\n                toggleDisplay: toggleExchangesDisplay,\n                onExchangeSelect: handleExchangeSelect\n            }, void 0, false, {\n                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                lineNumber: 41,\n                columnNumber: 27\n            }, undefined),\n            settings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                toggleDisplay: toggleSettings\n            }, void 0, false, {\n                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                lineNumber: 42,\n                columnNumber: 26\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().head),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().profile),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: \"/frdlogo300.png\",\n                                alt: \"user profile\",\n                                width: 30,\n                                height: 30,\n                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().pimage)\n                            }, void 0, false, {\n                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                lineNumber: 45,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().badge),\n                                children: [\n                                    user === null || user === void 0 ? void 0 : user.firstName,\n                                    \" (Gamer Supa)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                lineNumber: 46,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                        className: [\n                            (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().userinfo),\n                            className\n                        ].join(\" \"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().level),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().levelTitle),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().currentLevel),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().epic),\n                                                        children: \"Epic\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 52,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().levelIcon),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().levelImageIcon),\n                                                            loading: \"lazy\",\n                                                            alt: \"\",\n                                                            src: \"/vector-1.svg\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                            lineNumber: 54,\n                                                            columnNumber: 37\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 53,\n                                                        columnNumber: 33\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 51,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().level610),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Level \"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 63,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().span),\n                                                        children: \"6/10\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 64,\n                                                        columnNumber: 33\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 62,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                        lineNumber: 50,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().rectangleParent),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().frameChild)\n                                            }, void 0, false, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 68,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().levelBackground)\n                                            }, void 0, false, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 69,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                        lineNumber: 67,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().details),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: toggleExchangesDisplay,\n                                        style: {\n                                            border: \"none\",\n                                            backgroundColor: \"none\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: \"/union-2.svg\",\n                                            alt: \"pic\"\n                                        }, void 0, false, {\n                                            fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                            lineNumber: 75,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                        lineNumber: 74,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().b_earn),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \"profit per hour\"\n                                            }, void 0, false, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 78,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().bst_earn),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: \"/group-9-2.svg\",\n                                                            alt: \"img\",\n                                                            className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().bimg)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                            lineNumber: 80,\n                                                            columnNumber: 38\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 80,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"+680\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 81,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: \"/group-9-2.svg\",\n                                                            alt: \"img\",\n                                                            className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().bimg)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                            lineNumber: 82,\n                                                            columnNumber: 38\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                        lineNumber: 82,\n                                                        columnNumber: 33\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                                lineNumber: 79,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                        lineNumber: 77,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaGear_react_icons_fa6__WEBPACK_IMPORTED_MODULE_7__.FaGear, {\n                                            size: 22,\n                                            className: (_styles_header_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsicon),\n                                            onClick: toggleSettings\n                                        }, void 0, false, {\n                                            fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                            lineNumber: 86,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                                lineNumber: 73,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/frdbotapp/frontend/src/app/components/Header.tsx\",\n                lineNumber: 43,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(Header, \"9bXRw/877FepwchCA56PbXYzlgw=\");\n_c = Header;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Header);\nvar _c;\n$RefreshReg$(_c, \"Header\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9IZWFkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDaUM7QUFFa0Q7QUFFcEQ7QUFDa0I7QUFDUjtBQUVMO0FBQ0Y7QUFNbEMsTUFBTU8sV0FBV04scUVBQVdBO0FBQzVCLE1BQU1PLFNBQStCO1FBQUMsRUFBRUMsWUFBWSxFQUFFLEVBQUU7O0lBRXBELE1BQU1DLE9BQU9ILFNBQVVHLElBQUk7SUFDM0IsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHWiwrQ0FBUUEsQ0FBUztJQUNqRSxNQUFNLENBQUNhLFdBQVdDLGFBQWEsR0FBR2QsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDZSxVQUFVQyxZQUFZLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUV6QyxNQUFNaUIseUJBQXlCO1FBQzNCSCxhQUFhSSxDQUFBQSxPQUFRLENBQUNBO0lBQzFCO0lBRUEsTUFBTUMsdUJBQXVCLENBQUNDO1FBQzFCUixvQkFBb0JRO1FBQ3BCTixhQUFhLFFBQVEsNENBQTRDO0lBQ3JFO0lBR0EsTUFBTU8saUJBQWlCO1FBQ25CTCxZQUFZRSxDQUFBQSxPQUFRLENBQUNBO0lBQ3pCO0lBRUEscUJBQ0k7O1lBQ0tMLDJCQUFhLDhEQUFDUixrREFBU0E7Z0JBQUNpQixrQkFBa0JYO2dCQUFtQlksZUFBZU47Z0JBQXdCTyxrQkFBa0JMOzs7Ozs7WUFDdEhKLDBCQUFZLDhEQUFDVCxpREFBUUE7Z0JBQUNpQixlQUFlRjs7Ozs7OzBCQUN0Qyw4REFBQ0k7Z0JBQUloQixXQUFXTix1RUFBVzs7a0NBQ3ZCLDhEQUFDc0I7d0JBQUloQixXQUFXTiwwRUFBYzs7MENBQzFCLDhEQUFDRCxrREFBS0E7Z0NBQUMwQixLQUFJO2dDQUFrQkMsS0FBSTtnQ0FBZUMsT0FBTztnQ0FBSUMsUUFBUTtnQ0FBSXRCLFdBQVdOLHlFQUFhOzs7Ozs7MENBQy9GLDhEQUFDc0I7Z0NBQUloQixXQUFXTix3RUFBWTs7b0NBQUdPLGlCQUFBQSwyQkFBQUEsS0FBTXdCLFNBQVM7b0NBQUM7Ozs7Ozs7Ozs7Ozs7a0NBRW5ELDhEQUFDQzt3QkFBSTFCLFdBQVc7NEJBQUNOLDJFQUFlOzRCQUFFTTt5QkFBVSxDQUFDNEIsSUFBSSxDQUFDOzswQ0FDOUMsOERBQUNaO2dDQUFJaEIsV0FBV04sd0VBQVk7O2tEQUN4Qiw4REFBQ3NCO3dDQUFJaEIsV0FBV04sNkVBQWlCOzswREFDN0IsOERBQUNzQjtnREFBSWhCLFdBQVdOLCtFQUFtQjs7a0VBQy9CLDhEQUFDc0I7d0RBQUloQixXQUFXTix1RUFBVztrRUFBRTs7Ozs7O2tFQUM3Qiw4REFBQ3NCO3dEQUFJaEIsV0FBV04sNEVBQWdCO2tFQUM1Qiw0RUFBQ3dDOzREQUNHbEMsV0FBV04saUZBQXFCOzREQUNoQzBDLFNBQVE7NERBQ1JoQixLQUFJOzREQUNKRCxLQUFJOzs7Ozs7Ozs7Ozs7Ozs7OzswREFJaEIsOERBQUNIO2dEQUFJaEIsV0FBV04sMkVBQWU7O2tFQUMzQiw4REFBQzRDO2tFQUFPOzs7Ozs7a0VBQ1IsOERBQUNBO3dEQUFLdEMsV0FBV04sdUVBQVc7a0VBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFHdEMsOERBQUNzQjt3Q0FBSWhCLFdBQVdOLGtGQUFzQjs7MERBQ2xDLDhEQUFDc0I7Z0RBQUloQixXQUFXTiw2RUFBaUI7Ozs7OzswREFDakMsOERBQUNzQjtnREFBSWhCLFdBQVdOLGtGQUFzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQUk5Qyw4REFBQ3NCO2dDQUFJaEIsV0FBV04sMEVBQWM7O2tEQUMxQiw4REFBQ2lEO3dDQUFPQyxNQUFLO3dDQUFTQyxTQUFTckM7d0NBQXdCc0MsT0FBTzs0Q0FBQ0MsUUFBUTs0Q0FBUUMsaUJBQWlCO3dDQUFNO2tEQUNsRyw0RUFBQ2Q7NENBQUlmLEtBQUk7NENBQWVDLEtBQUk7Ozs7Ozs7Ozs7O2tEQUVoQyw4REFBQ0o7d0NBQUloQixXQUFXTix5RUFBYTs7MERBQ3pCLDhEQUFDc0I7MERBQUk7Ozs7OzswREFDTCw4REFBQ0E7Z0RBQUloQixXQUFXTiwyRUFBZTs7a0VBQzNCLDhEQUFDc0I7a0VBQUksNEVBQUNrQjs0REFBSWYsS0FBSTs0REFBaUJDLEtBQUk7NERBQU1wQixXQUFXTix1RUFBVzs7Ozs7Ozs7Ozs7a0VBQy9ELDhEQUFDc0I7a0VBQUk7Ozs7OztrRUFDTCw4REFBQ0E7a0VBQUksNEVBQUNrQjs0REFBSWYsS0FBSTs0REFBaUJDLEtBQUk7NERBQU1wQixXQUFXTix1RUFBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0RBR3ZFLDhEQUFDc0I7a0RBQ0csNEVBQUNyQixpRkFBTUE7NENBQUN5RCxNQUFNOzRDQUFJcEQsV0FBV04sK0VBQW1COzRDQUFFbUQsU0FBU2pDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3ZGO0dBM0VNYjtLQUFBQTtBQTZFTiwrREFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL2NvbXBvbmVudHMvSGVhZGVyLnRzeD84ZmQxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHsgTmV4dFBhZ2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IHsgdXNlSW5pdERhdGEsIHVzZUxhdW5jaFBhcmFtcywgdHlwZSBVc2VyIH0gZnJvbSAnQHRlbGVncmFtLWFwcHMvc2RrLXJlYWN0JztcbmltcG9ydCB7IExpc3QsIFBsYWNlaG9sZGVyIH0gZnJvbSAnQHRlbGVncmFtLWFwcHMvdGVsZWdyYW0tdWknO1xuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuLi9zdHlsZXMvaGVhZGVyLm1vZHVsZS5jc3NcIjtcbmltcG9ydCB7IEZhR2VhciB9IGZyb20gXCJyZWFjdC1pY29ucy9mYTZcIjtcbmltcG9ydCBUb3BIZWFkZXIgZnJvbSBcIi4vVG9wSGVhZGVyXCI7XG5pbXBvcnQgRXhjaGFuZ2VzIGZyb20gXCIuL0V4Y2hhbmdlc1wiO1xuaW1wb3J0IFNldHRpbmdzIGZyb20gXCIuL1NldHRpbmdzXCI7XG5cblxuZXhwb3J0IHR5cGUgSGVhZGVyVHlwZSA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufTtcbmNvbnN0IGluaXREYXRhID0gdXNlSW5pdERhdGEoKTtcbmNvbnN0IEhlYWRlcjogTmV4dFBhZ2U8SGVhZGVyVHlwZT4gPSAoeyBjbGFzc05hbWUgPSBcIlwiIH0pID0+IHtcbiAgICBcbiAgICBjb25zdCB1c2VyID0gaW5pdERhdGEhLnVzZXI7XG4gICAgY29uc3QgW3NlbGVjdGVkRXhjaGFuZ2UsIHNldFNlbGVjdGVkRXhjaGFuZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gICAgY29uc3QgW2V4Y2hhbmdlcywgc2V0RXhjaGFuZ2VzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2V0dGluZ3MsIHNldFNldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGNvbnN0IHRvZ2dsZUV4Y2hhbmdlc0Rpc3BsYXkgPSAoKSA9PiB7XG4gICAgICAgIHNldEV4Y2hhbmdlcyhwcmV2ID0+ICFwcmV2KTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVFeGNoYW5nZVNlbGVjdCA9IChleGNoYW5nZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGVkRXhjaGFuZ2UoZXhjaGFuZ2UpO1xuICAgICAgICBzZXRFeGNoYW5nZXMoZmFsc2UpOyAvLyBIaWRlIGRyb3Bkb3duIHdoZW4gYSBsYW5ndWFnZSBpcyBzZWxlY3RlZFxuICAgIH07XG5cblxuICAgIGNvbnN0IHRvZ2dsZVNldHRpbmdzID0gKCkgPT4ge1xuICAgICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICFwcmV2KVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICB7ZXhjaGFuZ2VzICYmIDxFeGNoYW5nZXMgc2VsZWN0ZWRleGNoYW5nZT17c2VsZWN0ZWRFeGNoYW5nZX0gIHRvZ2dsZURpc3BsYXk9e3RvZ2dsZUV4Y2hhbmdlc0Rpc3BsYXl9IG9uRXhjaGFuZ2VTZWxlY3Q9e2hhbmRsZUV4Y2hhbmdlU2VsZWN0fSAvPn1cbiAgICAgICAgICAgIHtzZXR0aW5ncyAmJiA8U2V0dGluZ3MgdG9nZ2xlRGlzcGxheT17dG9nZ2xlU2V0dGluZ3N9IC8+fVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5oZWFkfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnByb2ZpbGV9PlxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ZyZGxvZ28zMDAucG5nXCIgYWx0PVwidXNlciBwcm9maWxlXCIgd2lkdGg9ezMwfSBoZWlnaHQ9ezMwfSBjbGFzc05hbWU9e3N0eWxlcy5waW1hZ2V9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmFkZ2V9Pnt1c2VyPy5maXJzdE5hbWV9IChHYW1lciBTdXBhKTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxuYXYgY2xhc3NOYW1lPXtbc3R5bGVzLnVzZXJpbmZvLCBjbGFzc05hbWVdLmpvaW4oXCIgXCIpfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sZXZlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxldmVsVGl0bGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY3VycmVudExldmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lcGljfT5FcGljPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGV2ZWxJY29ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5sZXZlbEltYWdlSWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvdmVjdG9yLTEuc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGV2ZWw2MTB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57YExldmVsIGB9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zcGFufT42LzEwPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJlY3RhbmdsZVBhcmVudH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mcmFtZUNoaWxkfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGV2ZWxCYWNrZ3JvdW5kfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGV0YWlsc30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0b2dnbGVFeGNoYW5nZXNEaXNwbGF5fSBzdHlsZT17e2JvcmRlcjogJ25vbmUnLCBiYWNrZ3JvdW5kQ29sb3I6ICdub25lJ319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiL3VuaW9uLTIuc3ZnXCIgYWx0PVwicGljXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5iX2Vhcm59PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+cHJvZml0IHBlciBob3VyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ic3RfZWFybn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGltZyBzcmM9XCIvZ3JvdXAtOS0yLnN2Z1wiIGFsdD1cImltZ1wiIGNsYXNzTmFtZT17c3R5bGVzLmJpbWd9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+KzY4MDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbWcgc3JjPVwiL2dyb3VwLTktMi5zdmdcIiBhbHQ9XCJpbWdcIiBjbGFzc05hbWU9e3N0eWxlcy5iaW1nfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGYUdlYXIgc2l6ZT17MjJ9IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdzaWNvbn0gb25DbGljaz17dG9nZ2xlU2V0dGluZ3N9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uYXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUluaXREYXRhIiwiSW1hZ2UiLCJzdHlsZXMiLCJGYUdlYXIiLCJFeGNoYW5nZXMiLCJTZXR0aW5ncyIsImluaXREYXRhIiwiSGVhZGVyIiwiY2xhc3NOYW1lIiwidXNlciIsInNlbGVjdGVkRXhjaGFuZ2UiLCJzZXRTZWxlY3RlZEV4Y2hhbmdlIiwiZXhjaGFuZ2VzIiwic2V0RXhjaGFuZ2VzIiwic2V0dGluZ3MiLCJzZXRTZXR0aW5ncyIsInRvZ2dsZUV4Y2hhbmdlc0Rpc3BsYXkiLCJwcmV2IiwiaGFuZGxlRXhjaGFuZ2VTZWxlY3QiLCJleGNoYW5nZSIsInRvZ2dsZVNldHRpbmdzIiwic2VsZWN0ZWRleGNoYW5nZSIsInRvZ2dsZURpc3BsYXkiLCJvbkV4Y2hhbmdlU2VsZWN0IiwiZGl2IiwiaGVhZCIsInByb2ZpbGUiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInBpbWFnZSIsImJhZGdlIiwiZmlyc3ROYW1lIiwibmF2IiwidXNlcmluZm8iLCJqb2luIiwibGV2ZWwiLCJsZXZlbFRpdGxlIiwiY3VycmVudExldmVsIiwiZXBpYyIsImxldmVsSWNvbiIsImltZyIsImxldmVsSW1hZ2VJY29uIiwibG9hZGluZyIsImxldmVsNjEwIiwic3BhbiIsInJlY3RhbmdsZVBhcmVudCIsImZyYW1lQ2hpbGQiLCJsZXZlbEJhY2tncm91bmQiLCJkZXRhaWxzIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJzdHlsZSIsImJvcmRlciIsImJhY2tncm91bmRDb2xvciIsImJfZWFybiIsImJzdF9lYXJuIiwiYmltZyIsInNpemUiLCJzZXR0aW5nc2ljb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/Header.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@telegram-apps/sdk-react/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@telegram-apps/sdk-react/dist/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackButton: function() { return /* binding */ Ve; },\n/* harmony export */   BasicNavigator: function() { return /* binding */ Os; },\n/* harmony export */   BiometryManager: function() { return /* binding */ ze; },\n/* harmony export */   BrowserNavigator: function() { return /* binding */ ee; },\n/* harmony export */   ClosingBehavior: function() { return /* binding */ Fe; },\n/* harmony export */   CloudStorage: function() { return /* binding */ ts; },\n/* harmony export */   ERR_INVALID_PATH_BASE: function() { return /* binding */ ye; },\n/* harmony export */   ERR_INVOKE_CUSTOM_METHOD_RESPONSE: function() { return /* binding */ ge; },\n/* harmony export */   ERR_METHOD_PARAMETER_UNSUPPORTED: function() { return /* binding */ _e; },\n/* harmony export */   ERR_METHOD_UNSUPPORTED: function() { return /* binding */ de; },\n/* harmony export */   ERR_NAVIGATION_HISTORY_EMPTY: function() { return /* binding */ me; },\n/* harmony export */   ERR_NAVIGATION_INDEX_INVALID: function() { return /* binding */ ve; },\n/* harmony export */   ERR_NAVIGATION_ITEM_INVALID: function() { return /* binding */ bn; },\n/* harmony export */   ERR_PARSE: function() { return /* binding */ xt; },\n/* harmony export */   ERR_SSR_INIT: function() { return /* binding */ mn; },\n/* harmony export */   ERR_TIMED_OUT: function() { return /* binding */ fe; },\n/* harmony export */   ERR_UNEXPECTED_TYPE: function() { return /* binding */ be; },\n/* harmony export */   ERR_UNKNOWN_ENV: function() { return /* binding */ we; },\n/* harmony export */   EventEmitter: function() { return /* binding */ D; },\n/* harmony export */   HapticFeedback: function() { return /* binding */ ss; },\n/* harmony export */   InitData: function() { return /* binding */ rs; },\n/* harmony export */   Invoice: function() { return /* binding */ os; },\n/* harmony export */   MainButton: function() { return /* binding */ cs; },\n/* harmony export */   MiniApp: function() { return /* binding */ ls; },\n/* harmony export */   Popup: function() { return /* binding */ ws; },\n/* harmony export */   QRScanner: function() { return /* binding */ fs; },\n/* harmony export */   SDKError: function() { return /* binding */ W; },\n/* harmony export */   SDKProvider: function() { return /* binding */ ur; },\n/* harmony export */   SettingsButton: function() { return /* binding */ ms; },\n/* harmony export */   SwipeBehavior: function() { return /* binding */ ys; },\n/* harmony export */   ThemeParams: function() { return /* binding */ Ps; },\n/* harmony export */   Utils: function() { return /* binding */ Rs; },\n/* harmony export */   Viewport: function() { return /* binding */ Cs; },\n/* harmony export */   array: function() { return /* binding */ Xe; },\n/* harmony export */   bindMiniAppCSSVars: function() { return /* binding */ Sn; },\n/* harmony export */   bindThemeParamsCSSVars: function() { return /* binding */ Rn; },\n/* harmony export */   bindViewportCSSVars: function() { return /* binding */ xn; },\n/* harmony export */   boolean: function() { return /* binding */ E; },\n/* harmony export */   captureSameReq: function() { return /* binding */ qt; },\n/* harmony export */   classNames: function() { return /* binding */ st; },\n/* harmony export */   compareVersions: function() { return /* binding */ Te; },\n/* harmony export */   createBrowserNavigatorFromLocation: function() { return /* binding */ Vs; },\n/* harmony export */   createPostEvent: function() { return /* binding */ Ie; },\n/* harmony export */   createSafeURL: function() { return /* binding */ L; },\n/* harmony export */   date: function() { return /* binding */ Lt; },\n/* harmony export */   getHash: function() { return /* binding */ kn; },\n/* harmony export */   getPathname: function() { return /* binding */ te; },\n/* harmony export */   initBackButton: function() { return /* binding */ je; },\n/* harmony export */   initBiometryManager: function() { return /* binding */ Je; },\n/* harmony export */   initClosingBehavior: function() { return /* binding */ Qe; },\n/* harmony export */   initCloudStorage: function() { return /* binding */ es; },\n/* harmony export */   initHapticFeedback: function() { return /* binding */ ns; },\n/* harmony export */   initInitData: function() { return /* binding */ is; },\n/* harmony export */   initInvoice: function() { return /* binding */ as; },\n/* harmony export */   initMainButton: function() { return /* binding */ hs; },\n/* harmony export */   initMiniApp: function() { return /* binding */ ds; },\n/* harmony export */   initNavigator: function() { return /* binding */ In; },\n/* harmony export */   initPopup: function() { return /* binding */ gs; },\n/* harmony export */   initQRScanner: function() { return /* binding */ bs; },\n/* harmony export */   initSettingsButton: function() { return /* binding */ vs; },\n/* harmony export */   initSwipeBehavior: function() { return /* binding */ Es; },\n/* harmony export */   initThemeParams: function() { return /* binding */ Ss; },\n/* harmony export */   initUtils: function() { return /* binding */ xs; },\n/* harmony export */   initViewport: function() { return /* binding */ Ts; },\n/* harmony export */   initWeb: function() { return /* binding */ As; },\n/* harmony export */   invokeCustomMethod: function() { return /* binding */ V; },\n/* harmony export */   isColorDark: function() { return /* binding */ Bt; },\n/* harmony export */   isIframe: function() { return /* binding */ at; },\n/* harmony export */   isPageReload: function() { return /* binding */ Ft; },\n/* harmony export */   isRGB: function() { return /* binding */ ct; },\n/* harmony export */   isRGBShort: function() { return /* binding */ Oe; },\n/* harmony export */   isSDKError: function() { return /* binding */ Is; },\n/* harmony export */   isSDKErrorOfType: function() { return /* binding */ An; },\n/* harmony export */   isSSR: function() { return /* binding */ ks; },\n/* harmony export */   isTMA: function() { return /* binding */ Cn; },\n/* harmony export */   json: function() { return /* binding */ v; },\n/* harmony export */   mergeClassNames: function() { return /* binding */ yn; },\n/* harmony export */   mockTelegramEnv: function() { return /* binding */ Tn; },\n/* harmony export */   number: function() { return /* binding */ R; },\n/* harmony export */   off: function() { return /* binding */ z; },\n/* harmony export */   on: function() { return /* binding */ y; },\n/* harmony export */   parseInitData: function() { return /* binding */ En; },\n/* harmony export */   parseLaunchParams: function() { return /* binding */ lt; },\n/* harmony export */   parseThemeParams: function() { return /* binding */ Zt; },\n/* harmony export */   postEvent: function() { return /* binding */ B; },\n/* harmony export */   request: function() { return /* binding */ w; },\n/* harmony export */   requestBiometryInfo: function() { return /* binding */ Ke; },\n/* harmony export */   requestThemeParams: function() { return /* binding */ Pn; },\n/* harmony export */   requestViewport: function() { return /* binding */ Xt; },\n/* harmony export */   retrieveLaunchParams: function() { return /* binding */ nt; },\n/* harmony export */   rgb: function() { return /* binding */ De; },\n/* harmony export */   searchParams: function() { return /* binding */ ut; },\n/* harmony export */   serializeLaunchParams: function() { return /* binding */ Ue; },\n/* harmony export */   serializeThemeParams: function() { return /* binding */ Kt; },\n/* harmony export */   setCSSVar: function() { return /* binding */ P; },\n/* harmony export */   setDebug: function() { return /* binding */ ue; },\n/* harmony export */   setTargetOrigin: function() { return /* binding */ vn; },\n/* harmony export */   string: function() { return /* binding */ u; },\n/* harmony export */   subscribe: function() { return /* binding */ he; },\n/* harmony export */   supports: function() { return /* binding */ x; },\n/* harmony export */   targetOrigin: function() { return /* binding */ ke; },\n/* harmony export */   toRGB: function() { return /* binding */ Dt; },\n/* harmony export */   unsubscribe: function() { return /* binding */ Rt; },\n/* harmony export */   urlToPath: function() { return /* binding */ U; },\n/* harmony export */   useBackButton: function() { return /* binding */ Ms; },\n/* harmony export */   useBackButtonRaw: function() { return /* binding */ Bs; },\n/* harmony export */   useBiometryManager: function() { return /* binding */ $s; },\n/* harmony export */   useBiometryManagerRaw: function() { return /* binding */ Ls; },\n/* harmony export */   useClosingBehavior: function() { return /* binding */ Us; },\n/* harmony export */   useClosingBehaviorRaw: function() { return /* binding */ Hs; },\n/* harmony export */   useCloudStorage: function() { return /* binding */ Gs; },\n/* harmony export */   useCloudStorageRaw: function() { return /* binding */ Ws; },\n/* harmony export */   useHapticFeedback: function() { return /* binding */ zs; },\n/* harmony export */   useHapticFeedbackRaw: function() { return /* binding */ js; },\n/* harmony export */   useInitData: function() { return /* binding */ Js; },\n/* harmony export */   useInitDataRaw: function() { return /* binding */ Ks; },\n/* harmony export */   useInvoice: function() { return /* binding */ Qs; },\n/* harmony export */   useInvoiceRaw: function() { return /* binding */ Fs; },\n/* harmony export */   useLaunchParams: function() { return /* binding */ or; },\n/* harmony export */   useMainButton: function() { return /* binding */ Zs; },\n/* harmony export */   useMainButtonRaw: function() { return /* binding */ Ys; },\n/* harmony export */   useMiniApp: function() { return /* binding */ tn; },\n/* harmony export */   useMiniAppRaw: function() { return /* binding */ Xs; },\n/* harmony export */   usePopup: function() { return /* binding */ sn; },\n/* harmony export */   usePopupRaw: function() { return /* binding */ en; },\n/* harmony export */   useQRScanner: function() { return /* binding */ rn; },\n/* harmony export */   useQRScannerRaw: function() { return /* binding */ nn; },\n/* harmony export */   useSDK: function() { return /* binding */ Ds; },\n/* harmony export */   useSettingsButton: function() { return /* binding */ an; },\n/* harmony export */   useSettingsButtonRaw: function() { return /* binding */ on; },\n/* harmony export */   useSwipeBehavior: function() { return /* binding */ hn; },\n/* harmony export */   useSwipeBehaviorRaw: function() { return /* binding */ cn; },\n/* harmony export */   useThemeParams: function() { return /* binding */ un; },\n/* harmony export */   useThemeParamsRaw: function() { return /* binding */ pn; },\n/* harmony export */   useUtils: function() { return /* binding */ dn; },\n/* harmony export */   useUtilsRaw: function() { return /* binding */ ln; },\n/* harmony export */   useViewport: function() { return /* binding */ wn; },\n/* harmony export */   useViewportRaw: function() { return /* binding */ _n; },\n/* harmony export */   withBackButton: function() { return /* binding */ qn; },\n/* harmony export */   withBackButtonRaw: function() { return /* binding */ On; },\n/* harmony export */   withBiometryManager: function() { return /* binding */ Nn; },\n/* harmony export */   withBiometryManagerRaw: function() { return /* binding */ Vn; },\n/* harmony export */   withClosingBehavior: function() { return /* binding */ Bn; },\n/* harmony export */   withClosingBehaviorRaw: function() { return /* binding */ Dn; },\n/* harmony export */   withCloudStorage: function() { return /* binding */ Ln; },\n/* harmony export */   withCloudStorageRaw: function() { return /* binding */ Mn; },\n/* harmony export */   withHapticFeedback: function() { return /* binding */ Hn; },\n/* harmony export */   withHapticFeedbackRaw: function() { return /* binding */ $n; },\n/* harmony export */   withInitData: function() { return /* binding */ Wn; },\n/* harmony export */   withInitDataRaw: function() { return /* binding */ Un; },\n/* harmony export */   withInvoice: function() { return /* binding */ jn; },\n/* harmony export */   withInvoiceRaw: function() { return /* binding */ Gn; },\n/* harmony export */   withMainButton: function() { return /* binding */ Kn; },\n/* harmony export */   withMainButtonRaw: function() { return /* binding */ zn; },\n/* harmony export */   withMiniApp: function() { return /* binding */ Fn; },\n/* harmony export */   withMiniAppRaw: function() { return /* binding */ Jn; },\n/* harmony export */   withPopup: function() { return /* binding */ Yn; },\n/* harmony export */   withPopupRaw: function() { return /* binding */ Qn; },\n/* harmony export */   withQRScanner: function() { return /* binding */ Xn; },\n/* harmony export */   withQRScannerRaw: function() { return /* binding */ Zn; },\n/* harmony export */   withSettingsButton: function() { return /* binding */ er; },\n/* harmony export */   withSettingsButtonRaw: function() { return /* binding */ tr; },\n/* harmony export */   withSwipeBehavior: function() { return /* binding */ nr; },\n/* harmony export */   withSwipeBehaviorRaw: function() { return /* binding */ sr; },\n/* harmony export */   withThemeParams: function() { return /* binding */ ir; },\n/* harmony export */   withThemeParamsRaw: function() { return /* binding */ rr; },\n/* harmony export */   withTimeout: function() { return /* binding */ Nt; },\n/* harmony export */   withUtils: function() { return /* binding */ cr; },\n/* harmony export */   withUtilsRaw: function() { return /* binding */ ar; },\n/* harmony export */   withViewport: function() { return /* binding */ pr; },\n/* harmony export */   withViewportRaw: function() { return /* binding */ hr; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nvar ae = Object.defineProperty, ce = (e, t, s) => t in e ? ae(e, t, { enumerable: !0, configurable: !0, writable: !0, value: s }) : e[t] = s, c = (e, t, s) => (ce(e, typeof t != \"symbol\" ? t + \"\" : t, s), s);\nfunction St(e, t) {\n  let s;\n  const n = () => {\n    s !== void 0 && t && t(s), s = void 0;\n  };\n  return [() => s === void 0 ? s = e(n) : s, n];\n}\nfunction Rt(e) {\n  const t = j(), { count: s } = t;\n  t.unsubscribe(e), s && !t.count && Ce();\n}\nfunction he(e) {\n  return j().subscribe(e), () => Rt(e);\n}\nclass pe {\n  constructor(t, s = {}) {\n    this.scope = t, this.options = s;\n  }\n  /**\n   * Prints message into a console in case, logger is currently enabled.\n   * @param level - log level.\n   * @param args - arguments.\n   */\n  print(t, ...s) {\n    const n = /* @__PURE__ */ new Date(), r = Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      fractionalSecondDigits: 3,\n      timeZone: \"UTC\"\n    }).format(n), { textColor: i, bgColor: o } = this.options, a = \"font-weight: bold;padding: 0 5px;border-radius:5px\";\n    console[t](\n      `%c${r}%c / %c${this.scope}`,\n      `${a};background-color: lightblue;color:black`,\n      \"\",\n      `${a};${i ? `color:${i};` : \"\"}${o ? `background-color:${o}` : \"\"}`,\n      ...s\n    );\n  }\n  /**\n   * Prints error message into a console.\n   * @param args\n   */\n  error(...t) {\n    this.print(\"error\", ...t);\n  }\n  /**\n   * Prints log message into a console.\n   * @param args\n   */\n  log(...t) {\n    this.print(\"log\", ...t);\n  }\n}\nconst it = new pe(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\"\n});\nlet X = !1;\nconst mt = ({ name: e, payload: t }) => {\n  it.log(\"Event received:\", t ? { name: e, payload: t } : { name: e });\n};\nfunction ue(e) {\n  X !== e && (X = e, e ? he(mt) : Rt(mt));\n}\nfunction le(...e) {\n  X && it.log(...e);\n}\nclass D {\n  constructor() {\n    c(this, \"listeners\", /* @__PURE__ */ new Map()), c(this, \"listenersCount\", 0), c(this, \"subscribeListeners\", []);\n  }\n  /**\n   * Removes all event listeners.\n   */\n  clear() {\n    this.listeners.clear(), this.subscribeListeners = [];\n  }\n  /**\n   * Returns count of bound listeners.\n   */\n  get count() {\n    return this.listenersCount + this.subscribeListeners.length;\n  }\n  emit(t, ...s) {\n    this.subscribeListeners.forEach((n) => n({\n      event: t,\n      args: s\n    })), (this.listeners.get(t) || []).forEach(([n, r]) => {\n      n(...s), r && this.off(t, n);\n    });\n  }\n  /**\n   * Adds new event listener.\n   * @param event - event name.\n   * @param listener - event listener.\n   * @param once - should listener be called only once.\n   * @returns Function to remove bound event listener.\n   */\n  on(t, s, n) {\n    let r = this.listeners.get(t);\n    return r || this.listeners.set(t, r = []), r.push([s, n]), this.listenersCount += 1, () => this.off(t, s);\n  }\n  /**\n   * Removes event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param event - event name.\n   * @param listener - event listener.\n   */\n  off(t, s) {\n    const n = this.listeners.get(t) || [];\n    for (let r = 0; r < n.length; r += 1)\n      if (s === n[r][0]) {\n        n.splice(r, 1), this.listenersCount -= 1;\n        return;\n      }\n  }\n  /**\n   * Adds a new event listener for all events.\n   * @param listener - event listener.\n   * @returns Function to remove event listener.\n   */\n  subscribe(t) {\n    return this.subscribeListeners.push(t), () => this.unsubscribe(t);\n  }\n  /**\n   * Removes global event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param listener - event listener.\n   */\n  unsubscribe(t) {\n    for (let s = 0; s < this.subscribeListeners.length; s += 1)\n      if (this.subscribeListeners[s] === t) {\n        this.subscribeListeners.splice(s, 1);\n        return;\n      }\n  }\n}\nfunction tt(e, t, s) {\n  return window.addEventListener(e, t, s), () => window.removeEventListener(e, t, s);\n}\nfunction ot(...e) {\n  let t = !1;\n  const s = e.flat(1);\n  return [\n    (n) => !t && s.push(n),\n    () => {\n      t || (t = !0, s.forEach((n) => n()));\n    },\n    t\n  ];\n}\nclass W extends Error {\n  constructor(t, s, n) {\n    super(s, { cause: n }), this.type = t, Object.setPrototypeOf(this, W.prototype);\n  }\n}\nfunction b(e, t, s) {\n  return new W(e, t, s);\n}\nconst de = \"ERR_METHOD_UNSUPPORTED\", _e = \"ERR_METHOD_PARAMETER_UNSUPPORTED\", we = \"ERR_UNKNOWN_ENV\", ge = \"ERR_INVOKE_CUSTOM_METHOD_RESPONSE\", fe = \"ERR_TIMED_OUT\", be = \"ERR_UNEXPECTED_TYPE\", xt = \"ERR_PARSE\", me = \"ERR_NAVIGATION_LIST_EMPTY\", ve = \"ERR_NAVIGATION_CURSOR_INVALID\", bn = \"ERR_NAVIGATION_ITEM_INVALID\", mn = \"ERR_SSR_INIT\", ye = \"ERR_INVALID_PATH_BASE\";\nfunction T() {\n  return b(be, \"Value has unexpected type\");\n}\nclass G {\n  constructor(t, s, n) {\n    this.parser = t, this.isOptional = s, this.type = n;\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(t) {\n    if (!(this.isOptional && t === void 0))\n      try {\n        return this.parser(t);\n      } catch (s) {\n        throw b(\n          xt,\n          `Unable to parse value${this.type ? ` as ${this.type}` : \"\"}`,\n          s\n        );\n      }\n  }\n  optional() {\n    return this.isOptional = !0, this;\n  }\n}\nfunction A(e, t) {\n  return () => new G(e, !1, t);\n}\nconst E = A((e) => {\n  if (typeof e == \"boolean\")\n    return e;\n  const t = String(e);\n  if (t === \"1\" || t === \"true\")\n    return !0;\n  if (t === \"0\" || t === \"false\")\n    return !1;\n  throw T();\n}, \"boolean\");\nfunction Ct(e, t) {\n  const s = {};\n  for (const n in e) {\n    const r = e[n];\n    if (!r)\n      continue;\n    let i, o;\n    if (typeof r == \"function\" || \"parse\" in r)\n      i = n, o = typeof r == \"function\" ? r : r.parse.bind(r);\n    else {\n      const { type: a } = r;\n      i = r.from || n, o = typeof a == \"function\" ? a : a.parse.bind(a);\n    }\n    try {\n      const a = o(t(i));\n      a !== void 0 && (s[n] = a);\n    } catch (a) {\n      throw b(xt, `Unable to parse field \"${n}\"`, a);\n    }\n  }\n  return s;\n}\nfunction Tt(e) {\n  let t = e;\n  if (typeof t == \"string\" && (t = JSON.parse(t)), typeof t != \"object\" || t === null || Array.isArray(t))\n    throw T();\n  return t;\n}\nfunction v(e, t) {\n  return new G((s) => {\n    const n = Tt(s);\n    return Ct(e, (r) => n[r]);\n  }, !1, t);\n}\nconst R = A((e) => {\n  if (typeof e == \"number\")\n    return e;\n  if (typeof e == \"string\") {\n    const t = Number(e);\n    if (!Number.isNaN(t))\n      return t;\n  }\n  throw T();\n}, \"number\"), u = A((e) => {\n  if (typeof e == \"string\" || typeof e == \"number\")\n    return e.toString();\n  throw T();\n}, \"string\");\nfunction At(e) {\n  return v({\n    eventType: u(),\n    eventData: (t) => t\n  }).parse(e);\n}\nfunction Ee() {\n  [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((e) => {\n    delete window[e];\n  });\n}\nfunction et(e, t) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: e, eventData: t }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nfunction Pe() {\n  [\n    [\"TelegramGameProxy_receiveEvent\"],\n    // Windows Phone.\n    [\"TelegramGameProxy\", \"receiveEvent\"],\n    // Desktop.\n    [\"Telegram\", \"WebView\", \"receiveEvent\"]\n    // Android and iOS.\n  ].forEach((e) => {\n    let t = window;\n    e.forEach((s, n, r) => {\n      if (n === r.length - 1) {\n        t[s] = et;\n        return;\n      }\n      s in t || (t[s] = {}), t = t[s];\n    });\n  });\n}\nconst Se = {\n  clipboard_text_received: v({\n    req_id: u(),\n    data: (e) => e === null ? e : u().optional().parse(e)\n  }),\n  custom_method_invoked: v({\n    req_id: u(),\n    result: (e) => e,\n    error: u().optional()\n  }),\n  popup_closed: {\n    parse(e) {\n      return v({\n        button_id: (t) => t == null ? void 0 : u().parse(t)\n      }).parse(e ?? {});\n    }\n  },\n  viewport_changed: v({\n    height: R(),\n    width: (e) => e == null ? window.innerWidth : R().parse(e),\n    is_state_stable: E(),\n    is_expanded: E()\n  })\n};\nfunction Re() {\n  const e = new D(), t = new D();\n  t.subscribe((n) => {\n    e.emit(\"event\", { name: n.event, payload: n.args[0] });\n  }), Pe();\n  const [, s] = ot(\n    // Don't forget to remove created handlers.\n    Ee,\n    // Add \"resize\" event listener to make sure, we always have fresh viewport information.\n    // Desktop version of Telegram is sometimes not sending the viewport_changed\n    // event. For example, when the MainButton is shown. That's why we should\n    // add our own listener to make sure, viewport information is always fresh.\n    // Issue: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/10\n    tt(\"resize\", () => {\n      t.emit(\"viewport_changed\", {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        is_state_stable: !0,\n        is_expanded: !0\n      });\n    }),\n    // Add listener, which handles events sent from the Telegram web application and also events\n    // generated by the local emitEvent function.\n    tt(\"message\", (n) => {\n      if (n.source !== window.parent)\n        return;\n      let r;\n      try {\n        r = At(n.data);\n      } catch {\n        return;\n      }\n      const { eventType: i, eventData: o } = r, a = Se[i];\n      try {\n        const h = a ? a.parse(o) : o;\n        t.emit(...h ? [i, h] : [i]);\n      } catch (h) {\n        it.error(\n          `An error occurred processing the \"${i}\" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,\n          r,\n          h\n        );\n      }\n    }),\n    // Clear emitters.\n    () => e.clear(),\n    () => t.clear()\n  );\n  return [{\n    on: t.on.bind(t),\n    off: t.off.bind(t),\n    subscribe(n) {\n      return e.on(\"event\", n);\n    },\n    unsubscribe(n) {\n      e.off(\"event\", n);\n    },\n    get count() {\n      return t.count + e.count;\n    }\n  }, s];\n}\nconst [xe, Ce] = St(\n  (e) => {\n    const [t, s] = Re(), n = t.off.bind(t);\n    return t.off = (r, i) => {\n      const { count: o } = t;\n      n(r, i), o && !t.count && e();\n    }, [t, s];\n  },\n  ([, e]) => e()\n);\nfunction j() {\n  return xe()[0];\n}\nfunction z(e, t) {\n  j().off(e, t);\n}\nfunction y(e, t, s) {\n  return j().on(e, t, s);\n}\nfunction $(e) {\n  return typeof e == \"object\" && e !== null && !Array.isArray(e);\n}\nfunction Te(e, t) {\n  const s = e.split(\".\"), n = t.split(\".\"), r = Math.max(s.length, n.length);\n  for (let i = 0; i < r; i += 1) {\n    const o = parseInt(s[i] || \"0\", 10), a = parseInt(n[i] || \"0\", 10);\n    if (o !== a)\n      return o > a ? 1 : -1;\n  }\n  return 0;\n}\nfunction f(e, t) {\n  return Te(e, t) <= 0;\n}\nfunction x(e, t, s) {\n  if (typeof s == \"string\") {\n    if (e === \"web_app_open_link\") {\n      if (t === \"try_instant_view\")\n        return f(\"6.4\", s);\n      if (t === \"try_browser\")\n        return f(\"7.6\", s);\n    }\n    if (e === \"web_app_set_header_color\" && t === \"color\")\n      return f(\"6.9\", s);\n    if (e === \"web_app_close\" && t === \"return_back\")\n      return f(\"7.6\", s);\n  }\n  switch (e) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return f(\"6.1\", t);\n    case \"web_app_open_popup\":\n      return f(\"6.2\", t);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return f(\"6.4\", t);\n    case \"web_app_switch_inline_query\":\n      return f(\"6.7\", t);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return f(\"6.9\", t);\n    case \"web_app_setup_settings_button\":\n      return f(\"6.10\", t);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return f(\"7.2\", t);\n    case \"web_app_setup_swipe_behavior\":\n      return f(\"7.7\", t);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(e);\n  }\n}\nfunction kt(e) {\n  return \"external\" in e && $(e.external) && \"notify\" in e.external && typeof e.external.notify == \"function\";\n}\nfunction It(e) {\n  return \"TelegramWebviewProxy\" in e && $(e.TelegramWebviewProxy) && \"postEvent\" in e.TelegramWebviewProxy && typeof e.TelegramWebviewProxy.postEvent == \"function\";\n}\nfunction at() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nconst Ae = \"https://web.telegram.org\";\nlet Ot = Ae;\nfunction vn(e) {\n  Ot = e;\n}\nfunction ke() {\n  return Ot;\n}\nfunction B(e, t, s) {\n  let n = {}, r;\n  if (!t && !s ? n = {} : t && s ? (n = s, r = t) : t && (\"targetOrigin\" in t ? n = t : r = t), le(\"Posting event:\", r ? { event: e, data: r } : { event: e }), at())\n    return window.parent.postMessage(\n      JSON.stringify({ eventType: e, eventData: r }),\n      n.targetOrigin || ke()\n    );\n  if (kt(window)) {\n    window.external.notify(JSON.stringify({ eventType: e, eventData: r }));\n    return;\n  }\n  if (It(window)) {\n    window.TelegramWebviewProxy.postEvent(e, JSON.stringify(r));\n    return;\n  }\n  throw b(\n    we,\n    \"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.\"\n  );\n}\nfunction Ie(e) {\n  return (t, s) => {\n    if (!x(t, e))\n      throw b(de, `Method \"${t}\" is unsupported in Mini Apps version ${e}`);\n    if ($(s) && t === \"web_app_set_header_color\" && \"color\" in s && !x(t, \"color\", e))\n      throw b(\n        _e,\n        `Parameter \"color\" of \"${t}\" method is unsupported in Mini Apps version ${e}`\n      );\n    return B(t, s);\n  };\n}\nfunction qt(e) {\n  return ({ req_id: t }) => t === e;\n}\nfunction Vt(e) {\n  return b(fe, `Timeout reached: ${e}ms`);\n}\nfunction Nt(e, t) {\n  return Promise.race([\n    typeof e == \"function\" ? e() : e,\n    new Promise((s, n) => {\n      setTimeout(() => {\n        n(Vt(t));\n      }, t);\n    })\n  ]);\n}\nasync function w(e) {\n  let t;\n  const s = new Promise((a) => t = a), { event: n, capture: r, timeout: i } = e, [, o] = ot(\n    // We need to iterate over all tracked events, and create their event listeners.\n    (Array.isArray(n) ? n : [n]).map((a) => y(a, (h) => {\n      (!r || (Array.isArray(n) ? r({\n        event: a,\n        payload: h\n      }) : r(h))) && t(h);\n    }))\n  );\n  try {\n    return (e.postEvent || B)(e.method, e.params), await (i ? Nt(s, i) : s);\n  } finally {\n    o();\n  }\n}\nasync function V(e, t, s, n = {}) {\n  const {\n    result: r,\n    error: i\n  } = await w({\n    ...n,\n    method: \"web_app_invoke_custom_method\",\n    event: \"custom_method_invoked\",\n    params: {\n      method: e,\n      params: t,\n      req_id: s\n    },\n    capture: qt(s)\n  });\n  if (i)\n    throw b(ge, i);\n  return r;\n}\nfunction st(...e) {\n  return e.map((t) => {\n    if (typeof t == \"string\")\n      return t;\n    if ($(t))\n      return st(Object.entries(t).map((s) => s[1] && s[0]));\n    if (Array.isArray(t))\n      return st(...t);\n  }).filter(Boolean).join(\" \");\n}\nfunction yn(...e) {\n  return e.reduce((t, s) => ($(s) && Object.entries(s).forEach(([n, r]) => {\n    const i = st(t[n], r);\n    i.length && (t[n] = i);\n  }), t), {});\n}\nfunction ct(e) {\n  return /^#[\\da-f]{6}$/i.test(e);\n}\nfunction Oe(e) {\n  return /^#[\\da-f]{3}$/i.test(e);\n}\nfunction Dt(e) {\n  const t = e.replace(/\\s/g, \"\").toLowerCase();\n  if (ct(t))\n    return t;\n  if (Oe(t)) {\n    let n = \"#\";\n    for (let r = 0; r < 3; r += 1)\n      n += t[1 + r].repeat(2);\n    return n;\n  }\n  const s = t.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || t.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!s)\n    throw new Error(`Value \"${e}\" does not satisfy any of known RGB formats.`);\n  return s.slice(1).reduce((n, r) => {\n    const i = parseInt(r, 10).toString(16);\n    return n + (i.length === 1 ? \"0\" : \"\") + i;\n  }, \"#\");\n}\nfunction Bt(e) {\n  const t = Dt(e);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((s, n, r) => {\n      const i = parseInt(t.slice(1 + r * 2, 1 + (r + 1) * 2), 16);\n      return s + i * i * n;\n    }, 0)\n  ) < 120;\n}\nclass qe {\n  constructor(t) {\n    c(this, \"ee\", new D()), c(this, \"on\", this.ee.on.bind(this.ee)), c(this, \"off\", this.ee.off.bind(this.ee)), this.state = t;\n  }\n  /**\n   * Clones current state and returns its copy.\n   */\n  clone() {\n    return { ...this.state };\n  }\n  set(t, s) {\n    Object.entries(typeof t == \"string\" ? { [t]: s } : t).reduce((n, [r, i]) => this.state[r] === i || i === void 0 ? n : (this.state[r] = i, this.ee.emit(`change:${r}`, i), !0), !1) && this.ee.emit(\"change\", this.state);\n  }\n  /**\n   * Returns value by specified key.\n   * @param key - state key.\n   */\n  get(t) {\n    return this.state[t];\n  }\n}\nclass ht {\n  constructor(t) {\n    c(this, \"state\"), c(this, \"get\"), c(this, \"set\"), c(this, \"clone\"), this.state = new qe(t), this.set = this.state.set.bind(this.state), this.get = this.state.get.bind(this.state), this.clone = this.state.clone.bind(this.state);\n  }\n}\nfunction Mt(e, t) {\n  return (s) => x(t[s], e);\n}\nclass pt extends ht {\n  constructor(t, s, n) {\n    super(t), c(this, \"supports\"), this.supports = Mt(s, n);\n  }\n}\nclass Ve extends pt {\n  constructor(t, s, n) {\n    super({ isVisible: t }, s, {\n      show: \"web_app_setup_back_button\",\n      hide: \"web_app_setup_back_button\"\n    }), c(this, \"on\", (r, i) => r === \"click\" ? y(\"back_button_pressed\", i) : this.state.on(r, i)), c(this, \"off\", (r, i) => r === \"click\" ? z(\"back_button_pressed\", i) : this.state.off(r, i)), this.postEvent = n;\n  }\n  set isVisible(t) {\n    this.set(\"isVisible\", t), this.postEvent(\"web_app_setup_back_button\", { is_visible: t });\n  }\n  /**\n   * True if BackButton is currently visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the BackButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the BackButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst Lt = A((e) => e instanceof Date ? e : new Date(R().parse(e) * 1e3), \"Date\");\nfunction ut(e, t) {\n  return new G((s) => {\n    if (typeof s != \"string\" && !(s instanceof URLSearchParams))\n      throw T();\n    const n = typeof s == \"string\" ? new URLSearchParams(s) : s;\n    return Ct(e, (r) => {\n      const i = n.get(r);\n      return i === null ? void 0 : i;\n    });\n  }, !1, t);\n}\nconst Ne = v({\n  id: R(),\n  type: u(),\n  title: u(),\n  photoUrl: {\n    type: u().optional(),\n    from: \"photo_url\"\n  },\n  username: u().optional()\n}, \"Chat\").optional(), vt = v({\n  addedToAttachmentMenu: {\n    type: E().optional(),\n    from: \"added_to_attachment_menu\"\n  },\n  allowsWriteToPm: {\n    type: E().optional(),\n    from: \"allows_write_to_pm\"\n  },\n  firstName: {\n    type: u(),\n    from: \"first_name\"\n  },\n  id: R(),\n  isBot: {\n    type: E().optional(),\n    from: \"is_bot\"\n  },\n  isPremium: {\n    type: E().optional(),\n    from: \"is_premium\"\n  },\n  languageCode: {\n    type: u().optional(),\n    from: \"language_code\"\n  },\n  lastName: {\n    type: u().optional(),\n    from: \"last_name\"\n  },\n  photoUrl: {\n    type: u().optional(),\n    from: \"photo_url\"\n  },\n  username: u().optional()\n}, \"User\").optional();\nfunction $t() {\n  return ut({\n    authDate: {\n      type: Lt(),\n      from: \"auth_date\"\n    },\n    canSendAfter: {\n      type: R().optional(),\n      from: \"can_send_after\"\n    },\n    chat: Ne,\n    chatInstance: {\n      type: u().optional(),\n      from: \"chat_instance\"\n    },\n    chatType: {\n      type: u().optional(),\n      from: \"chat_type\"\n    },\n    hash: u(),\n    queryId: {\n      type: u().optional(),\n      from: \"query_id\"\n    },\n    receiver: vt,\n    startParam: {\n      type: u().optional(),\n      from: \"start_param\"\n    },\n    user: vt\n  }, \"InitData\");\n}\nconst De = A((e) => Dt(u().parse(e)), \"rgb\");\nfunction Be(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction Me(e) {\n  return e.replace(/[A-Z]/g, (t) => `_${t.toLowerCase()}`);\n}\nconst Ht = A(\n  (e) => {\n    const t = De().optional();\n    return Object.entries(Tt(e)).reduce((s, [n, r]) => (s[Be(n)] = t.parse(r), s), {});\n  },\n  \"ThemeParams\"\n);\nfunction lt(e) {\n  return ut({\n    botInline: {\n      type: E().optional(),\n      from: \"tgWebAppBotInline\"\n    },\n    initData: {\n      type: $t().optional(),\n      from: \"tgWebAppData\"\n    },\n    initDataRaw: {\n      type: u().optional(),\n      from: \"tgWebAppData\"\n    },\n    platform: {\n      type: u(),\n      from: \"tgWebAppPlatform\"\n    },\n    showSettings: {\n      type: E().optional(),\n      from: \"tgWebAppShowSettings\"\n    },\n    startParam: {\n      type: u().optional(),\n      from: \"tgWebAppStartParam\"\n    },\n    themeParams: {\n      type: Ht(),\n      from: \"tgWebAppThemeParams\"\n    },\n    version: {\n      type: u(),\n      from: \"tgWebAppVersion\"\n    }\n  }).parse(e);\n}\nfunction Ut(e) {\n  return lt(\n    e.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\")\n  );\n}\nfunction Le() {\n  return Ut(window.location.href);\n}\nfunction Wt() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction $e() {\n  const e = Wt();\n  if (!e)\n    throw new Error(\"Unable to get first navigation entry.\");\n  return Ut(e.name);\n}\nfunction Gt(e) {\n  return `telegram-apps/${e.replace(/[A-Z]/g, (t) => `-${t.toLowerCase()}`)}`;\n}\nfunction jt(e, t) {\n  sessionStorage.setItem(Gt(e), JSON.stringify(t));\n}\nfunction zt(e) {\n  const t = sessionStorage.getItem(Gt(e));\n  try {\n    return t ? JSON.parse(t) : void 0;\n  } catch {\n  }\n}\nfunction He() {\n  return lt(zt(\"launchParams\") || \"\");\n}\nfunction Kt(e) {\n  return JSON.stringify(\n    Object.fromEntries(\n      Object.entries(e).map(([t, s]) => [Me(t), s])\n    )\n  );\n}\nfunction Ue(e) {\n  const {\n    initDataRaw: t,\n    themeParams: s,\n    platform: n,\n    version: r,\n    showSettings: i,\n    startParam: o,\n    botInline: a\n  } = e, h = new URLSearchParams();\n  return h.set(\"tgWebAppPlatform\", n), h.set(\"tgWebAppThemeParams\", Kt(s)), h.set(\"tgWebAppVersion\", r), t && h.set(\"tgWebAppData\", t), o && h.set(\"tgWebAppStartParam\", o), typeof i == \"boolean\" && h.set(\"tgWebAppShowSettings\", i ? \"1\" : \"0\"), typeof a == \"boolean\" && h.set(\"tgWebAppBotInline\", a ? \"1\" : \"0\"), h.toString();\n}\nfunction Jt(e) {\n  jt(\"launchParams\", Ue(e));\n}\nfunction nt() {\n  const e = [];\n  for (const t of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed, and then the page was reloaded.\n    Le,\n    // Then, try using the lower level API - window.performance.\n    $e,\n    // Finally, try to extract launch parameters from the session storage.\n    He\n  ])\n    try {\n      const s = t();\n      return Jt(s), s;\n    } catch (s) {\n      e.push(s instanceof Error ? s.message : JSON.stringify(s));\n    }\n  throw new Error([\n    `Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\n`,\n    \" Refer to docs for more information:\",\n    `https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment\n`,\n    \"Collected errors:\",\n    e.map((t) => ` ${t}`)\n  ].join(`\n`));\n}\nfunction Ft() {\n  const e = Wt();\n  return !!(e && e.type === \"reload\");\n}\nfunction We() {\n  let e = 0;\n  return () => (e += 1).toString();\n}\nconst [Ge] = St(We);\nfunction l(e, t) {\n  return () => {\n    const s = nt(), n = {\n      ...s,\n      postEvent: Ie(s.version),\n      createRequestId: Ge()\n    };\n    if (typeof e == \"function\")\n      return e(n);\n    const [r, i, o] = ot(), a = t({\n      ...n,\n      // State should only be passed only in case, current page was reloaded. If we don't add\n      // this check, state restoration will work improperly in the web version of Telegram,\n      // when we are always working in the same \"session\" (tab).\n      state: Ft() ? zt(e) : void 0,\n      addCleanup: r\n    }), h = (p) => (o || r(\n      p.on(\"change\", (C) => {\n        jt(e, C);\n      })\n    ), p);\n    return [\n      a instanceof Promise ? a.then(h) : h(a),\n      i\n    ];\n  };\n}\nconst je = l(\"backButton\", ({\n  postEvent: e,\n  version: t,\n  state: s = { isVisible: !1 }\n}) => new Ve(s.isVisible, t, e));\nclass k extends pt {\n  constructor() {\n    super(...arguments), c(this, \"on\", this.state.on.bind(this.state)), c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nfunction Qt(e) {\n  const t = e.available ? e : {\n    available: !1,\n    device_id: \"\",\n    token_saved: !1,\n    access_requested: !1,\n    access_granted: !1,\n    type: \"\"\n  };\n  return {\n    available: !0,\n    type: t.type,\n    deviceId: t.device_id,\n    tokenSaved: t.token_saved,\n    accessRequested: t.access_requested,\n    accessGranted: t.access_granted\n  };\n}\nclass ze extends k {\n  constructor({ postEvent: t, version: s, ...n }) {\n    super(n, s, {\n      auth: \"web_app_biometry_request_auth\",\n      openSettings: \"web_app_biometry_open_settings\",\n      requestAccess: \"web_app_biometry_request_access\",\n      updateToken: \"web_app_biometry_update_token\"\n    }), c(this, \"postEvent\"), c(this, \"authPromise\"), c(this, \"accessPromise\"), this.postEvent = t;\n  }\n  /**\n   * Shows whether biometry is available.\n   */\n  get available() {\n    return this.get(\"available\");\n  }\n  /**\n   * Shows whether permission to use biometrics has been granted.\n   */\n  get accessGranted() {\n    return this.get(\"accessGranted\");\n  }\n  /**\n   * Shows whether if permission to use biometrics has been requested.\n   */\n  get accessRequested() {\n    return this.get(\"accessRequested\");\n  }\n  /**\n   * Authenticates the user using biometrics.\n   * @param options - method options.\n   * @since 7.2\n   * @returns Token from the local secure storage, if authentication was successful.\n   */\n  async authenticate({\n    reason: t,\n    ...s\n  }) {\n    return this.authPromise || (this.authPromise = w({\n      ...s,\n      method: \"web_app_biometry_request_auth\",\n      event: \"biometry_auth_requested\",\n      postEvent: this.postEvent,\n      params: {\n        // TODO: Check if reason is empty works fine.\n        reason: (t || \"\").trim()\n      }\n    }).then(({ token: n }) => n).finally(() => this.authPromise = void 0)), this.authPromise;\n  }\n  /**\n   * A unique device identifier that can be used to match the token to the device.\n   */\n  get deviceId() {\n    return this.get(\"deviceId\");\n  }\n  /**\n   * Opens the biometric access settings for bots. Useful when you need to request biometrics\n   * access to users who haven't granted it yet.\n   *\n   * _Note that this method can be called only in response to user interaction with the Mini App\n   * interface (e.g. a click inside the Mini App or on the main button)_.\n   * @since 7.2\n   */\n  openSettings() {\n    this.postEvent(\"web_app_biometry_open_settings\");\n  }\n  /**\n   * Requests permission to use biometrics.\n   * @since 7.2\n   * @returns Promise with true, if access was granted.\n   */\n  requestAccess({ reason: t, ...s } = {}) {\n    return this.accessPromise || (this.accessPromise = w({\n      ...s,\n      postEvent: this.postEvent,\n      method: \"web_app_biometry_request_access\",\n      event: \"biometry_info_received\",\n      params: { reason: t || \"\" }\n    }).then((n) => {\n      const r = Qt(n);\n      return this.set(r), r.accessGranted;\n    }).finally(() => this.accessPromise = void 0)), this.accessPromise;\n  }\n  /**\n   * The type of biometrics currently available on the device.\n   */\n  get biometryType() {\n    return this.get(\"biometryType\");\n  }\n  /**\n   * Shows whether token was saved previously in the local secure storage.\n   */\n  get tokenSaved() {\n    return this.get(\"tokenSaved\");\n  }\n  /**\n   * Updates the biometric token in a secure storage on the device.\n   * @returns Promise with `true`, if token was updated.\n   */\n  async updateToken({ token: t, ...s } = {}) {\n    return [\"removed\", \"updated\"].includes(\n      (await w({\n        ...s,\n        postEvent: this.postEvent,\n        method: \"web_app_biometry_update_token\",\n        event: \"biometry_token_updated\",\n        params: { token: t || \"\" }\n      })).status\n    );\n  }\n}\nasync function Ke(e) {\n  return Qt(\n    await w({\n      ...e || {},\n      method: \"web_app_biometry_get_info\",\n      event: \"biometry_info_received\"\n    })\n  );\n}\nconst Je = l(\n  \"biometryManager\",\n  async ({ postEvent: e, version: t, state: s }) => new ze({\n    ...s || x(\"web_app_biometry_get_info\", t) ? s || await Ke({ timeout: 1e3 }) : {\n      available: !1,\n      accessGranted: !1,\n      accessRequested: !1,\n      tokenSaved: !1,\n      deviceId: \"\"\n    },\n    version: t,\n    postEvent: e\n  })\n);\nclass dt extends ht {\n  constructor() {\n    super(...arguments), c(this, \"on\", this.state.on.bind(this.state)), c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nclass Fe extends dt {\n  constructor(t, s) {\n    super({ isConfirmationNeeded: t }), this.postEvent = s;\n  }\n  set isConfirmationNeeded(t) {\n    this.set(\"isConfirmationNeeded\", t), this.postEvent(\"web_app_setup_closing_behavior\", { need_confirmation: t });\n  }\n  /**\n   * True, if the confirmation dialog should be shown while the user is trying to close\n   * the Mini App.\n   */\n  get isConfirmationNeeded() {\n    return this.get(\"isConfirmationNeeded\");\n  }\n  /**\n   * Disables the confirmation dialog when closing the Mini App.\n   */\n  disableConfirmation() {\n    this.isConfirmationNeeded = !1;\n  }\n  /**\n   * Enables the confirmation dialog when closing the Mini App.\n   */\n  enableConfirmation() {\n    this.isConfirmationNeeded = !0;\n  }\n}\nconst Qe = l(\n  \"closingBehavior\",\n  ({\n    postEvent: e,\n    state: t = { isConfirmationNeeded: !1 }\n  }) => new Fe(t.isConfirmationNeeded, e)\n);\nclass _t {\n  constructor(t, s) {\n    c(this, \"supports\"), this.supports = Mt(t, s);\n  }\n}\nfunction Ye(e) {\n  if (Array.isArray(e))\n    return e;\n  if (typeof e == \"string\")\n    try {\n      const t = JSON.parse(e);\n      if (Array.isArray(t))\n        return t;\n    } catch {\n    }\n  throw T();\n}\nclass Ze extends G {\n  constructor(t, s, n) {\n    super(Ye, s, n), c(this, \"itemParser\"), this.itemParser = typeof t == \"function\" ? t : t.parse.bind(t);\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(t) {\n    const s = super.parse(t);\n    return s === void 0 ? s : s.map(this.itemParser);\n  }\n  of(t) {\n    return this.itemParser = typeof t == \"function\" ? t : t.parse.bind(t), this;\n  }\n}\nfunction Xe(e) {\n  return new Ze((t) => t, !1, e);\n}\nfunction yt(e, t) {\n  return Object.fromEntries(e.map((s) => [s, t]));\n}\nclass ts extends _t {\n  constructor(t, s, n) {\n    super(t, {\n      delete: \"web_app_invoke_custom_method\",\n      get: \"web_app_invoke_custom_method\",\n      getKeys: \"web_app_invoke_custom_method\",\n      set: \"web_app_invoke_custom_method\"\n    }), this.createRequestId = s, this.postEvent = n;\n  }\n  /**\n   * Deletes specified key or keys from the cloud storage.\n   * @param keyOrKeys - key or keys to delete.\n   * @param options - request execution options.\n   */\n  async delete(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    n.length && await V(\n      \"deleteStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    );\n  }\n  /**\n   * Returns list of all keys presented in the cloud storage.\n   * @param options - request execution options.\n   */\n  async getKeys(t = {}) {\n    return Xe().of(u()).parse(\n      await V(\n        \"getStorageKeys\",\n        {},\n        this.createRequestId(),\n        { ...t, postEvent: this.postEvent }\n      )\n    );\n  }\n  async get(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    if (!n.length)\n      return yt(n, \"\");\n    const r = await V(\n      \"getStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    ), i = v(yt(n, u()), \"CloudStorageData\").parse(r);\n    return Array.isArray(t) ? i : i[t];\n  }\n  /**\n   * Saves specified value by key.\n   * @param key - storage key.\n   * @param value - storage value.\n   * @param options - request execution options.\n   */\n  async set(t, s, n = {}) {\n    await V(\n      \"saveStorageValue\",\n      { key: t, value: s },\n      this.createRequestId(),\n      { ...n, postEvent: this.postEvent }\n    );\n  }\n}\nconst es = l(\n  ({ createRequestId: e, postEvent: t, version: s }) => new ts(s, e, t)\n);\nclass ss extends _t {\n  constructor(t, s) {\n    super(t, {\n      impactOccurred: \"web_app_trigger_haptic_feedback\",\n      notificationOccurred: \"web_app_trigger_haptic_feedback\",\n      selectionChanged: \"web_app_trigger_haptic_feedback\"\n    }), this.postEvent = s;\n  }\n  /**\n   * A method tells that an impact occurred. The Telegram app may play the\n   * appropriate haptics based on style value passed.\n   * @param style - impact style.\n   */\n  impactOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"impact\",\n      impact_style: t\n    });\n  }\n  /**\n   * A method tells that a task or action has succeeded, failed, or produced\n   * a warning. The Telegram app may play the appropriate haptics based on\n   * type value passed.\n   * @param type - notification type.\n   */\n  notificationOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"notification\",\n      notification_type: t\n    });\n  }\n  /**\n   * A method tells that the user has changed a selection. The Telegram app\n   * may play the appropriate haptics.\n   *\n   * Do not use this feedback when the user makes or confirms a selection;\n   * use it only when the selection changes.\n   */\n  selectionChanged() {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", { type: \"selection_change\" });\n  }\n}\nconst ns = l(\n  ({ version: e, postEvent: t }) => new ss(e, t)\n);\nclass rs {\n  constructor(t) {\n    this.initData = t;\n  }\n  /**\n   * @see InitDataParsed.authDate\n   */\n  get authDate() {\n    return this.initData.authDate;\n  }\n  /**\n   * @see InitDataParsed.canSendAfter\n   */\n  get canSendAfter() {\n    return this.initData.canSendAfter;\n  }\n  /**\n   * Date after which it is allowed to call\n   * the [answerWebAppQuery](https://core.telegram.org/bots/api#answerwebappquery) method.\n   */\n  get canSendAfterDate() {\n    const { canSendAfter: t } = this;\n    return t ? new Date(this.authDate.getTime() + t * 1e3) : void 0;\n  }\n  /**\n   * @see InitDataParsed.chat\n   */\n  get chat() {\n    return this.initData.chat;\n  }\n  /**\n   * @see InitDataParsed.chatType\n   */\n  get chatType() {\n    return this.initData.chatType;\n  }\n  /**\n   * @see InitDataParsed.chatInstance\n   */\n  get chatInstance() {\n    return this.initData.chatInstance;\n  }\n  /**\n   * @see InitDataParsed.hash\n   */\n  get hash() {\n    return this.initData.hash;\n  }\n  /**\n   * @see InitDataParsed.queryId\n   */\n  get queryId() {\n    return this.initData.queryId;\n  }\n  /**\n   * @see InitDataParsed.receiver\n   */\n  get receiver() {\n    return this.initData.receiver;\n  }\n  /**\n   * @see InitDataParsed.startParam\n   */\n  get startParam() {\n    return this.initData.startParam;\n  }\n  /**\n   * @see InitDataParsed.user\n   */\n  get user() {\n    return this.initData.user;\n  }\n}\nconst is = l(\n  ({ initData: e }) => e ? new rs(e) : void 0\n);\nfunction En(e) {\n  return $t().parse(e);\n}\nclass os extends k {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_invoice\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if invoice is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(t, s) {\n    if (this.isOpened)\n      throw new Error(\"Invoice is already opened\");\n    let n;\n    if (!s)\n      n = t;\n    else {\n      const { hostname: r, pathname: i } = new URL(t, window.location.href);\n      if (r !== \"t.me\")\n        throw new Error(`Incorrect hostname: ${r}`);\n      const o = i.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n      if (!o)\n        throw new Error('Link pathname has incorrect format. Expected to receive \"/invoice/{slug}\" or \"/${slug}\"');\n      [, , n] = o;\n    }\n    this.isOpened = !0;\n    try {\n      return (await w({\n        method: \"web_app_open_invoice\",\n        event: \"invoice_closed\",\n        params: { slug: n },\n        postEvent: this.postEvent,\n        capture(r) {\n          return n === r.slug;\n        }\n      })).status;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst as = l(\n  ({ version: e, postEvent: t }) => new os(!1, e, t)\n);\nclass cs extends ht {\n  constructor({ postEvent: t, ...s }) {\n    super(s), c(this, \"postEvent\"), c(this, \"on\", (n, r) => n === \"click\" ? y(\"main_button_pressed\", r) : this.state.on(n, r)), c(this, \"off\", (n, r) => n === \"click\" ? z(\"main_button_pressed\", r) : this.state.off(n, r)), this.postEvent = t;\n  }\n  /**\n   * The MainButton background color.\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Sends current local state to the Telegram application.\n   */\n  commit() {\n    this.text !== \"\" && this.postEvent(\"web_app_setup_main_button\", {\n      is_visible: this.isVisible,\n      is_active: this.isEnabled,\n      is_progress_visible: this.isLoaderVisible,\n      text: this.text,\n      color: this.bgColor,\n      text_color: this.textColor\n    });\n  }\n  /**\n   * Disables the MainButton.\n   * @see Does not work on Android: https://github.com/Telegram-Mini-Apps/issues/issues/1\n   */\n  disable() {\n    return this.isEnabled = !1, this;\n  }\n  /**\n   * Enables the MainButton.\n   */\n  enable() {\n    return this.isEnabled = !0, this;\n  }\n  /**\n   * Hides the MainButton.\n   */\n  hide() {\n    return this.isVisible = !1, this;\n  }\n  /**\n   * Hides the MainButton loading indicator.\n   */\n  hideLoader() {\n    return this.isLoaderVisible = !1, this;\n  }\n  set isEnabled(t) {\n    this.setParams({ isEnabled: t });\n  }\n  /**\n   * True if the MainButton is enabled.\n   */\n  get isEnabled() {\n    return this.get(\"isEnabled\");\n  }\n  set isLoaderVisible(t) {\n    this.setParams({ isLoaderVisible: t });\n  }\n  /**\n   * True if the MainButton loader is visible.\n   */\n  get isLoaderVisible() {\n    return this.get(\"isLoaderVisible\");\n  }\n  set isVisible(t) {\n    this.setParams({ isVisible: t });\n  }\n  /**\n   * True if the MainButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Shows the MainButton.\n   *\n   * Note that opening the Mini App from the attachment menu hides the main button until the\n   * user interacts with the Mini App interface.\n   */\n  show() {\n    return this.isVisible = !0, this;\n  }\n  /**\n   * Shows a loading indicator on the Main Button.\n   */\n  showLoader() {\n    return this.isLoaderVisible = !0, this;\n  }\n  /**\n   * Sets a new MainButton text. Minimal length for the text is 1 symbol, and maximum is 64 symbols.\n   * @param text - a new text.\n   */\n  setText(t) {\n    return this.setParams({ text: t });\n  }\n  /**\n   * Sets a new Main Button text color.\n   * @param textColor - new text color.\n   */\n  setTextColor(t) {\n    return this.setParams({ textColor: t });\n  }\n  /**\n   * Updates current Main Button color.\n   * @param bgColor - color to set.\n   */\n  setBgColor(t) {\n    return this.setParams({ bgColor: t });\n  }\n  /**\n   * Allows setting multiple Main Button parameters.\n   * @param params - Main Button parameters.\n   */\n  setParams(t) {\n    return this.set(t), this.commit(), this;\n  }\n  /**\n   * The MainButton text.\n   */\n  get text() {\n    return this.get(\"text\");\n  }\n  /**\n   * The MainButton text color.\n   */\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst hs = l(\n  \"mainButton\",\n  ({\n    postEvent: e,\n    themeParams: t,\n    state: s = {\n      isVisible: !1,\n      isEnabled: !1,\n      text: \"\",\n      isLoaderVisible: !1,\n      textColor: t.buttonTextColor || \"#ffffff\",\n      bgColor: t.buttonColor || \"#000000\"\n    }\n  }) => new cs({ ...s, postEvent: e })\n);\nfunction ps() {\n  return ut({\n    contact: v({\n      userId: {\n        type: R(),\n        from: \"user_id\"\n      },\n      phoneNumber: {\n        type: u(),\n        from: \"phone_number\"\n      },\n      firstName: {\n        type: u(),\n        from: \"first_name\"\n      },\n      lastName: {\n        type: u().optional(),\n        from: \"last_name\"\n      }\n    }),\n    authDate: {\n      type: Lt(),\n      from: \"auth_date\"\n    },\n    hash: u()\n  }, \"RequestedContact\");\n}\nfunction Yt(e, t) {\n  return (s) => {\n    const [n, r] = t[s];\n    return x(n, r, e);\n  };\n}\nfunction us(e) {\n  return new Promise((t) => {\n    setTimeout(t, e);\n  });\n}\nclass ls extends k {\n  constructor({ postEvent: t, createRequestId: s, version: n, botInline: r, ...i }) {\n    super(i, n, {\n      requestPhoneAccess: \"web_app_request_phone\",\n      requestWriteAccess: \"web_app_request_write_access\",\n      switchInlineQuery: \"web_app_switch_inline_query\",\n      setHeaderColor: \"web_app_set_header_color\",\n      setBackgroundColor: \"web_app_set_background_color\"\n    }), c(this, \"botInline\"), c(this, \"postEvent\"), c(this, \"createRequestId\"), c(this, \"requestPhoneAccessPromise\"), c(this, \"requestWriteAccessPromise\"), c(this, \"supportsParam\"), this.createRequestId = s, this.postEvent = t, this.botInline = r;\n    const o = this.supports.bind(this);\n    this.supports = (a) => o(a) ? a !== \"switchInlineQuery\" || r : !1, this.supportsParam = Yt(n, {\n      \"setHeaderColor.color\": [\"web_app_set_header_color\", \"color\"],\n      \"close.returnBack\": [\"web_app_close\", \"return_back\"]\n    });\n  }\n  /**\n   * Attempts to get requested contact.\n   * @param timeout - request timeout.\n   */\n  async getRequestedContact({\n    timeout: t = 1e4\n  } = {}) {\n    return ps().parse(\n      await V(\n        \"getRequestedContact\",\n        {},\n        this.createRequestId(),\n        { postEvent: this.postEvent, timeout: t }\n      )\n    );\n  }\n  /**\n   * The Mini App background color.\n   * @example \"#ffaabb\"\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Closes the Mini App.\n   * @param returnBack - should the application be wrapped into the bottom bar.\n   */\n  close(t) {\n    this.postEvent(\"web_app_close\", this.supportsParam(\"close.returnBack\") ? { return_back: t } : {});\n  }\n  /**\n   * The Mini App header color.\n   * @example \"#ffaabb\"\n   * @example \"bg_color\"\n   */\n  get headerColor() {\n    return this.get(\"headerColor\");\n  }\n  /**\n   * True if the Mini App is currently launched in bot inline mode.\n   */\n  get isBotInline() {\n    return this.botInline;\n  }\n  /**\n   * True if the current Mini App background color is recognized as dark.\n   */\n  get isDark() {\n    return Bt(this.bgColor);\n  }\n  /**\n   * Informs the Telegram app that the Mini App is ready to be displayed.\n   *\n   * It is recommended to call this method as early as possible, as soon as all essential\n   * interface elements loaded. Once this method called, the loading placeholder is hidden\n   * and the Mini App shown.\n   *\n   * If the method not called, the placeholder will be hidden only when the page fully loaded.\n   */\n  ready() {\n    this.postEvent(\"web_app_ready\");\n  }\n  /**\n   * Requests current user contact information. In contrary to requestPhoneAccess, this method\n   * returns promise with contact information that rejects in case, user denied access, or request\n   * failed.\n   * @param options - additional options.\n   */\n  async requestContact({ timeout: t = 5e3 } = {}) {\n    try {\n      return await this.getRequestedContact();\n    } catch {\n    }\n    if (await this.requestPhoneAccess() !== \"sent\")\n      throw new Error(\"Access denied.\");\n    const s = Date.now() + t;\n    let n = 50;\n    return Nt(async () => {\n      for (; Date.now() < s; ) {\n        try {\n          return await this.getRequestedContact();\n        } catch {\n        }\n        await us(n), n += 50;\n      }\n      throw Vt(t);\n    }, t);\n  }\n  /**\n   * Requests current user phone access. Method returns promise, which resolves\n   * status of the request. In case, user accepted the request, Mini App bot will receive\n   * the according notification.\n   *\n   * To obtain the retrieved information instead, utilize the `requestContact` method.\n   * @param options - additional options.\n   * @see requestContact\n   */\n  async requestPhoneAccess(t = {}) {\n    return this.requestPhoneAccessPromise || (this.requestPhoneAccessPromise = w({\n      ...t,\n      method: \"web_app_request_phone\",\n      event: \"phone_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: s }) => s).finally(() => this.requestPhoneAccessPromise = void 0)), this.requestPhoneAccessPromise;\n  }\n  /**\n   * Requests write message access to current user.\n   * @param options - additional options.\n   */\n  async requestWriteAccess(t = {}) {\n    return this.requestWriteAccessPromise || (this.requestWriteAccessPromise = w({\n      ...t,\n      method: \"web_app_request_write_access\",\n      event: \"write_access_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: s }) => s).finally(() => this.requestWriteAccessPromise = void 0)), this.requestWriteAccessPromise;\n  }\n  /**\n   * A method used to send data to the bot. When this method called, a service message sent to\n   * the bot containing the data of the length up to 4096 bytes, and the Mini App closed. See the\n   * field `web_app_data` in the class [Message](https://core.telegram.org/bots/api#message).\n   *\n   * This method is only available for Mini Apps launched via a Keyboard button.\n   * @param data - data to send to bot.\n   * @throws {Error} data has incorrect size.\n   */\n  sendData(t) {\n    const { size: s } = new Blob([t]);\n    if (!s || s > 4096)\n      throw new Error(`Passed data has incorrect size: ${s}`);\n    this.postEvent(\"web_app_data_send\", { data: t });\n  }\n  /**\n   * Updates current Mini App header color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - color key or RGB color.\n   */\n  setHeaderColor(t) {\n    this.postEvent(\"web_app_set_header_color\", ct(t) ? { color: t } : { color_key: t }), this.set(\"headerColor\", t);\n  }\n  /**\n   * Updates current Mini App background color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - RGB color.\n   */\n  setBgColor(t) {\n    this.postEvent(\"web_app_set_background_color\", { color: t }), this.set(\"bgColor\", t);\n  }\n  /**\n   * Inserts the bot's username and the specified inline query in the current chat's input field.\n   * Query may be empty, in which case only the bot's username will be inserted. The client prompts\n   * the user to choose a specific chat, then opens that chat and inserts the bot's username and\n   * the specified inline query in the input field.\n   * @param text - text which should be inserted in the input after the current bot name. Max\n   * length is 256 symbols.\n   * @param chatTypes - List of chat types which could be chosen to send the message. Could be\n   * empty list.\n   */\n  switchInlineQuery(t, s = []) {\n    if (!this.supports(\"switchInlineQuery\") && !this.isBotInline)\n      throw new Error(\"Method is unsupported because Mini App should be launched in inline mode.\");\n    this.postEvent(\"web_app_switch_inline_query\", { query: t, chat_types: s });\n  }\n}\nconst ds = l(\n  \"miniApp\",\n  ({\n    themeParams: e,\n    botInline: t = !1,\n    state: s = {\n      bgColor: e.bgColor || \"#ffffff\",\n      headerColor: e.headerBgColor || \"#000000\"\n    },\n    ...n\n  }) => new ls({ ...n, ...s, botInline: t })\n);\nfunction _s(e) {\n  const t = e.message.trim(), s = (e.title || \"\").trim(), n = e.buttons || [];\n  let r;\n  if (s.length > 64)\n    throw new Error(`Title has incorrect size: ${s.length}`);\n  if (!t.length || t.length > 256)\n    throw new Error(`Message has incorrect size: ${t.length}`);\n  if (n.length > 3)\n    throw new Error(`Buttons have incorrect size: ${n.length}`);\n  return n.length ? r = n.map((i) => {\n    const { id: o = \"\" } = i;\n    if (o.length > 64)\n      throw new Error(`Button ID has incorrect size: ${o}`);\n    if (!i.type || i.type === \"default\" || i.type === \"destructive\") {\n      const a = i.text.trim();\n      if (!a.length || a.length > 64) {\n        const h = i.type || \"default\";\n        throw new Error(`Button text with type \"${h}\" has incorrect size: ${i.text.length}`);\n      }\n      return { ...i, text: a, id: o };\n    }\n    return { ...i, id: o };\n  }) : r = [{ type: \"close\", id: \"\" }], { title: s, message: t, buttons: r };\n}\nclass ws extends k {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_popup\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if the Popup is opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * A method that shows a native popup described by the `params` argument.\n   * Promise will be resolved when popup is closed. Resolved value will have\n   * an identifier of pressed button.\n   *\n   * In case, user clicked outside the popup or clicked top right popup close\n   * button, null will be returned.\n   *\n   * @param options - popup parameters.\n   * @throws {Error} Popup is already opened.\n   */\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"Popup is already opened.\");\n    this.isOpened = !0;\n    try {\n      const { button_id: s = null } = await w({\n        event: \"popup_closed\",\n        method: \"web_app_open_popup\",\n        postEvent: this.postEvent,\n        params: _s(t)\n      });\n      return s;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst gs = l(\n  ({ postEvent: e, version: t }) => new ws(!1, t, e)\n);\nclass fs extends k {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, {\n      close: \"web_app_close_scan_qr_popup\",\n      open: \"web_app_open_scan_qr_popup\"\n    }), this.postEvent = n;\n  }\n  /**\n   * Closes the scanner.\n   */\n  close() {\n    this.postEvent(\"web_app_close_scan_qr_popup\"), this.isOpened = !1;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * Returns true if the scanner is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"The scanner is already opened\");\n    const { text: s, capture: n } = (typeof t == \"string\" ? { text: t } : t) || {};\n    this.isOpened = !0;\n    try {\n      const r = (await w({\n        method: \"web_app_open_scan_qr_popup\",\n        event: [\"qr_text_received\", \"scan_qr_popup_closed\"],\n        postEvent: this.postEvent,\n        params: { text: s },\n        capture(i) {\n          return i.event === \"scan_qr_popup_closed\" || !n || n(i.payload);\n        }\n      }) || {}).data || null;\n      return r && this.close(), r;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n  // TODO: Streaming mode, allowing to scan several QRs until closed.\n}\nconst bs = l(\n  ({ version: e, postEvent: t }) => new fs(!1, e, t)\n);\nclass ms extends pt {\n  constructor(t, s, n) {\n    super({ isVisible: t }, s, {\n      show: \"web_app_setup_settings_button\",\n      hide: \"web_app_setup_settings_button\"\n    }), c(this, \"on\", (r, i) => r === \"click\" ? y(\"settings_button_pressed\", i) : this.state.on(r, i)), c(this, \"off\", (r, i) => r === \"click\" ? z(\"settings_button_pressed\", i) : this.state.off(r, i)), this.postEvent = n;\n  }\n  set isVisible(t) {\n    this.set(\"isVisible\", t), this.postEvent(\"web_app_setup_settings_button\", { is_visible: t });\n  }\n  /**\n   * True if the SettingsButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the SettingsButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the SettingsButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst vs = l(\n  \"settingsButton\",\n  ({\n    version: e,\n    postEvent: t,\n    state: s = { isVisible: !1 }\n  }) => new ms(s.isVisible, e, t)\n);\nclass ys extends k {\n  constructor(t, s, n) {\n    super({ isVerticalSwipeEnabled: t }, s, {\n      disableVerticalSwipe: \"web_app_setup_swipe_behavior\",\n      enableVerticalSwipe: \"web_app_setup_swipe_behavior\"\n    }), this.postEvent = n;\n  }\n  set isVerticalSwipeEnabled(t) {\n    this.set(\"isVerticalSwipeEnabled\", t), this.postEvent(\"web_app_setup_swipe_behavior\", { allow_vertical_swipe: t });\n  }\n  /**\n   * True, if the vertical swipe enabled.\n   */\n  get isVerticalSwipeEnabled() {\n    return this.get(\"isVerticalSwipeEnabled\");\n  }\n  /**\n   * Disables the vertical swipe.\n   */\n  disableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !1;\n  }\n  /**\n   * Enables the vertical swipe.\n   */\n  enableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !0;\n  }\n}\nconst Es = l(\n  \"swipeBehavior\",\n  ({\n    postEvent: e,\n    state: t = { isVerticalSwipeEnabled: !0 },\n    version: s\n  }) => new ys(t.isVerticalSwipeEnabled, s, e)\n);\nfunction Zt(e) {\n  return Ht().parse(e);\n}\nclass Ps extends dt {\n  /**\n   * @since v6.10\n   */\n  get accentTextColor() {\n    return this.get(\"accentTextColor\");\n  }\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  get buttonColor() {\n    return this.get(\"buttonColor\");\n  }\n  get buttonTextColor() {\n    return this.get(\"buttonTextColor\");\n  }\n  get destructiveTextColor() {\n    return this.get(\"destructiveTextColor\");\n  }\n  /**\n   * Returns the copy of the internal state of the current component instance.\n   */\n  getState() {\n    return this.clone();\n  }\n  /**\n   * @since v6.10\n   */\n  get headerBgColor() {\n    return this.get(\"headerBgColor\");\n  }\n  get hintColor() {\n    return this.get(\"hintColor\");\n  }\n  /**\n   * @returns True in case, current color scheme is recognized as dark. This\n   * value is calculated according to theme bg color.\n   */\n  get isDark() {\n    return !this.bgColor || Bt(this.bgColor);\n  }\n  get linkColor() {\n    return this.get(\"linkColor\");\n  }\n  get secondaryBgColor() {\n    return this.get(\"secondaryBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionBgColor() {\n    return this.get(\"sectionBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionHeaderTextColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * @since v7.6\n   */\n  get sectionSeparatorColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * Starts listening to the external theme changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return y(\"theme_changed\", (t) => {\n      this.set(Zt(t.theme_params));\n    });\n  }\n  /**\n   * @since v6.10\n   */\n  get subtitleTextColor() {\n    return this.get(\"subtitleTextColor\");\n  }\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst Ss = l(\n  \"themeParams\",\n  ({ themeParams: e, state: t = e, addCleanup: s }) => {\n    const n = new Ps(t);\n    return s(n.listen()), n;\n  }\n);\nfunction Pn(e = {}) {\n  return w({\n    ...e,\n    method: \"web_app_request_theme\",\n    event: \"theme_changed\"\n  }).then(Zt);\n}\nfunction M(e, t) {\n  return e.startsWith(t) ? e : `${t}${e}`;\n}\nfunction L(e) {\n  return new URL(\n    typeof e == \"string\" ? e : `${e.pathname || \"\"}${M(e.search || \"\", \"?\")}${M(e.hash || \"\", \"#\")}`,\n    \"http://a\"\n  );\n}\nclass Rs extends _t {\n  constructor(t, s, n) {\n    super(t, { readTextFromClipboard: \"web_app_read_text_from_clipboard\" }), c(this, \"supportsParam\"), this.version = t, this.createRequestId = s, this.postEvent = n, this.supportsParam = Yt(t, {\n      \"openLink.tryInstantView\": [\"web_app_open_link\", \"try_instant_view\"]\n    });\n  }\n  openLink(t, s) {\n    const n = L(t).toString();\n    if (!x(\"web_app_open_link\", this.version)) {\n      window.open(n, \"_blank\");\n      return;\n    }\n    const r = typeof s == \"boolean\" ? { tryInstantView: s } : s || {};\n    this.postEvent(\"web_app_open_link\", {\n      url: n,\n      try_browser: r.tryBrowser,\n      try_instant_view: r.tryInstantView\n    });\n  }\n  /**\n   * Opens a Telegram link inside Telegram app. The Mini App will be closed. It expects passing\n   * link in full format, with hostname \"t.me\".\n   * @param url - URL to be opened.\n   * @throws {Error} URL has not allowed hostname.\n   */\n  openTelegramLink(t) {\n    const { hostname: s, pathname: n, search: r } = new URL(t, \"https://t.me\");\n    if (s !== \"t.me\")\n      throw new Error(`URL has not allowed hostname: ${s}. Only \"t.me\" is allowed`);\n    if (!x(\"web_app_open_tg_link\", this.version)) {\n      window.location.href = t;\n      return;\n    }\n    this.postEvent(\"web_app_open_tg_link\", { path_full: n + r });\n  }\n  /**\n   * Reads text from clipboard and returns string or null. null is returned\n   * in cases:\n   * - Value in clipboard is not text\n   * - Access to clipboard is not allowed\n   */\n  async readTextFromClipboard() {\n    const t = this.createRequestId(), {\n      data: s = null\n    } = await w({\n      method: \"web_app_read_text_from_clipboard\",\n      event: \"clipboard_text_received\",\n      postEvent: this.postEvent,\n      params: { req_id: t },\n      capture: qt(t)\n    });\n    return s;\n  }\n  /**\n   * Shares specified URL with the passed to the chats, selected by user. After being called,\n   * it closes the mini application.\n   *\n   * This method uses Telegram's Share Links.\n   * @param url - URL to share.\n   * @param text - text to append after the URL.\n   * @see https://core.telegram.org/api/links#share-links\n   * @see https://core.telegram.org/widgets/share#custom-buttons\n   */\n  shareURL(t, s) {\n    this.openTelegramLink(\n      \"https://t.me/share/url?\" + new URLSearchParams({ url: t, text: s || \"\" }).toString().replace(/\\+/g, \"%20\")\n    );\n  }\n}\nconst xs = l(\n  ({ version: e, postEvent: t, createRequestId: s }) => new Rs(e, s, t)\n);\nasync function Xt(e = {}) {\n  const {\n    is_expanded: t,\n    is_state_stable: s,\n    ...n\n  } = await w({\n    ...e,\n    method: \"web_app_request_viewport\",\n    event: \"viewport_changed\"\n  });\n  return { ...n, isExpanded: t, isStateStable: s };\n}\nfunction q(e) {\n  return e < 0 ? 0 : e;\n}\nclass Cs extends dt {\n  constructor({ postEvent: t, stableHeight: s, height: n, width: r, isExpanded: i }) {\n    super({\n      height: q(n),\n      isExpanded: i,\n      stableHeight: q(s),\n      width: q(r)\n    }), c(this, \"postEvent\"), this.postEvent = t;\n  }\n  /**\n   * Requests viewport information from the Telegram application and updates current Viewport\n   * instance.\n   * @param options - options to request fresh data.\n   */\n  async sync(t) {\n    const { isStateStable: s, ...n } = await Xt(t);\n    this.set({\n      ...n,\n      stableHeight: s ? n.height : this.get(\"stableHeight\")\n    });\n  }\n  /**\n   * The current height of the **visible area** of the Mini App.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the bot can do the same by calling `expand` method. As the position of\n   * the Mini App changes, the current height value of the visible area will be updated  in real\n   * time.\n   *\n   * Please note that the refresh rate of this value is not sufficient to smoothly follow the\n   * lower border of the window. It should not be used to pin interface elements to the bottom\n   * of the visible area. It's more appropriate to use the value of the `stableHeight`\n   * field for this purpose.\n   *\n   * @see stableHeight\n   */\n  get height() {\n    return this.get(\"height\");\n  }\n  /**\n   * The height of the visible area of the Mini App in its last stable state.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the application can do the same by calling `expand` method.\n   *\n   * Unlike the value of `height`, the value of `stableHeight` does not change as the position\n   * of the Mini App changes with user gestures or during animations. The value of `stableHeight`\n   * will be updated after all gestures and animations are completed and\n   * the Mini App reaches its final size.\n   *\n   * @see height\n   */\n  get stableHeight() {\n    return this.get(\"stableHeight\");\n  }\n  /**\n   * Starts listening to viewport changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return y(\"viewport_changed\", (t) => {\n      const {\n        height: s,\n        width: n,\n        is_expanded: r,\n        is_state_stable: i\n      } = t, o = q(s);\n      this.set({\n        height: o,\n        isExpanded: r,\n        width: q(n),\n        ...i ? { stableHeight: o } : {}\n      });\n    });\n  }\n  /**\n   * True if the Mini App is expanded to the maximum available height. Otherwise, if\n   * the Mini App occupies part of the screen and can be expanded to the full height using\n   * `expand` method.\n   * @see expand\n   */\n  get isExpanded() {\n    return this.get(\"isExpanded\");\n  }\n  /**\n   * Current visible area width.\n   */\n  get width() {\n    return this.get(\"width\");\n  }\n  /**\n   * A method that expands the Mini App to the maximum available height. To find out if the Mini\n   * App is expanded to the maximum height, refer to the value of the `isExpanded`.\n   * @see isExpanded\n   */\n  expand() {\n    this.postEvent(\"web_app_expand\"), this.set(\"isExpanded\", !0);\n  }\n  /**\n   * True if the current viewport height is stable and is not going to change in the next moment.\n   */\n  get isStable() {\n    return this.stableHeight === this.height;\n  }\n}\nconst Ts = l(\n  \"viewport\",\n  async ({ state: e, platform: t, postEvent: s, addCleanup: n }) => {\n    let r = !1, i = 0, o = 0, a = 0;\n    if (e)\n      r = e.isExpanded, i = e.height, o = e.width, a = e.stableHeight;\n    else if ([\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(t))\n      r = !0, i = window.innerHeight, o = window.innerWidth, a = window.innerHeight;\n    else {\n      const p = await Xt({ timeout: 1e3, postEvent: s });\n      r = p.isExpanded, i = p.height, o = p.width, a = p.isStateStable ? i : 0;\n    }\n    const h = new Cs({\n      postEvent: s,\n      height: i,\n      width: o,\n      stableHeight: a,\n      isExpanded: r\n    });\n    return n(h.listen()), h;\n  }\n);\nfunction P(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\nfunction Sn(e, t, s) {\n  s || (s = (a) => `--tg-${a}-color`);\n  const n = s(\"header\"), r = s(\"bg\"), i = () => {\n    const { headerColor: a } = e;\n    if (ct(a))\n      P(n, a);\n    else {\n      const { bgColor: h, secondaryBgColor: p } = t;\n      a === \"bg_color\" && h ? P(n, h) : a === \"secondary_bg_color\" && p && P(n, p);\n    }\n    P(r, e.bgColor);\n  }, o = [\n    t.on(\"change\", i),\n    e.on(\"change\", i)\n  ];\n  return i(), () => o.forEach((a) => a());\n}\nfunction Rn(e, t) {\n  t || (t = (n) => `--tg-theme-${n.replace(/[A-Z]/g, (r) => `-${r.toLowerCase()}`)}`);\n  const s = () => {\n    Object.entries(e.getState()).forEach(([n, r]) => {\n      r && P(t(n), r);\n    });\n  };\n  return s(), e.on(\"change\", s);\n}\nfunction xn(e, t) {\n  t || (t = (p) => `--tg-viewport-${p}`);\n  const [\n    s,\n    n,\n    r\n  ] = [\"height\", \"width\", \"stable-height\"].map((p) => t(p)), i = () => P(s, `${e.height}px`), o = () => P(n, `${e.width}px`), a = () => P(r, `${e.stableHeight}px`), h = [\n    e.on(\"change:height\", i),\n    e.on(\"change:width\", o),\n    e.on(\"change:stableHeight\", a)\n  ];\n  return i(), o(), a(), () => h.forEach((p) => p());\n}\nfunction As(e = !0) {\n  const t = [\n    y(\"reload_iframe\", () => {\n      B(\"iframe_will_reload\"), window.location.reload();\n    })\n  ], s = () => t.forEach((n) => n());\n  if (e) {\n    const n = document.createElement(\"style\");\n    n.id = \"telegram-custom-styles\", document.head.appendChild(n), t.push(\n      y(\"set_custom_style\", (r) => {\n        n.innerHTML = r;\n      }),\n      () => document.head.removeChild(n)\n    );\n  }\n  return B(\"iframe_ready\", { reload_supported: !0 }), s;\n}\nfunction ks() {\n  return typeof window > \"u\";\n}\nasync function Cn() {\n  if (It(window))\n    return !0;\n  try {\n    return await w({ method: \"web_app_request_theme\", event: \"theme_changed\", timeout: 100 }), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Tn(e) {\n  const t = typeof e == \"string\" ? lt(e) : e;\n  Jt(t);\n  function s(r) {\n    if (typeof r == \"string\")\n      try {\n        const { eventType: i } = At(r);\n        i === \"web_app_request_theme\" && et(\"theme_changed\", {\n          theme_params: JSON.parse(Kt(t.themeParams))\n        }), i === \"web_app_request_viewport\" && et(\"viewport_changed\", {\n          width: window.innerWidth,\n          height: window.innerHeight,\n          is_state_stable: !0,\n          is_expanded: !0\n        });\n      } catch {\n      }\n  }\n  if (at()) {\n    const r = window.parent.postMessage.bind(window.parent);\n    window.parent.postMessage = (i) => {\n      s(i), r(i);\n    };\n    return;\n  }\n  if (kt(window)) {\n    const r = window.external.notify.bind(window.external);\n    window.external.notify = (i) => {\n      s(i), r(i);\n    };\n    return;\n  }\n  const n = window.TelegramWebviewProxy;\n  window.TelegramWebviewProxy = {\n    ...n || {},\n    postEvent(...r) {\n      s(JSON.stringify({ eventType: r[0], eventData: r[1] })), n && n.postEvent(...r);\n    }\n  };\n}\nfunction Is(e) {\n  return e instanceof W;\n}\nfunction An(e, t) {\n  return Is(e) && e.type === t;\n}\nfunction J(e, t) {\n  let s, n, r;\n  return typeof e == \"string\" ? s = e : (s = e.pathname === void 0 ? t : e.pathname, n = e.params, r = e.id), Object.freeze({\n    id: r || (Math.random() * 2 ** 14 | 0).toString(16),\n    pathname: s,\n    params: n\n  });\n}\nclass Os {\n  constructor(t, s, n = B) {\n    if (c(this, \"history\"), c(this, \"ee\", new D()), c(this, \"attached\", !1), c(this, \"back\", () => this.go(-1)), c(this, \"on\", this.ee.on.bind(this.ee)), c(this, \"off\", this.ee.off.bind(this.ee)), this._index = s, this.postEvent = n, t.length === 0)\n      throw b(me, \"History should not be empty.\");\n    if (s < 0 || s >= t.length)\n      throw b(\n        ve,\n        \"Index should not be zero and higher or equal than history size.\"\n      );\n    this.history = t.map((r) => J(r, \"\"));\n  }\n  /**\n   * Allows this navigator to control the `BackButton` visibility state. It also tracks the\n   * `BackButton` clicks and calls the `back` method.\n   */\n  attach() {\n    this.attached || (this.attached = !0, this.sync(), y(\"back_button_pressed\", this.back));\n  }\n  /**\n   * Currently active history item.\n   */\n  get current() {\n    return this.history[this.index];\n  }\n  /**\n   * Prevents current navigator from controlling the BackButton visibility state.\n   */\n  detach() {\n    this.attached = !1, z(\"back_button_pressed\", this.back);\n  }\n  /**\n   * Goes to the next history item.\n   */\n  forward() {\n    this.go(1);\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    const n = this.index + t, r = Math.min(\n      Math.max(0, n),\n      this.history.length - 1\n    );\n    (n === r || s) && this.replaceAndMove(r, this.history[r]);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.go(t - this.index, s);\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.index > 0;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.index !== this.history.length - 1;\n  }\n  /**\n   * Currently active history item index.\n   */\n  get index() {\n    return this._index;\n  }\n  /**\n   * Adds a new history item removing all after the current one.\n   * @param item - item to add.\n   */\n  push(t) {\n    this.hasNext && this.history.splice(this.index + 1), this.replaceAndMove(this.index + 1, J(t, this.current.pathname));\n  }\n  /**\n   * Replaces the current history item.\n   * @param item - item to replace the current item with.\n   */\n  replace(t) {\n    this.replaceAndMove(this.index, J(t, this.current.pathname));\n  }\n  /**\n   * Sets history item by the specified index.\n   * @param index - history item index to replace.\n   * @param historyItem - history item to set.\n   */\n  replaceAndMove(t, s) {\n    const n = t - this.index;\n    if (!n && this.current === s)\n      return;\n    const r = this.current;\n    if (this.index !== t) {\n      const i = this._index;\n      this._index = t, this.attached && i > 0 != t > 0 && this.sync();\n    }\n    this.history[t] = s, this.ee.emit(\"change\", {\n      navigator: this,\n      from: r,\n      to: this.current,\n      delta: n\n    });\n  }\n  /**\n   * Actualizes the `BackButton` visibility state.\n   */\n  sync() {\n    this.postEvent(\"web_app_setup_back_button\", { is_visible: !!this.index });\n  }\n}\nfunction F({\n  params: e,\n  ...t\n}) {\n  return { ...e || { hash: \"\", search: \"\" }, ...t };\n}\nfunction U(e) {\n  const t = typeof e == \"string\" ? e.startsWith(\"/\") : !!(e.pathname && e.pathname.startsWith(\"/\")), s = L(e);\n  return `${t ? s.pathname : s.pathname.slice(1)}${s.search}${s.hash}`;\n}\nfunction Q(e, t, s) {\n  let n, r;\n  typeof e == \"string\" ? n = e : (n = U(e), s = e.state, r = e.id);\n  const { pathname: i, search: o, hash: a } = new URL(n, `http://a${M(t, \"/\")}`);\n  return { id: r, pathname: i, params: { hash: a, search: o, state: s } };\n}\nasync function N(e) {\n  return e === 0 ? !0 : Promise.race([\n    new Promise((t) => {\n      const s = tt(\"popstate\", () => {\n        s(), t(!0);\n      });\n      window.history.go(e);\n    }),\n    // Usually, it takes about 1ms to emit this event, but we use some buffer.\n    new Promise((t) => {\n      setTimeout(t, 50, !1);\n    })\n  ]);\n}\nasync function qs() {\n  if (window.history.length <= 1 || (window.history.pushState(null, \"\"), await N(1 - window.history.length)))\n    return;\n  let e = await N(-1);\n  for (; e; )\n    e = await N(-1);\n}\nfunction te(e) {\n  return L(e).pathname;\n}\nconst Et = 0, Y = 1, Z = 2;\nclass ee {\n  constructor(t, s, { postEvent: n, hashMode: r = \"classic\", base: i } = {}) {\n    c(this, \"navigator\"), c(this, \"ee\", new D()), c(this, \"hashMode\"), c(this, \"base\"), c(this, \"attached\", !1), c(this, \"onPopState\", ({ state: o }) => {\n      if (o === null)\n        return this.push(this.parsePath(window.location.href));\n      o === Et ? window.history.forward() : o === Y && this.back(), o === Z && this.forward();\n    }), c(this, \"onNavigatorChange\", async ({\n      to: o,\n      from: a,\n      delta: h\n    }) => {\n      this.attached && await this.syncHistory(), this.ee.emit(\"change\", {\n        delta: h,\n        from: F(a),\n        to: F(o),\n        navigator: this\n      });\n    }), c(this, \"on\", this.ee.on.bind(this.ee)), c(this, \"off\", this.ee.off.bind(this.ee)), this.navigator = new Os(\n      t.map((o) => Q(o, \"/\")),\n      s,\n      n\n    ), this.navigator.on(\"change\", (o) => {\n      this.onNavigatorChange(o);\n    }), this.hashMode = r, this.base = te(i || \"\");\n  }\n  /**\n   * Attaches current navigator to the browser history allowing navigator to manipulate it.\n   */\n  async attach() {\n    this.attached || (this.attached = !0, this.navigator.attach(), window.addEventListener(\"popstate\", this.onPopState), await this.syncHistory());\n  }\n  /**\n   * Goes back in history by 1.\n   */\n  back() {\n    this.navigator.back();\n  }\n  /**\n   * Detaches current navigator from the browser history.\n   */\n  detach() {\n    this.attached = !1, this.navigator.detach(), window.removeEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Goes forward in history.\n   */\n  forward() {\n    return this.navigator.forward();\n  }\n  /**\n   * Current history cursor.\n   */\n  get index() {\n    return this.navigator.index;\n  }\n  /**\n   * Current history item identifier.\n   */\n  get id() {\n    return this.navigator.current.id;\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    return this.navigator.go(t, s);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.navigator.goTo(t, s);\n  }\n  /**\n   * Current history item hash.\n   * @see URL.hash\n   * @example\n   * \"\", \"#my-hash\"\n   */\n  get hash() {\n    return (this.navigator.current.params || {}).hash || \"\";\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.navigator.hasPrev;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.navigator.hasNext;\n  }\n  /**\n   * Navigation history.\n   */\n  get history() {\n    return this.navigator.history.map(F);\n  }\n  /**\n   * Path, including pathname, search and hash.\n   * @example Pathname only.\n   * \"/pathname\"\n   * @example Pathname + search.\n   * \"/pathname?search\"\n   * @example Pathname + hash.\n   * \"/pathname#hash\"\n   * @example Pathname + search + hash.\n   * \"/pathname?search#hash\"\n   */\n  get path() {\n    return U(this);\n  }\n  /**\n   * Current pathname. Always starts with the slash.\n   * @see URL.pathname\n   * @example\n   * \"/\", \"/abc\"\n   */\n  get pathname() {\n    return this.navigator.current.pathname;\n  }\n  /**\n   * Depending on the current navigation type, parses incoming path and returns it presented as\n   * an object. In other words, this method parses the passed path and returns object, describing\n   * how the navigator \"sees\" it.\n   *\n   * @example Hash mode is omitted.\n   * parsePath('/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   * parsePath('http://example.com/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   *\n   * @example Hash mode is enabled.\n   * parsePath('/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   * parsePath('http://example.com/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   */\n  parsePath(t) {\n    let s = L(t);\n    return this.hashMode && (s = L(s.hash.slice(1))), {\n      pathname: s.pathname,\n      search: s.search,\n      hash: s.hash\n    };\n  }\n  push(t, s) {\n    const n = Q(t, this.path), { state: r = s } = n.params;\n    this.navigator.push({ ...n, params: { ...n.params, state: r } });\n  }\n  replace(t, s) {\n    const n = Q(t, this.path), { state: r = s } = n.params;\n    this.navigator.replace({ ...n, params: { ...n.params, state: r } });\n  }\n  /**\n   * Combines the navigator `base` property with the passed path data applying the navigator\n   * navigation mode.\n   * @param value - path presented as string or URLLike.\n   */\n  renderPath(t) {\n    const s = (this.base.length === 1 ? \"\" : this.base) + M(U(t), \"/\");\n    return this.hashMode ? M(s.slice(1), this.hashMode === \"classic\" ? \"#\" : \"#/\") : s;\n  }\n  /**\n   * Synchronizes current navigator state with browser history.\n   */\n  async syncHistory() {\n    window.removeEventListener(\"popstate\", this.onPopState);\n    const { state: t } = this, s = this.renderPath(this);\n    await qs(), this.hasPrev && this.hasNext ? (window.history.replaceState(Y, \"\"), window.history.pushState(t, \"\", s), window.history.pushState(Z, \"\"), await N(-1)) : this.hasPrev ? (window.history.replaceState(Y, \"\"), window.history.pushState(t, \"\", s)) : this.hasNext ? (window.history.replaceState(t, s), window.history.pushState(Z, \"\"), await N(-1)) : (window.history.replaceState(Et, \"\"), window.history.pushState(t, \"\", s)), window.addEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Current query parameters.\n   * @see URL.search\n   * @example\n   * \"\", \"?\", \"?a=1\"\n   */\n  get search() {\n    return (this.navigator.current.params || {}).search || \"\";\n  }\n  /**\n   * Current history item state.\n   */\n  get state() {\n    return (this.navigator.current.params || {}).state;\n  }\n}\nfunction Vs(e) {\n  e || (e = {});\n  const { href: t, hash: s } = window.location;\n  let n = U(\n    e.hashMode === null ? t : s.includes(\"?\") ? s.slice(1) : `?${s.slice(1)}`\n  );\n  const r = e.base ? te(e.base) : void 0;\n  if (r) {\n    if (!n.startsWith(r))\n      throw b(\n        ye,\n        `Path \"${n}\" expected to be starting with \"${r}\"`\n      );\n    n = n.slice(r.length);\n  }\n  return new ee([n], 0, e);\n}\nfunction kn(e) {\n  const t = e.match(/#(.+)/);\n  return t ? t[1] : null;\n}\nfunction Ns(e, t) {\n  if (Ft()) {\n    const s = sessionStorage.getItem(e);\n    if (s)\n      try {\n        const { index: n, history: r } = JSON.parse(s);\n        return new ee(\n          r,\n          n,\n          t\n        );\n      } catch (n) {\n        console.error(\"Unable to restore hash navigator state.\", n);\n      }\n  }\n  return Vs(t);\n}\nfunction In(e, t) {\n  const s = Ns(e, t), n = () => sessionStorage.setItem(e, JSON.stringify({\n    index: s.index,\n    history: s.history\n  }));\n  return s.on(\"change\", n), n(), s;\n}\nfunction d(e, t) {\n  function s(n) {\n    return function(i, o, a) {\n      return (h) => {\n        const p = {\n          ...h,\n          [i]: n(o)\n        };\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(a, { ...p });\n      };\n    };\n  }\n  return [s(e), s(t)];\n}\nconst se = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(void 0);\nfunction Ds() {\n  const e = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(se);\n  if (!e)\n    throw new Error(\"useSDK was used outside the SDKProvider.\");\n  return e;\n}\nfunction _(e) {\n  function t(n) {\n    const r = Ds(), [i, o] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n      n ? void 0 : () => {\n        if (ks())\n          throw new Error(\"Using hooks on the server side, you must explicitly specify ssr = true option\");\n        return r.use(e);\n      }\n    );\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      o(r.use(e));\n    }, [r]), i;\n  }\n  function s(n) {\n    const r = t(n);\n    if (r) {\n      if (\"error\" in r)\n        throw r.error;\n      return r.result;\n    }\n  }\n  return [t, s];\n}\nconst [Bs, Ms] = _(je), [On, qn] = d(\n  Bs,\n  Ms\n), [Ls, $s] = _(Je), [Vn, Nn] = d(\n  Ls,\n  $s\n), [Hs, Us] = _(Qe), [Dn, Bn] = d(\n  Hs,\n  Us\n), [Ws, Gs] = _(es), [Mn, Ln] = d(\n  Ws,\n  Gs\n), [js, zs] = _(ns), [$n, Hn] = d(\n  js,\n  zs\n), [Ks, Js] = _(is), [Un, Wn] = d(Ks, Js), [Fs, Qs] = _(as), [Gn, jn] = d(Fs, Qs), [Ys, Zs] = _(hs), [zn, Kn] = d(Ys, Zs), [Xs, tn] = _(ds), [Jn, Fn] = d(Xs, tn), [en, sn] = _(gs), [Qn, Yn] = d(en, sn), [nn, rn] = _(bs), [Zn, Xn] = d(nn, rn), [on, an] = _(vs), [tr, er] = d(\n  on,\n  an\n), [cn, hn] = _(Es), [sr, nr] = d(\n  cn,\n  hn\n), [pn, un] = _(Ss), [rr, ir] = d(pn, un);\nfunction or(e) {\n  const [t, s] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => e ? void 0 : nt());\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    e && s(nt());\n  }, []), t;\n}\nconst [ln, dn] = _(xs), [ar, cr] = d(ln, dn), [_n, wn] = _(Ts), [hr, pr] = d(_n, wn);\nfunction ur({ children: e, acceptCustomStyles: t, debug: s }) {\n  const n = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!0), [r, i] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(/* @__PURE__ */ new Map()), o = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(r), a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (p) => {\n      n.current && i((C) => (p && p(C), new Map(C)));\n    },\n    []\n  ), h = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({\n    use(p, ...C) {\n      const wt = r.get(p);\n      if (wt)\n        return wt;\n      let m, K;\n      try {\n        m = p(...C);\n      } catch (g) {\n        K = g;\n      }\n      function H(g) {\n        return r.set(p, g), g;\n      }\n      if (K)\n        return H({ error: K });\n      let I;\n      if (Array.isArray(m) && (I = m[1], m = m[0]), !m)\n        return H({ result: m, cleanup: I });\n      function gt(g) {\n        if (\"on\" in g) {\n          const O = g.on(\"change\", () => a()), ft = I;\n          I = () => {\n            ft && ft(), O();\n          };\n        }\n        return { result: g, cleanup: I };\n      }\n      return m instanceof Promise ? (m.then(\n        (g) => a((O) => O.set(p, gt(g))),\n        (g) => a((O) => O.set(p, { error: g }))\n      ), H({})) : H(gt(m));\n    }\n  }), [r]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => (n.current = !0, () => {\n    n.current = !1;\n  }), []), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (at())\n      return As(t);\n  }, [t]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    ue(s || !1);\n  }, [s]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    o.current = r;\n  }, [r]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => () => {\n    o.current.forEach((p) => {\n      \"cleanup\" in p && p.cleanup && p.cleanup();\n    });\n  }, []), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(se.Provider, { value: h, children: e });\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdGVsZWdyYW0tYXBwcy9zZGstcmVhY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUNnRztBQUM5SSxzRUFBc0UsMERBQTBEO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsV0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSwyQkFBMkIsdUNBQXVDLGVBQWU7QUFDckc7QUFDQSxXQUFXLEVBQUUsU0FBUyxXQUFXO0FBQ2pDLFNBQVMsR0FBRyw0QkFBNEI7QUFDeEM7QUFDQSxTQUFTLEdBQUcsRUFBRSxhQUFhLEdBQUcsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE9BQU87QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsY0FBYyxxQkFBcUI7QUFDbkMsa0NBQWtDLHNCQUFzQixJQUFJLFNBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0RUFBNEUsZUFBZTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0JBQStCLGdCQUFnQixHQUFHO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQ0FBZ0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFVBQVUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQixJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUIsSUFBSTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQ0FBb0M7QUFDL0MsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlCQUF5QjtBQUNyQztBQUNBO0FBQ0EsNEZBQTRGLHNCQUFzQjtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxRQUFRLFNBQVM7QUFDakI7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsU0FBUztBQUNqQjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLFFBQVEsa0JBQWtCO0FBQzFCO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4Q0FBOEM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMEJBQTBCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEJBQTBCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGFBQWE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhLE9BQU8sOEJBQThCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJCQUEyQjtBQUN6QztBQUNBLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQSw0RkFBNEYsS0FBSyxTQUFTLEtBQUs7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEJBQTBCO0FBQy9CO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0JBQW9CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsY0FBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsY0FBYyxvQkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdCQUFnQixrRUFBa0U7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxpQkFBaUIsSUFBSTtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQW1CLElBQUk7QUFDaEQ7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFVBQVUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFVBQVUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQSx5REFBeUQsRUFBRTtBQUMzRCwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsV0FBVyxJQUFJLGNBQWM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFVBQVU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx5QkFBeUI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHLGNBQWMsMEJBQTBCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0Esb0RBQW9ELFNBQVM7QUFDN0Q7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQSx1REFBdUQsRUFBRTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxFQUFFLHdCQUF3QixjQUFjO0FBQzFGO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsYUFBYTtBQUNiLEdBQUcsV0FBVyx1QkFBdUIsS0FBSztBQUMxQztBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWEsT0FBTyw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEJBQTBCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0IsNEJBQTRCLFVBQVU7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsT0FBTyxPQUFPO0FBQ2Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQkFBMEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdGQUFnRixlQUFlO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0RkFBNEYseUJBQXlCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0QkFBNEI7QUFDN0M7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDZDQUE2QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esa0NBQWtDLEVBQUUsRUFBRSxFQUFFO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpQkFBaUIsRUFBRSx1QkFBdUIsRUFBRSxxQkFBcUI7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkRBQTJEO0FBQzFFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxZQUFZLHNDQUFzQztBQUNsRDtBQUNBLHVEQUF1RCxFQUFFO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtCQUFrQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHVCQUF1QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssOENBQThDO0FBQ25EO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBbUU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUJBQXlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRCQUE0QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLEVBQUU7QUFDN0I7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtDQUFrQztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtCQUErQixnQkFBZ0IsR0FBRztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsRUFBRTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxTQUFTLHdCQUF3QixRQUFRLHdCQUF3QixlQUFlO0FBQy9KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0JBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUVBQXVFO0FBQzVGLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSx5QkFBeUIsa0NBQWtDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBLEdBQUcsUUFBUSxnREFBQztBQUNaO0FBQ0EsR0FBRyxRQUFRLGdEQUFDO0FBQ1o7QUFDQSxHQUFHLFFBQVEsZ0RBQUM7QUFDWjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsdUJBQXVCLHNEQUFFLGdCQUFnQix1QkFBdUI7QUFDbkU7QUE2S0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRlbGVncmFtLWFwcHMvc2RrLXJlYWN0L2Rpc3QvaW5kZXguanM/NGVhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgUHQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgYXMgbmUsIHVzZUNvbnRleHQgYXMgcmUsIHVzZVN0YXRlIGFzIHJ0LCB1c2VFZmZlY3QgYXMgUywgdXNlUmVmIGFzIGJ0LCB1c2VDYWxsYmFjayBhcyBpZSwgdXNlTWVtbyBhcyBvZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGFlID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBjZSA9IChlLCB0LCBzKSA9PiB0IGluIGUgPyBhZShlLCB0LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiBzIH0pIDogZVt0XSA9IHMsIGMgPSAoZSwgdCwgcykgPT4gKGNlKGUsIHR5cGVvZiB0ICE9IFwic3ltYm9sXCIgPyB0ICsgXCJcIiA6IHQsIHMpLCBzKTtcbmZ1bmN0aW9uIFN0KGUsIHQpIHtcbiAgbGV0IHM7XG4gIGNvbnN0IG4gPSAoKSA9PiB7XG4gICAgcyAhPT0gdm9pZCAwICYmIHQgJiYgdChzKSwgcyA9IHZvaWQgMDtcbiAgfTtcbiAgcmV0dXJuIFsoKSA9PiBzID09PSB2b2lkIDAgPyBzID0gZShuKSA6IHMsIG5dO1xufVxuZnVuY3Rpb24gUnQoZSkge1xuICBjb25zdCB0ID0gaigpLCB7IGNvdW50OiBzIH0gPSB0O1xuICB0LnVuc3Vic2NyaWJlKGUpLCBzICYmICF0LmNvdW50ICYmIENlKCk7XG59XG5mdW5jdGlvbiBoZShlKSB7XG4gIHJldHVybiBqKCkuc3Vic2NyaWJlKGUpLCAoKSA9PiBSdChlKTtcbn1cbmNsYXNzIHBlIHtcbiAgY29uc3RydWN0b3IodCwgcyA9IHt9KSB7XG4gICAgdGhpcy5zY29wZSA9IHQsIHRoaXMub3B0aW9ucyA9IHM7XG4gIH1cbiAgLyoqXG4gICAqIFByaW50cyBtZXNzYWdlIGludG8gYSBjb25zb2xlIGluIGNhc2UsIGxvZ2dlciBpcyBjdXJyZW50bHkgZW5hYmxlZC5cbiAgICogQHBhcmFtIGxldmVsIC0gbG9nIGxldmVsLlxuICAgKiBAcGFyYW0gYXJncyAtIGFyZ3VtZW50cy5cbiAgICovXG4gIHByaW50KHQsIC4uLnMpIHtcbiAgICBjb25zdCBuID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHIgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tR0JcIiwge1xuICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgICAgc2Vjb25kOiBcIjItZGlnaXRcIixcbiAgICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDMsXG4gICAgICB0aW1lWm9uZTogXCJVVENcIlxuICAgIH0pLmZvcm1hdChuKSwgeyB0ZXh0Q29sb3I6IGksIGJnQ29sb3I6IG8gfSA9IHRoaXMub3B0aW9ucywgYSA9IFwiZm9udC13ZWlnaHQ6IGJvbGQ7cGFkZGluZzogMCA1cHg7Ym9yZGVyLXJhZGl1czo1cHhcIjtcbiAgICBjb25zb2xlW3RdKFxuICAgICAgYCVjJHtyfSVjIC8gJWMke3RoaXMuc2NvcGV9YCxcbiAgICAgIGAke2F9O2JhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtjb2xvcjpibGFja2AsXG4gICAgICBcIlwiLFxuICAgICAgYCR7YX07JHtpID8gYGNvbG9yOiR7aX07YCA6IFwiXCJ9JHtvID8gYGJhY2tncm91bmQtY29sb3I6JHtvfWAgOiBcIlwifWAsXG4gICAgICAuLi5zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUHJpbnRzIGVycm9yIG1lc3NhZ2UgaW50byBhIGNvbnNvbGUuXG4gICAqIEBwYXJhbSBhcmdzXG4gICAqL1xuICBlcnJvciguLi50KSB7XG4gICAgdGhpcy5wcmludChcImVycm9yXCIsIC4uLnQpO1xuICB9XG4gIC8qKlxuICAgKiBQcmludHMgbG9nIG1lc3NhZ2UgaW50byBhIGNvbnNvbGUuXG4gICAqIEBwYXJhbSBhcmdzXG4gICAqL1xuICBsb2coLi4udCkge1xuICAgIHRoaXMucHJpbnQoXCJsb2dcIiwgLi4udCk7XG4gIH1cbn1cbmNvbnN0IGl0ID0gbmV3IHBlKFwiU0RLXCIsIHtcbiAgYmdDb2xvcjogXCJmb3Jlc3RncmVlblwiLFxuICB0ZXh0Q29sb3I6IFwid2hpdGVcIlxufSk7XG5sZXQgWCA9ICExO1xuY29uc3QgbXQgPSAoeyBuYW1lOiBlLCBwYXlsb2FkOiB0IH0pID0+IHtcbiAgaXQubG9nKFwiRXZlbnQgcmVjZWl2ZWQ6XCIsIHQgPyB7IG5hbWU6IGUsIHBheWxvYWQ6IHQgfSA6IHsgbmFtZTogZSB9KTtcbn07XG5mdW5jdGlvbiB1ZShlKSB7XG4gIFggIT09IGUgJiYgKFggPSBlLCBlID8gaGUobXQpIDogUnQobXQpKTtcbn1cbmZ1bmN0aW9uIGxlKC4uLmUpIHtcbiAgWCAmJiBpdC5sb2coLi4uZSk7XG59XG5jbGFzcyBEIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgYyh0aGlzLCBcImxpc3RlbmVyc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKSwgYyh0aGlzLCBcImxpc3RlbmVyc0NvdW50XCIsIDApLCBjKHRoaXMsIFwic3Vic2NyaWJlTGlzdGVuZXJzXCIsIFtdKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKSwgdGhpcy5zdWJzY3JpYmVMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjb3VudCBvZiBib3VuZCBsaXN0ZW5lcnMuXG4gICAqL1xuICBnZXQgY291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzQ291bnQgKyB0aGlzLnN1YnNjcmliZUxpc3RlbmVycy5sZW5ndGg7XG4gIH1cbiAgZW1pdCh0LCAuLi5zKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVMaXN0ZW5lcnMuZm9yRWFjaCgobikgPT4gbih7XG4gICAgICBldmVudDogdCxcbiAgICAgIGFyZ3M6IHNcbiAgICB9KSksICh0aGlzLmxpc3RlbmVycy5nZXQodCkgfHwgW10pLmZvckVhY2goKFtuLCByXSkgPT4ge1xuICAgICAgbiguLi5zKSwgciAmJiB0aGlzLm9mZih0LCBuKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBuZXcgZXZlbnQgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSBldmVudCAtIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gb25jZSAtIHNob3VsZCBsaXN0ZW5lciBiZSBjYWxsZWQgb25seSBvbmNlLlxuICAgKiBAcmV0dXJucyBGdW5jdGlvbiB0byByZW1vdmUgYm91bmQgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBvbih0LCBzLCBuKSB7XG4gICAgbGV0IHIgPSB0aGlzLmxpc3RlbmVycy5nZXQodCk7XG4gICAgcmV0dXJuIHIgfHwgdGhpcy5saXN0ZW5lcnMuc2V0KHQsIHIgPSBbXSksIHIucHVzaChbcywgbl0pLCB0aGlzLmxpc3RlbmVyc0NvdW50ICs9IDEsICgpID0+IHRoaXMub2ZmKHQsIHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVyLiBJbiBjYXNlLCBzcGVjaWZpZWQgbGlzdGVuZXIgd2FzIGJvdW5kIHNldmVyYWwgdGltZXMsIGl0IHJlbW92ZXNcbiAgICogb25seSBhIHNpbmdsZSBvbmUuXG4gICAqIEBwYXJhbSBldmVudCAtIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIGV2ZW50IGxpc3RlbmVyLlxuICAgKi9cbiAgb2ZmKHQsIHMpIHtcbiAgICBjb25zdCBuID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHQpIHx8IFtdO1xuICAgIGZvciAobGV0IHIgPSAwOyByIDwgbi5sZW5ndGg7IHIgKz0gMSlcbiAgICAgIGlmIChzID09PSBuW3JdWzBdKSB7XG4gICAgICAgIG4uc3BsaWNlKHIsIDEpLCB0aGlzLmxpc3RlbmVyc0NvdW50IC09IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkcyBhIG5ldyBldmVudCBsaXN0ZW5lciBmb3IgYWxsIGV2ZW50cy5cbiAgICogQHBhcmFtIGxpc3RlbmVyIC0gZXZlbnQgbGlzdGVuZXIuXG4gICAqIEByZXR1cm5zIEZ1bmN0aW9uIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lci5cbiAgICovXG4gIHN1YnNjcmliZSh0KSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlTGlzdGVuZXJzLnB1c2godCksICgpID0+IHRoaXMudW5zdWJzY3JpYmUodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZ2xvYmFsIGV2ZW50IGxpc3RlbmVyLiBJbiBjYXNlLCBzcGVjaWZpZWQgbGlzdGVuZXIgd2FzIGJvdW5kIHNldmVyYWwgdGltZXMsIGl0IHJlbW92ZXNcbiAgICogb25seSBhIHNpbmdsZSBvbmUuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIGV2ZW50IGxpc3RlbmVyLlxuICAgKi9cbiAgdW5zdWJzY3JpYmUodCkge1xuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgdGhpcy5zdWJzY3JpYmVMaXN0ZW5lcnMubGVuZ3RoOyBzICs9IDEpXG4gICAgICBpZiAodGhpcy5zdWJzY3JpYmVMaXN0ZW5lcnNbc10gPT09IHQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVMaXN0ZW5lcnMuc3BsaWNlKHMsIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHR0KGUsIHQsIHMpIHtcbiAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsIHQsIHMpLCAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCB0LCBzKTtcbn1cbmZ1bmN0aW9uIG90KC4uLmUpIHtcbiAgbGV0IHQgPSAhMTtcbiAgY29uc3QgcyA9IGUuZmxhdCgxKTtcbiAgcmV0dXJuIFtcbiAgICAobikgPT4gIXQgJiYgcy5wdXNoKG4pLFxuICAgICgpID0+IHtcbiAgICAgIHQgfHwgKHQgPSAhMCwgcy5mb3JFYWNoKChuKSA9PiBuKCkpKTtcbiAgICB9LFxuICAgIHRcbiAgXTtcbn1cbmNsYXNzIFcgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHQsIHMsIG4pIHtcbiAgICBzdXBlcihzLCB7IGNhdXNlOiBuIH0pLCB0aGlzLnR5cGUgPSB0LCBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVy5wcm90b3R5cGUpO1xuICB9XG59XG5mdW5jdGlvbiBiKGUsIHQsIHMpIHtcbiAgcmV0dXJuIG5ldyBXKGUsIHQsIHMpO1xufVxuY29uc3QgZGUgPSBcIkVSUl9NRVRIT0RfVU5TVVBQT1JURURcIiwgX2UgPSBcIkVSUl9NRVRIT0RfUEFSQU1FVEVSX1VOU1VQUE9SVEVEXCIsIHdlID0gXCJFUlJfVU5LTk9XTl9FTlZcIiwgZ2UgPSBcIkVSUl9JTlZPS0VfQ1VTVE9NX01FVEhPRF9SRVNQT05TRVwiLCBmZSA9IFwiRVJSX1RJTUVEX09VVFwiLCBiZSA9IFwiRVJSX1VORVhQRUNURURfVFlQRVwiLCB4dCA9IFwiRVJSX1BBUlNFXCIsIG1lID0gXCJFUlJfTkFWSUdBVElPTl9MSVNUX0VNUFRZXCIsIHZlID0gXCJFUlJfTkFWSUdBVElPTl9DVVJTT1JfSU5WQUxJRFwiLCBibiA9IFwiRVJSX05BVklHQVRJT05fSVRFTV9JTlZBTElEXCIsIG1uID0gXCJFUlJfU1NSX0lOSVRcIiwgeWUgPSBcIkVSUl9JTlZBTElEX1BBVEhfQkFTRVwiO1xuZnVuY3Rpb24gVCgpIHtcbiAgcmV0dXJuIGIoYmUsIFwiVmFsdWUgaGFzIHVuZXhwZWN0ZWQgdHlwZVwiKTtcbn1cbmNsYXNzIEcge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuKSB7XG4gICAgdGhpcy5wYXJzZXIgPSB0LCB0aGlzLmlzT3B0aW9uYWwgPSBzLCB0aGlzLnR5cGUgPSBuO1xuICB9XG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBwYXJzZSBwYXNzZWQgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgdG8gcGFyc2UuXG4gICAqIEB0aHJvd3Mge1NES0Vycm9yfSBFUlJfUEFSU0VcbiAgICogQHNlZSBFUlJfUEFSU0VcbiAgICovXG4gIHBhcnNlKHQpIHtcbiAgICBpZiAoISh0aGlzLmlzT3B0aW9uYWwgJiYgdCA9PT0gdm9pZCAwKSlcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlcih0KTtcbiAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgdGhyb3cgYihcbiAgICAgICAgICB4dCxcbiAgICAgICAgICBgVW5hYmxlIHRvIHBhcnNlIHZhbHVlJHt0aGlzLnR5cGUgPyBgIGFzICR7dGhpcy50eXBlfWAgOiBcIlwifWAsXG4gICAgICAgICAgc1xuICAgICAgICApO1xuICAgICAgfVxuICB9XG4gIG9wdGlvbmFsKCkge1xuICAgIHJldHVybiB0aGlzLmlzT3B0aW9uYWwgPSAhMCwgdGhpcztcbiAgfVxufVxuZnVuY3Rpb24gQShlLCB0KSB7XG4gIHJldHVybiAoKSA9PiBuZXcgRyhlLCAhMSwgdCk7XG59XG5jb25zdCBFID0gQSgoZSkgPT4ge1xuICBpZiAodHlwZW9mIGUgPT0gXCJib29sZWFuXCIpXG4gICAgcmV0dXJuIGU7XG4gIGNvbnN0IHQgPSBTdHJpbmcoZSk7XG4gIGlmICh0ID09PSBcIjFcIiB8fCB0ID09PSBcInRydWVcIilcbiAgICByZXR1cm4gITA7XG4gIGlmICh0ID09PSBcIjBcIiB8fCB0ID09PSBcImZhbHNlXCIpXG4gICAgcmV0dXJuICExO1xuICB0aHJvdyBUKCk7XG59LCBcImJvb2xlYW5cIik7XG5mdW5jdGlvbiBDdChlLCB0KSB7XG4gIGNvbnN0IHMgPSB7fTtcbiAgZm9yIChjb25zdCBuIGluIGUpIHtcbiAgICBjb25zdCByID0gZVtuXTtcbiAgICBpZiAoIXIpXG4gICAgICBjb250aW51ZTtcbiAgICBsZXQgaSwgbztcbiAgICBpZiAodHlwZW9mIHIgPT0gXCJmdW5jdGlvblwiIHx8IFwicGFyc2VcIiBpbiByKVxuICAgICAgaSA9IG4sIG8gPSB0eXBlb2YgciA9PSBcImZ1bmN0aW9uXCIgPyByIDogci5wYXJzZS5iaW5kKHIpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgeyB0eXBlOiBhIH0gPSByO1xuICAgICAgaSA9IHIuZnJvbSB8fCBuLCBvID0gdHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiID8gYSA6IGEucGFyc2UuYmluZChhKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGEgPSBvKHQoaSkpO1xuICAgICAgYSAhPT0gdm9pZCAwICYmIChzW25dID0gYSk7XG4gICAgfSBjYXRjaCAoYSkge1xuICAgICAgdGhyb3cgYih4dCwgYFVuYWJsZSB0byBwYXJzZSBmaWVsZCBcIiR7bn1cImAsIGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIFR0KGUpIHtcbiAgbGV0IHQgPSBlO1xuICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIiAmJiAodCA9IEpTT04ucGFyc2UodCkpLCB0eXBlb2YgdCAhPSBcIm9iamVjdFwiIHx8IHQgPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheSh0KSlcbiAgICB0aHJvdyBUKCk7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gdihlLCB0KSB7XG4gIHJldHVybiBuZXcgRygocykgPT4ge1xuICAgIGNvbnN0IG4gPSBUdChzKTtcbiAgICByZXR1cm4gQ3QoZSwgKHIpID0+IG5bcl0pO1xuICB9LCAhMSwgdCk7XG59XG5jb25zdCBSID0gQSgoZSkgPT4ge1xuICBpZiAodHlwZW9mIGUgPT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gZTtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCB0ID0gTnVtYmVyKGUpO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKHQpKVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgdGhyb3cgVCgpO1xufSwgXCJudW1iZXJcIiksIHUgPSBBKChlKSA9PiB7XG4gIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBlID09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIGUudG9TdHJpbmcoKTtcbiAgdGhyb3cgVCgpO1xufSwgXCJzdHJpbmdcIik7XG5mdW5jdGlvbiBBdChlKSB7XG4gIHJldHVybiB2KHtcbiAgICBldmVudFR5cGU6IHUoKSxcbiAgICBldmVudERhdGE6ICh0KSA9PiB0XG4gIH0pLnBhcnNlKGUpO1xufVxuZnVuY3Rpb24gRWUoKSB7XG4gIFtcIlRlbGVncmFtR2FtZVByb3h5X3JlY2VpdmVFdmVudFwiLCBcIlRlbGVncmFtR2FtZVByb3h5XCIsIFwiVGVsZWdyYW1cIl0uZm9yRWFjaCgoZSkgPT4ge1xuICAgIGRlbGV0ZSB3aW5kb3dbZV07XG4gIH0pO1xufVxuZnVuY3Rpb24gZXQoZSwgdCkge1xuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7XG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyBldmVudFR5cGU6IGUsIGV2ZW50RGF0YTogdCB9KSxcbiAgICAvLyBXZSBzcGVjaWZ5IHdpbmRvdy5wYXJlbnQgdG8gaW1pdGF0ZSB0aGUgY2FzZSwgdGhlIHBhcmVudCBpZnJhbWUgc2VudCB1cyB0aGlzIGV2ZW50LlxuICAgIHNvdXJjZTogd2luZG93LnBhcmVudFxuICB9KSk7XG59XG5mdW5jdGlvbiBQZSgpIHtcbiAgW1xuICAgIFtcIlRlbGVncmFtR2FtZVByb3h5X3JlY2VpdmVFdmVudFwiXSxcbiAgICAvLyBXaW5kb3dzIFBob25lLlxuICAgIFtcIlRlbGVncmFtR2FtZVByb3h5XCIsIFwicmVjZWl2ZUV2ZW50XCJdLFxuICAgIC8vIERlc2t0b3AuXG4gICAgW1wiVGVsZWdyYW1cIiwgXCJXZWJWaWV3XCIsIFwicmVjZWl2ZUV2ZW50XCJdXG4gICAgLy8gQW5kcm9pZCBhbmQgaU9TLlxuICBdLmZvckVhY2goKGUpID0+IHtcbiAgICBsZXQgdCA9IHdpbmRvdztcbiAgICBlLmZvckVhY2goKHMsIG4sIHIpID0+IHtcbiAgICAgIGlmIChuID09PSByLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdFtzXSA9IGV0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzIGluIHQgfHwgKHRbc10gPSB7fSksIHQgPSB0W3NdO1xuICAgIH0pO1xuICB9KTtcbn1cbmNvbnN0IFNlID0ge1xuICBjbGlwYm9hcmRfdGV4dF9yZWNlaXZlZDogdih7XG4gICAgcmVxX2lkOiB1KCksXG4gICAgZGF0YTogKGUpID0+IGUgPT09IG51bGwgPyBlIDogdSgpLm9wdGlvbmFsKCkucGFyc2UoZSlcbiAgfSksXG4gIGN1c3RvbV9tZXRob2RfaW52b2tlZDogdih7XG4gICAgcmVxX2lkOiB1KCksXG4gICAgcmVzdWx0OiAoZSkgPT4gZSxcbiAgICBlcnJvcjogdSgpLm9wdGlvbmFsKClcbiAgfSksXG4gIHBvcHVwX2Nsb3NlZDoge1xuICAgIHBhcnNlKGUpIHtcbiAgICAgIHJldHVybiB2KHtcbiAgICAgICAgYnV0dG9uX2lkOiAodCkgPT4gdCA9PSBudWxsID8gdm9pZCAwIDogdSgpLnBhcnNlKHQpXG4gICAgICB9KS5wYXJzZShlID8/IHt9KTtcbiAgICB9XG4gIH0sXG4gIHZpZXdwb3J0X2NoYW5nZWQ6IHYoe1xuICAgIGhlaWdodDogUigpLFxuICAgIHdpZHRoOiAoZSkgPT4gZSA9PSBudWxsID8gd2luZG93LmlubmVyV2lkdGggOiBSKCkucGFyc2UoZSksXG4gICAgaXNfc3RhdGVfc3RhYmxlOiBFKCksXG4gICAgaXNfZXhwYW5kZWQ6IEUoKVxuICB9KVxufTtcbmZ1bmN0aW9uIFJlKCkge1xuICBjb25zdCBlID0gbmV3IEQoKSwgdCA9IG5ldyBEKCk7XG4gIHQuc3Vic2NyaWJlKChuKSA9PiB7XG4gICAgZS5lbWl0KFwiZXZlbnRcIiwgeyBuYW1lOiBuLmV2ZW50LCBwYXlsb2FkOiBuLmFyZ3NbMF0gfSk7XG4gIH0pLCBQZSgpO1xuICBjb25zdCBbLCBzXSA9IG90KFxuICAgIC8vIERvbid0IGZvcmdldCB0byByZW1vdmUgY3JlYXRlZCBoYW5kbGVycy5cbiAgICBFZSxcbiAgICAvLyBBZGQgXCJyZXNpemVcIiBldmVudCBsaXN0ZW5lciB0byBtYWtlIHN1cmUsIHdlIGFsd2F5cyBoYXZlIGZyZXNoIHZpZXdwb3J0IGluZm9ybWF0aW9uLlxuICAgIC8vIERlc2t0b3AgdmVyc2lvbiBvZiBUZWxlZ3JhbSBpcyBzb21ldGltZXMgbm90IHNlbmRpbmcgdGhlIHZpZXdwb3J0X2NoYW5nZWRcbiAgICAvLyBldmVudC4gRm9yIGV4YW1wbGUsIHdoZW4gdGhlIE1haW5CdXR0b24gaXMgc2hvd24uIFRoYXQncyB3aHkgd2Ugc2hvdWxkXG4gICAgLy8gYWRkIG91ciBvd24gbGlzdGVuZXIgdG8gbWFrZSBzdXJlLCB2aWV3cG9ydCBpbmZvcm1hdGlvbiBpcyBhbHdheXMgZnJlc2guXG4gICAgLy8gSXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9UZWxlZ3JhbS1NaW5pLUFwcHMvdGVsZWdyYW0tYXBwcy9pc3N1ZXMvMTBcbiAgICB0dChcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0LmVtaXQoXCJ2aWV3cG9ydF9jaGFuZ2VkXCIsIHtcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgaXNfc3RhdGVfc3RhYmxlOiAhMCxcbiAgICAgICAgaXNfZXhwYW5kZWQ6ICEwXG4gICAgICB9KTtcbiAgICB9KSxcbiAgICAvLyBBZGQgbGlzdGVuZXIsIHdoaWNoIGhhbmRsZXMgZXZlbnRzIHNlbnQgZnJvbSB0aGUgVGVsZWdyYW0gd2ViIGFwcGxpY2F0aW9uIGFuZCBhbHNvIGV2ZW50c1xuICAgIC8vIGdlbmVyYXRlZCBieSB0aGUgbG9jYWwgZW1pdEV2ZW50IGZ1bmN0aW9uLlxuICAgIHR0KFwibWVzc2FnZVwiLCAobikgPT4ge1xuICAgICAgaWYgKG4uc291cmNlICE9PSB3aW5kb3cucGFyZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBsZXQgcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHIgPSBBdChuLmRhdGEpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgZXZlbnRUeXBlOiBpLCBldmVudERhdGE6IG8gfSA9IHIsIGEgPSBTZVtpXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGggPSBhID8gYS5wYXJzZShvKSA6IG87XG4gICAgICAgIHQuZW1pdCguLi5oID8gW2ksIGhdIDogW2ldKTtcbiAgICAgIH0gY2F0Y2ggKGgpIHtcbiAgICAgICAgaXQuZXJyb3IoXG4gICAgICAgICAgYEFuIGVycm9yIG9jY3VycmVkIHByb2Nlc3NpbmcgdGhlIFwiJHtpfVwiIGV2ZW50IGZyb20gdGhlIFRlbGVncmFtIGFwcGxpY2F0aW9uLlxuUGxlYXNlLCBmaWxlIGFuIGlzc3VlIGhlcmU6XG5odHRwczovL2dpdGh1Yi5jb20vVGVsZWdyYW0tTWluaS1BcHBzL3RlbGVncmFtLWFwcHMvaXNzdWVzL25ldy9jaG9vc2VgLFxuICAgICAgICAgIHIsXG4gICAgICAgICAgaFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pLFxuICAgIC8vIENsZWFyIGVtaXR0ZXJzLlxuICAgICgpID0+IGUuY2xlYXIoKSxcbiAgICAoKSA9PiB0LmNsZWFyKClcbiAgKTtcbiAgcmV0dXJuIFt7XG4gICAgb246IHQub24uYmluZCh0KSxcbiAgICBvZmY6IHQub2ZmLmJpbmQodCksXG4gICAgc3Vic2NyaWJlKG4pIHtcbiAgICAgIHJldHVybiBlLm9uKFwiZXZlbnRcIiwgbik7XG4gICAgfSxcbiAgICB1bnN1YnNjcmliZShuKSB7XG4gICAgICBlLm9mZihcImV2ZW50XCIsIG4pO1xuICAgIH0sXG4gICAgZ2V0IGNvdW50KCkge1xuICAgICAgcmV0dXJuIHQuY291bnQgKyBlLmNvdW50O1xuICAgIH1cbiAgfSwgc107XG59XG5jb25zdCBbeGUsIENlXSA9IFN0KFxuICAoZSkgPT4ge1xuICAgIGNvbnN0IFt0LCBzXSA9IFJlKCksIG4gPSB0Lm9mZi5iaW5kKHQpO1xuICAgIHJldHVybiB0Lm9mZiA9IChyLCBpKSA9PiB7XG4gICAgICBjb25zdCB7IGNvdW50OiBvIH0gPSB0O1xuICAgICAgbihyLCBpKSwgbyAmJiAhdC5jb3VudCAmJiBlKCk7XG4gICAgfSwgW3QsIHNdO1xuICB9LFxuICAoWywgZV0pID0+IGUoKVxuKTtcbmZ1bmN0aW9uIGooKSB7XG4gIHJldHVybiB4ZSgpWzBdO1xufVxuZnVuY3Rpb24geihlLCB0KSB7XG4gIGooKS5vZmYoZSwgdCk7XG59XG5mdW5jdGlvbiB5KGUsIHQsIHMpIHtcbiAgcmV0dXJuIGooKS5vbihlLCB0LCBzKTtcbn1cbmZ1bmN0aW9uICQoZSkge1xuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBlICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGUpO1xufVxuZnVuY3Rpb24gVGUoZSwgdCkge1xuICBjb25zdCBzID0gZS5zcGxpdChcIi5cIiksIG4gPSB0LnNwbGl0KFwiLlwiKSwgciA9IE1hdGgubWF4KHMubGVuZ3RoLCBuLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcjsgaSArPSAxKSB7XG4gICAgY29uc3QgbyA9IHBhcnNlSW50KHNbaV0gfHwgXCIwXCIsIDEwKSwgYSA9IHBhcnNlSW50KG5baV0gfHwgXCIwXCIsIDEwKTtcbiAgICBpZiAobyAhPT0gYSlcbiAgICAgIHJldHVybiBvID4gYSA/IDEgOiAtMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGYoZSwgdCkge1xuICByZXR1cm4gVGUoZSwgdCkgPD0gMDtcbn1cbmZ1bmN0aW9uIHgoZSwgdCwgcykge1xuICBpZiAodHlwZW9mIHMgPT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChlID09PSBcIndlYl9hcHBfb3Blbl9saW5rXCIpIHtcbiAgICAgIGlmICh0ID09PSBcInRyeV9pbnN0YW50X3ZpZXdcIilcbiAgICAgICAgcmV0dXJuIGYoXCI2LjRcIiwgcyk7XG4gICAgICBpZiAodCA9PT0gXCJ0cnlfYnJvd3NlclwiKVxuICAgICAgICByZXR1cm4gZihcIjcuNlwiLCBzKTtcbiAgICB9XG4gICAgaWYgKGUgPT09IFwid2ViX2FwcF9zZXRfaGVhZGVyX2NvbG9yXCIgJiYgdCA9PT0gXCJjb2xvclwiKVxuICAgICAgcmV0dXJuIGYoXCI2LjlcIiwgcyk7XG4gICAgaWYgKGUgPT09IFwid2ViX2FwcF9jbG9zZVwiICYmIHQgPT09IFwicmV0dXJuX2JhY2tcIilcbiAgICAgIHJldHVybiBmKFwiNy42XCIsIHMpO1xuICB9XG4gIHN3aXRjaCAoZSkge1xuICAgIGNhc2UgXCJ3ZWJfYXBwX29wZW5fdGdfbGlua1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX29wZW5faW52b2ljZVwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX3NldHVwX2JhY2tfYnV0dG9uXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfc2V0X2JhY2tncm91bmRfY29sb3JcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9zZXRfaGVhZGVyX2NvbG9yXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfdHJpZ2dlcl9oYXB0aWNfZmVlZGJhY2tcIjpcbiAgICAgIHJldHVybiBmKFwiNi4xXCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX29wZW5fcG9wdXBcIjpcbiAgICAgIHJldHVybiBmKFwiNi4yXCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX2Nsb3NlX3NjYW5fcXJfcG9wdXBcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9vcGVuX3NjYW5fcXJfcG9wdXBcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9yZWFkX3RleHRfZnJvbV9jbGlwYm9hcmRcIjpcbiAgICAgIHJldHVybiBmKFwiNi40XCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX3N3aXRjaF9pbmxpbmVfcXVlcnlcIjpcbiAgICAgIHJldHVybiBmKFwiNi43XCIsIHQpO1xuICAgIGNhc2UgXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCI6XG4gICAgY2FzZSBcIndlYl9hcHBfcmVxdWVzdF93cml0ZV9hY2Nlc3NcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9yZXF1ZXN0X3Bob25lXCI6XG4gICAgICByZXR1cm4gZihcIjYuOVwiLCB0KTtcbiAgICBjYXNlIFwid2ViX2FwcF9zZXR1cF9zZXR0aW5nc19idXR0b25cIjpcbiAgICAgIHJldHVybiBmKFwiNi4xMFwiLCB0KTtcbiAgICBjYXNlIFwid2ViX2FwcF9iaW9tZXRyeV9nZXRfaW5mb1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2Jpb21ldHJ5X29wZW5fc2V0dGluZ3NcIjpcbiAgICBjYXNlIFwid2ViX2FwcF9iaW9tZXRyeV9yZXF1ZXN0X2FjY2Vzc1wiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2Jpb21ldHJ5X3JlcXVlc3RfYXV0aFwiOlxuICAgIGNhc2UgXCJ3ZWJfYXBwX2Jpb21ldHJ5X3VwZGF0ZV90b2tlblwiOlxuICAgICAgcmV0dXJuIGYoXCI3LjJcIiwgdCk7XG4gICAgY2FzZSBcIndlYl9hcHBfc2V0dXBfc3dpcGVfYmVoYXZpb3JcIjpcbiAgICAgIHJldHVybiBmKFwiNy43XCIsIHQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW1xuICAgICAgICBcImlmcmFtZV9yZWFkeVwiLFxuICAgICAgICBcImlmcmFtZV93aWxsX3JlbG9hZFwiLFxuICAgICAgICBcIndlYl9hcHBfY2xvc2VcIixcbiAgICAgICAgXCJ3ZWJfYXBwX2RhdGFfc2VuZFwiLFxuICAgICAgICBcIndlYl9hcHBfZXhwYW5kXCIsXG4gICAgICAgIFwid2ViX2FwcF9vcGVuX2xpbmtcIixcbiAgICAgICAgXCJ3ZWJfYXBwX3JlYWR5XCIsXG4gICAgICAgIFwid2ViX2FwcF9yZXF1ZXN0X3RoZW1lXCIsXG4gICAgICAgIFwid2ViX2FwcF9yZXF1ZXN0X3ZpZXdwb3J0XCIsXG4gICAgICAgIFwid2ViX2FwcF9zZXR1cF9tYWluX2J1dHRvblwiLFxuICAgICAgICBcIndlYl9hcHBfc2V0dXBfY2xvc2luZ19iZWhhdmlvclwiXG4gICAgICBdLmluY2x1ZGVzKGUpO1xuICB9XG59XG5mdW5jdGlvbiBrdChlKSB7XG4gIHJldHVybiBcImV4dGVybmFsXCIgaW4gZSAmJiAkKGUuZXh0ZXJuYWwpICYmIFwibm90aWZ5XCIgaW4gZS5leHRlcm5hbCAmJiB0eXBlb2YgZS5leHRlcm5hbC5ub3RpZnkgPT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gSXQoZSkge1xuICByZXR1cm4gXCJUZWxlZ3JhbVdlYnZpZXdQcm94eVwiIGluIGUgJiYgJChlLlRlbGVncmFtV2Vidmlld1Byb3h5KSAmJiBcInBvc3RFdmVudFwiIGluIGUuVGVsZWdyYW1XZWJ2aWV3UHJveHkgJiYgdHlwZW9mIGUuVGVsZWdyYW1XZWJ2aWV3UHJveHkucG9zdEV2ZW50ID09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGF0KCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICEwO1xuICB9XG59XG5jb25zdCBBZSA9IFwiaHR0cHM6Ly93ZWIudGVsZWdyYW0ub3JnXCI7XG5sZXQgT3QgPSBBZTtcbmZ1bmN0aW9uIHZuKGUpIHtcbiAgT3QgPSBlO1xufVxuZnVuY3Rpb24ga2UoKSB7XG4gIHJldHVybiBPdDtcbn1cbmZ1bmN0aW9uIEIoZSwgdCwgcykge1xuICBsZXQgbiA9IHt9LCByO1xuICBpZiAoIXQgJiYgIXMgPyBuID0ge30gOiB0ICYmIHMgPyAobiA9IHMsIHIgPSB0KSA6IHQgJiYgKFwidGFyZ2V0T3JpZ2luXCIgaW4gdCA/IG4gPSB0IDogciA9IHQpLCBsZShcIlBvc3RpbmcgZXZlbnQ6XCIsIHIgPyB7IGV2ZW50OiBlLCBkYXRhOiByIH0gOiB7IGV2ZW50OiBlIH0pLCBhdCgpKVxuICAgIHJldHVybiB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBldmVudFR5cGU6IGUsIGV2ZW50RGF0YTogciB9KSxcbiAgICAgIG4udGFyZ2V0T3JpZ2luIHx8IGtlKClcbiAgICApO1xuICBpZiAoa3Qod2luZG93KSkge1xuICAgIHdpbmRvdy5leHRlcm5hbC5ub3RpZnkoSlNPTi5zdHJpbmdpZnkoeyBldmVudFR5cGU6IGUsIGV2ZW50RGF0YTogciB9KSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChJdCh3aW5kb3cpKSB7XG4gICAgd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5LnBvc3RFdmVudChlLCBKU09OLnN0cmluZ2lmeShyKSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRocm93IGIoXG4gICAgd2UsXG4gICAgXCJVbmFibGUgdG8gZGV0ZXJtaW5lIGN1cnJlbnQgZW52aXJvbm1lbnQgYW5kIHBvc3NpYmxlIHdheSB0byBzZW5kIGV2ZW50LiBZb3UgYXJlIHByb2JhYmx5IHRyeWluZyB0byB1c2UgTWluaSBBcHBzIG1ldGhvZCBvdXRzaWRlIHRoZSBUZWxlZ3JhbSBhcHBsaWNhdGlvbiBlbnZpcm9ubWVudC5cIlxuICApO1xufVxuZnVuY3Rpb24gSWUoZSkge1xuICByZXR1cm4gKHQsIHMpID0+IHtcbiAgICBpZiAoIXgodCwgZSkpXG4gICAgICB0aHJvdyBiKGRlLCBgTWV0aG9kIFwiJHt0fVwiIGlzIHVuc3VwcG9ydGVkIGluIE1pbmkgQXBwcyB2ZXJzaW9uICR7ZX1gKTtcbiAgICBpZiAoJChzKSAmJiB0ID09PSBcIndlYl9hcHBfc2V0X2hlYWRlcl9jb2xvclwiICYmIFwiY29sb3JcIiBpbiBzICYmICF4KHQsIFwiY29sb3JcIiwgZSkpXG4gICAgICB0aHJvdyBiKFxuICAgICAgICBfZSxcbiAgICAgICAgYFBhcmFtZXRlciBcImNvbG9yXCIgb2YgXCIke3R9XCIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIGluIE1pbmkgQXBwcyB2ZXJzaW9uICR7ZX1gXG4gICAgICApO1xuICAgIHJldHVybiBCKHQsIHMpO1xuICB9O1xufVxuZnVuY3Rpb24gcXQoZSkge1xuICByZXR1cm4gKHsgcmVxX2lkOiB0IH0pID0+IHQgPT09IGU7XG59XG5mdW5jdGlvbiBWdChlKSB7XG4gIHJldHVybiBiKGZlLCBgVGltZW91dCByZWFjaGVkOiAke2V9bXNgKTtcbn1cbmZ1bmN0aW9uIE50KGUsIHQpIHtcbiAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSgpIDogZSxcbiAgICBuZXcgUHJvbWlzZSgocywgbikgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG4oVnQodCkpO1xuICAgICAgfSwgdCk7XG4gICAgfSlcbiAgXSk7XG59XG5hc3luYyBmdW5jdGlvbiB3KGUpIHtcbiAgbGV0IHQ7XG4gIGNvbnN0IHMgPSBuZXcgUHJvbWlzZSgoYSkgPT4gdCA9IGEpLCB7IGV2ZW50OiBuLCBjYXB0dXJlOiByLCB0aW1lb3V0OiBpIH0gPSBlLCBbLCBvXSA9IG90KFxuICAgIC8vIFdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIGFsbCB0cmFja2VkIGV2ZW50cywgYW5kIGNyZWF0ZSB0aGVpciBldmVudCBsaXN0ZW5lcnMuXG4gICAgKEFycmF5LmlzQXJyYXkobikgPyBuIDogW25dKS5tYXAoKGEpID0+IHkoYSwgKGgpID0+IHtcbiAgICAgICghciB8fCAoQXJyYXkuaXNBcnJheShuKSA/IHIoe1xuICAgICAgICBldmVudDogYSxcbiAgICAgICAgcGF5bG9hZDogaFxuICAgICAgfSkgOiByKGgpKSkgJiYgdChoKTtcbiAgICB9KSlcbiAgKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gKGUucG9zdEV2ZW50IHx8IEIpKGUubWV0aG9kLCBlLnBhcmFtcyksIGF3YWl0IChpID8gTnQocywgaSkgOiBzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBvKCk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIFYoZSwgdCwgcywgbiA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICByZXN1bHQ6IHIsXG4gICAgZXJyb3I6IGlcbiAgfSA9IGF3YWl0IHcoe1xuICAgIC4uLm4sXG4gICAgbWV0aG9kOiBcIndlYl9hcHBfaW52b2tlX2N1c3RvbV9tZXRob2RcIixcbiAgICBldmVudDogXCJjdXN0b21fbWV0aG9kX2ludm9rZWRcIixcbiAgICBwYXJhbXM6IHtcbiAgICAgIG1ldGhvZDogZSxcbiAgICAgIHBhcmFtczogdCxcbiAgICAgIHJlcV9pZDogc1xuICAgIH0sXG4gICAgY2FwdHVyZTogcXQocylcbiAgfSk7XG4gIGlmIChpKVxuICAgIHRocm93IGIoZ2UsIGkpO1xuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIHN0KC4uLmUpIHtcbiAgcmV0dXJuIGUubWFwKCh0KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdDtcbiAgICBpZiAoJCh0KSlcbiAgICAgIHJldHVybiBzdChPYmplY3QuZW50cmllcyh0KS5tYXAoKHMpID0+IHNbMV0gJiYgc1swXSkpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHQpKVxuICAgICAgcmV0dXJuIHN0KC4uLnQpO1xuICB9KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiB5biguLi5lKSB7XG4gIHJldHVybiBlLnJlZHVjZSgodCwgcykgPT4gKCQocykgJiYgT2JqZWN0LmVudHJpZXMocykuZm9yRWFjaCgoW24sIHJdKSA9PiB7XG4gICAgY29uc3QgaSA9IHN0KHRbbl0sIHIpO1xuICAgIGkubGVuZ3RoICYmICh0W25dID0gaSk7XG4gIH0pLCB0KSwge30pO1xufVxuZnVuY3Rpb24gY3QoZSkge1xuICByZXR1cm4gL14jW1xcZGEtZl17Nn0kL2kudGVzdChlKTtcbn1cbmZ1bmN0aW9uIE9lKGUpIHtcbiAgcmV0dXJuIC9eI1tcXGRhLWZdezN9JC9pLnRlc3QoZSk7XG59XG5mdW5jdGlvbiBEdChlKSB7XG4gIGNvbnN0IHQgPSBlLnJlcGxhY2UoL1xccy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoY3QodCkpXG4gICAgcmV0dXJuIHQ7XG4gIGlmIChPZSh0KSkge1xuICAgIGxldCBuID0gXCIjXCI7XG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCAzOyByICs9IDEpXG4gICAgICBuICs9IHRbMSArIHJdLnJlcGVhdCgyKTtcbiAgICByZXR1cm4gbjtcbiAgfVxuICBjb25zdCBzID0gdC5tYXRjaCgvXnJnYlxcKChcXGR7MSwzfSksKFxcZHsxLDN9KSwoXFxkezEsM30pXFwpJC8pIHx8IHQubWF0Y2goL15yZ2JhXFwoKFxcZHsxLDN9KSwoXFxkezEsM30pLChcXGR7MSwzfSksXFxkezEsM31cXCkkLyk7XG4gIGlmICghcylcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIFwiJHtlfVwiIGRvZXMgbm90IHNhdGlzZnkgYW55IG9mIGtub3duIFJHQiBmb3JtYXRzLmApO1xuICByZXR1cm4gcy5zbGljZSgxKS5yZWR1Y2UoKG4sIHIpID0+IHtcbiAgICBjb25zdCBpID0gcGFyc2VJbnQociwgMTApLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gbiArIChpLmxlbmd0aCA9PT0gMSA/IFwiMFwiIDogXCJcIikgKyBpO1xuICB9LCBcIiNcIik7XG59XG5mdW5jdGlvbiBCdChlKSB7XG4gIGNvbnN0IHQgPSBEdChlKTtcbiAgcmV0dXJuIE1hdGguc3FydChcbiAgICBbMC4yOTksIDAuNTg3LCAwLjExNF0ucmVkdWNlKChzLCBuLCByKSA9PiB7XG4gICAgICBjb25zdCBpID0gcGFyc2VJbnQodC5zbGljZSgxICsgciAqIDIsIDEgKyAociArIDEpICogMiksIDE2KTtcbiAgICAgIHJldHVybiBzICsgaSAqIGkgKiBuO1xuICAgIH0sIDApXG4gICkgPCAxMjA7XG59XG5jbGFzcyBxZSB7XG4gIGNvbnN0cnVjdG9yKHQpIHtcbiAgICBjKHRoaXMsIFwiZWVcIiwgbmV3IEQoKSksIGModGhpcywgXCJvblwiLCB0aGlzLmVlLm9uLmJpbmQodGhpcy5lZSkpLCBjKHRoaXMsIFwib2ZmXCIsIHRoaXMuZWUub2ZmLmJpbmQodGhpcy5lZSkpLCB0aGlzLnN0YXRlID0gdDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIGN1cnJlbnQgc3RhdGUgYW5kIHJldHVybnMgaXRzIGNvcHkuXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4geyAuLi50aGlzLnN0YXRlIH07XG4gIH1cbiAgc2V0KHQsIHMpIHtcbiAgICBPYmplY3QuZW50cmllcyh0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8geyBbdF06IHMgfSA6IHQpLnJlZHVjZSgobiwgW3IsIGldKSA9PiB0aGlzLnN0YXRlW3JdID09PSBpIHx8IGkgPT09IHZvaWQgMCA/IG4gOiAodGhpcy5zdGF0ZVtyXSA9IGksIHRoaXMuZWUuZW1pdChgY2hhbmdlOiR7cn1gLCBpKSwgITApLCAhMSkgJiYgdGhpcy5lZS5lbWl0KFwiY2hhbmdlXCIsIHRoaXMuc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHZhbHVlIGJ5IHNwZWNpZmllZCBrZXkuXG4gICAqIEBwYXJhbSBrZXkgLSBzdGF0ZSBrZXkuXG4gICAqL1xuICBnZXQodCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlW3RdO1xuICB9XG59XG5jbGFzcyBodCB7XG4gIGNvbnN0cnVjdG9yKHQpIHtcbiAgICBjKHRoaXMsIFwic3RhdGVcIiksIGModGhpcywgXCJnZXRcIiksIGModGhpcywgXCJzZXRcIiksIGModGhpcywgXCJjbG9uZVwiKSwgdGhpcy5zdGF0ZSA9IG5ldyBxZSh0KSwgdGhpcy5zZXQgPSB0aGlzLnN0YXRlLnNldC5iaW5kKHRoaXMuc3RhdGUpLCB0aGlzLmdldCA9IHRoaXMuc3RhdGUuZ2V0LmJpbmQodGhpcy5zdGF0ZSksIHRoaXMuY2xvbmUgPSB0aGlzLnN0YXRlLmNsb25lLmJpbmQodGhpcy5zdGF0ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIE10KGUsIHQpIHtcbiAgcmV0dXJuIChzKSA9PiB4KHRbc10sIGUpO1xufVxuY2xhc3MgcHQgZXh0ZW5kcyBodCB7XG4gIGNvbnN0cnVjdG9yKHQsIHMsIG4pIHtcbiAgICBzdXBlcih0KSwgYyh0aGlzLCBcInN1cHBvcnRzXCIpLCB0aGlzLnN1cHBvcnRzID0gTXQocywgbik7XG4gIH1cbn1cbmNsYXNzIFZlIGV4dGVuZHMgcHQge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuKSB7XG4gICAgc3VwZXIoeyBpc1Zpc2libGU6IHQgfSwgcywge1xuICAgICAgc2hvdzogXCJ3ZWJfYXBwX3NldHVwX2JhY2tfYnV0dG9uXCIsXG4gICAgICBoaWRlOiBcIndlYl9hcHBfc2V0dXBfYmFja19idXR0b25cIlxuICAgIH0pLCBjKHRoaXMsIFwib25cIiwgKHIsIGkpID0+IHIgPT09IFwiY2xpY2tcIiA/IHkoXCJiYWNrX2J1dHRvbl9wcmVzc2VkXCIsIGkpIDogdGhpcy5zdGF0ZS5vbihyLCBpKSksIGModGhpcywgXCJvZmZcIiwgKHIsIGkpID0+IHIgPT09IFwiY2xpY2tcIiA/IHooXCJiYWNrX2J1dHRvbl9wcmVzc2VkXCIsIGkpIDogdGhpcy5zdGF0ZS5vZmYociwgaSkpLCB0aGlzLnBvc3RFdmVudCA9IG47XG4gIH1cbiAgc2V0IGlzVmlzaWJsZSh0KSB7XG4gICAgdGhpcy5zZXQoXCJpc1Zpc2libGVcIiwgdCksIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9zZXR1cF9iYWNrX2J1dHRvblwiLCB7IGlzX3Zpc2libGU6IHQgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgQmFja0J1dHRvbiBpcyBjdXJyZW50bHkgdmlzaWJsZS5cbiAgICovXG4gIGdldCBpc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiaXNWaXNpYmxlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgQmFja0J1dHRvbi5cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5pc1Zpc2libGUgPSAhMTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgdGhlIEJhY2tCdXR0b24uXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuaXNWaXNpYmxlID0gITA7XG4gIH1cbn1cbmNvbnN0IEx0ID0gQSgoZSkgPT4gZSBpbnN0YW5jZW9mIERhdGUgPyBlIDogbmV3IERhdGUoUigpLnBhcnNlKGUpICogMWUzKSwgXCJEYXRlXCIpO1xuZnVuY3Rpb24gdXQoZSwgdCkge1xuICByZXR1cm4gbmV3IEcoKHMpID0+IHtcbiAgICBpZiAodHlwZW9mIHMgIT0gXCJzdHJpbmdcIiAmJiAhKHMgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpKVxuICAgICAgdGhyb3cgVCgpO1xuICAgIGNvbnN0IG4gPSB0eXBlb2YgcyA9PSBcInN0cmluZ1wiID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhzKSA6IHM7XG4gICAgcmV0dXJuIEN0KGUsIChyKSA9PiB7XG4gICAgICBjb25zdCBpID0gbi5nZXQocik7XG4gICAgICByZXR1cm4gaSA9PT0gbnVsbCA/IHZvaWQgMCA6IGk7XG4gICAgfSk7XG4gIH0sICExLCB0KTtcbn1cbmNvbnN0IE5lID0gdih7XG4gIGlkOiBSKCksXG4gIHR5cGU6IHUoKSxcbiAgdGl0bGU6IHUoKSxcbiAgcGhvdG9Vcmw6IHtcbiAgICB0eXBlOiB1KCkub3B0aW9uYWwoKSxcbiAgICBmcm9tOiBcInBob3RvX3VybFwiXG4gIH0sXG4gIHVzZXJuYW1lOiB1KCkub3B0aW9uYWwoKVxufSwgXCJDaGF0XCIpLm9wdGlvbmFsKCksIHZ0ID0gdih7XG4gIGFkZGVkVG9BdHRhY2htZW50TWVudToge1xuICAgIHR5cGU6IEUoKS5vcHRpb25hbCgpLFxuICAgIGZyb206IFwiYWRkZWRfdG9fYXR0YWNobWVudF9tZW51XCJcbiAgfSxcbiAgYWxsb3dzV3JpdGVUb1BtOiB7XG4gICAgdHlwZTogRSgpLm9wdGlvbmFsKCksXG4gICAgZnJvbTogXCJhbGxvd3Nfd3JpdGVfdG9fcG1cIlxuICB9LFxuICBmaXJzdE5hbWU6IHtcbiAgICB0eXBlOiB1KCksXG4gICAgZnJvbTogXCJmaXJzdF9uYW1lXCJcbiAgfSxcbiAgaWQ6IFIoKSxcbiAgaXNCb3Q6IHtcbiAgICB0eXBlOiBFKCkub3B0aW9uYWwoKSxcbiAgICBmcm9tOiBcImlzX2JvdFwiXG4gIH0sXG4gIGlzUHJlbWl1bToge1xuICAgIHR5cGU6IEUoKS5vcHRpb25hbCgpLFxuICAgIGZyb206IFwiaXNfcHJlbWl1bVwiXG4gIH0sXG4gIGxhbmd1YWdlQ29kZToge1xuICAgIHR5cGU6IHUoKS5vcHRpb25hbCgpLFxuICAgIGZyb206IFwibGFuZ3VhZ2VfY29kZVwiXG4gIH0sXG4gIGxhc3ROYW1lOiB7XG4gICAgdHlwZTogdSgpLm9wdGlvbmFsKCksXG4gICAgZnJvbTogXCJsYXN0X25hbWVcIlxuICB9LFxuICBwaG90b1VybDoge1xuICAgIHR5cGU6IHUoKS5vcHRpb25hbCgpLFxuICAgIGZyb206IFwicGhvdG9fdXJsXCJcbiAgfSxcbiAgdXNlcm5hbWU6IHUoKS5vcHRpb25hbCgpXG59LCBcIlVzZXJcIikub3B0aW9uYWwoKTtcbmZ1bmN0aW9uICR0KCkge1xuICByZXR1cm4gdXQoe1xuICAgIGF1dGhEYXRlOiB7XG4gICAgICB0eXBlOiBMdCgpLFxuICAgICAgZnJvbTogXCJhdXRoX2RhdGVcIlxuICAgIH0sXG4gICAgY2FuU2VuZEFmdGVyOiB7XG4gICAgICB0eXBlOiBSKCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwiY2FuX3NlbmRfYWZ0ZXJcIlxuICAgIH0sXG4gICAgY2hhdDogTmUsXG4gICAgY2hhdEluc3RhbmNlOiB7XG4gICAgICB0eXBlOiB1KCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwiY2hhdF9pbnN0YW5jZVwiXG4gICAgfSxcbiAgICBjaGF0VHlwZToge1xuICAgICAgdHlwZTogdSgpLm9wdGlvbmFsKCksXG4gICAgICBmcm9tOiBcImNoYXRfdHlwZVwiXG4gICAgfSxcbiAgICBoYXNoOiB1KCksXG4gICAgcXVlcnlJZDoge1xuICAgICAgdHlwZTogdSgpLm9wdGlvbmFsKCksXG4gICAgICBmcm9tOiBcInF1ZXJ5X2lkXCJcbiAgICB9LFxuICAgIHJlY2VpdmVyOiB2dCxcbiAgICBzdGFydFBhcmFtOiB7XG4gICAgICB0eXBlOiB1KCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwic3RhcnRfcGFyYW1cIlxuICAgIH0sXG4gICAgdXNlcjogdnRcbiAgfSwgXCJJbml0RGF0YVwiKTtcbn1cbmNvbnN0IERlID0gQSgoZSkgPT4gRHQodSgpLnBhcnNlKGUpKSwgXCJyZ2JcIik7XG5mdW5jdGlvbiBCZShlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL19bYS16XS9nLCAodCkgPT4gdFsxXS50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIE1lKGUpIHtcbiAgcmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZywgKHQpID0+IGBfJHt0LnRvTG93ZXJDYXNlKCl9YCk7XG59XG5jb25zdCBIdCA9IEEoXG4gIChlKSA9PiB7XG4gICAgY29uc3QgdCA9IERlKCkub3B0aW9uYWwoKTtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoVHQoZSkpLnJlZHVjZSgocywgW24sIHJdKSA9PiAoc1tCZShuKV0gPSB0LnBhcnNlKHIpLCBzKSwge30pO1xuICB9LFxuICBcIlRoZW1lUGFyYW1zXCJcbik7XG5mdW5jdGlvbiBsdChlKSB7XG4gIHJldHVybiB1dCh7XG4gICAgYm90SW5saW5lOiB7XG4gICAgICB0eXBlOiBFKCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwidGdXZWJBcHBCb3RJbmxpbmVcIlxuICAgIH0sXG4gICAgaW5pdERhdGE6IHtcbiAgICAgIHR5cGU6ICR0KCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwidGdXZWJBcHBEYXRhXCJcbiAgICB9LFxuICAgIGluaXREYXRhUmF3OiB7XG4gICAgICB0eXBlOiB1KCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwidGdXZWJBcHBEYXRhXCJcbiAgICB9LFxuICAgIHBsYXRmb3JtOiB7XG4gICAgICB0eXBlOiB1KCksXG4gICAgICBmcm9tOiBcInRnV2ViQXBwUGxhdGZvcm1cIlxuICAgIH0sXG4gICAgc2hvd1NldHRpbmdzOiB7XG4gICAgICB0eXBlOiBFKCkub3B0aW9uYWwoKSxcbiAgICAgIGZyb206IFwidGdXZWJBcHBTaG93U2V0dGluZ3NcIlxuICAgIH0sXG4gICAgc3RhcnRQYXJhbToge1xuICAgICAgdHlwZTogdSgpLm9wdGlvbmFsKCksXG4gICAgICBmcm9tOiBcInRnV2ViQXBwU3RhcnRQYXJhbVwiXG4gICAgfSxcbiAgICB0aGVtZVBhcmFtczoge1xuICAgICAgdHlwZTogSHQoKSxcbiAgICAgIGZyb206IFwidGdXZWJBcHBUaGVtZVBhcmFtc1wiXG4gICAgfSxcbiAgICB2ZXJzaW9uOiB7XG4gICAgICB0eXBlOiB1KCksXG4gICAgICBmcm9tOiBcInRnV2ViQXBwVmVyc2lvblwiXG4gICAgfVxuICB9KS5wYXJzZShlKTtcbn1cbmZ1bmN0aW9uIFV0KGUpIHtcbiAgcmV0dXJuIGx0KFxuICAgIGUucmVwbGFjZSgvXltePyNdKls/I10vLCBcIlwiKS5yZXBsYWNlKC9bPyNdL2csIFwiJlwiKVxuICApO1xufVxuZnVuY3Rpb24gTGUoKSB7XG4gIHJldHVybiBVdCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG59XG5mdW5jdGlvbiBXdCgpIHtcbiAgcmV0dXJuIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xufVxuZnVuY3Rpb24gJGUoKSB7XG4gIGNvbnN0IGUgPSBXdCgpO1xuICBpZiAoIWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBmaXJzdCBuYXZpZ2F0aW9uIGVudHJ5LlwiKTtcbiAgcmV0dXJuIFV0KGUubmFtZSk7XG59XG5mdW5jdGlvbiBHdChlKSB7XG4gIHJldHVybiBgdGVsZWdyYW0tYXBwcy8ke2UucmVwbGFjZSgvW0EtWl0vZywgKHQpID0+IGAtJHt0LnRvTG93ZXJDYXNlKCl9YCl9YDtcbn1cbmZ1bmN0aW9uIGp0KGUsIHQpIHtcbiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShHdChlKSwgSlNPTi5zdHJpbmdpZnkodCkpO1xufVxuZnVuY3Rpb24genQoZSkge1xuICBjb25zdCB0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShHdChlKSk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHQgPyBKU09OLnBhcnNlKHQpIDogdm9pZCAwO1xuICB9IGNhdGNoIHtcbiAgfVxufVxuZnVuY3Rpb24gSGUoKSB7XG4gIHJldHVybiBsdCh6dChcImxhdW5jaFBhcmFtc1wiKSB8fCBcIlwiKTtcbn1cbmZ1bmN0aW9uIEt0KGUpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFxuICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGUpLm1hcCgoW3QsIHNdKSA9PiBbTWUodCksIHNdKVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIFVlKGUpIHtcbiAgY29uc3Qge1xuICAgIGluaXREYXRhUmF3OiB0LFxuICAgIHRoZW1lUGFyYW1zOiBzLFxuICAgIHBsYXRmb3JtOiBuLFxuICAgIHZlcnNpb246IHIsXG4gICAgc2hvd1NldHRpbmdzOiBpLFxuICAgIHN0YXJ0UGFyYW06IG8sXG4gICAgYm90SW5saW5lOiBhXG4gIH0gPSBlLCBoID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICByZXR1cm4gaC5zZXQoXCJ0Z1dlYkFwcFBsYXRmb3JtXCIsIG4pLCBoLnNldChcInRnV2ViQXBwVGhlbWVQYXJhbXNcIiwgS3QocykpLCBoLnNldChcInRnV2ViQXBwVmVyc2lvblwiLCByKSwgdCAmJiBoLnNldChcInRnV2ViQXBwRGF0YVwiLCB0KSwgbyAmJiBoLnNldChcInRnV2ViQXBwU3RhcnRQYXJhbVwiLCBvKSwgdHlwZW9mIGkgPT0gXCJib29sZWFuXCIgJiYgaC5zZXQoXCJ0Z1dlYkFwcFNob3dTZXR0aW5nc1wiLCBpID8gXCIxXCIgOiBcIjBcIiksIHR5cGVvZiBhID09IFwiYm9vbGVhblwiICYmIGguc2V0KFwidGdXZWJBcHBCb3RJbmxpbmVcIiwgYSA/IFwiMVwiIDogXCIwXCIpLCBoLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBKdChlKSB7XG4gIGp0KFwibGF1bmNoUGFyYW1zXCIsIFVlKGUpKTtcbn1cbmZ1bmN0aW9uIG50KCkge1xuICBjb25zdCBlID0gW107XG4gIGZvciAoY29uc3QgdCBvZiBbXG4gICAgLy8gVHJ5IHRvIHJldHJpZXZlIGxhdW5jaCBwYXJhbWV0ZXJzIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24uIFRoaXMgbWV0aG9kIGNhbiByZXR1cm5cbiAgICAvLyBub3RoaW5nIGluIGNhc2UsIGxvY2F0aW9uIHdhcyBjaGFuZ2VkLCBhbmQgdGhlbiB0aGUgcGFnZSB3YXMgcmVsb2FkZWQuXG4gICAgTGUsXG4gICAgLy8gVGhlbiwgdHJ5IHVzaW5nIHRoZSBsb3dlciBsZXZlbCBBUEkgLSB3aW5kb3cucGVyZm9ybWFuY2UuXG4gICAgJGUsXG4gICAgLy8gRmluYWxseSwgdHJ5IHRvIGV4dHJhY3QgbGF1bmNoIHBhcmFtZXRlcnMgZnJvbSB0aGUgc2Vzc2lvbiBzdG9yYWdlLlxuICAgIEhlXG4gIF0pXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB0KCk7XG4gICAgICByZXR1cm4gSnQocyksIHM7XG4gICAgfSBjYXRjaCAocykge1xuICAgICAgZS5wdXNoKHMgaW5zdGFuY2VvZiBFcnJvciA/IHMubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KHMpKTtcbiAgICB9XG4gIHRocm93IG5ldyBFcnJvcihbXG4gICAgYFVuYWJsZSB0byByZXRyaWV2ZSBsYXVuY2ggcGFyYW1ldGVycyBmcm9tIGFueSBrbm93biBzb3VyY2UuIFBlcmhhcHMsIHlvdSBoYXZlIG9wZW5lZCB5b3VyIGFwcCBvdXRzaWRlIFRlbGVncmFtP1xuYCxcbiAgICBcIvCfk5YgUmVmZXIgdG8gZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbjpcIixcbiAgICBgaHR0cHM6Ly9kb2NzLnRlbGVncmFtLW1pbmktYXBwcy5jb20vcGFja2FnZXMvdGVsZWdyYW0tYXBwcy1zZGsvZW52aXJvbm1lbnRcbmAsXG4gICAgXCJDb2xsZWN0ZWQgZXJyb3JzOlwiLFxuICAgIGUubWFwKCh0KSA9PiBg4oCUICR7dH1gKVxuICBdLmpvaW4oYFxuYCkpO1xufVxuZnVuY3Rpb24gRnQoKSB7XG4gIGNvbnN0IGUgPSBXdCgpO1xuICByZXR1cm4gISEoZSAmJiBlLnR5cGUgPT09IFwicmVsb2FkXCIpO1xufVxuZnVuY3Rpb24gV2UoKSB7XG4gIGxldCBlID0gMDtcbiAgcmV0dXJuICgpID0+IChlICs9IDEpLnRvU3RyaW5nKCk7XG59XG5jb25zdCBbR2VdID0gU3QoV2UpO1xuZnVuY3Rpb24gbChlLCB0KSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgcyA9IG50KCksIG4gPSB7XG4gICAgICAuLi5zLFxuICAgICAgcG9zdEV2ZW50OiBJZShzLnZlcnNpb24pLFxuICAgICAgY3JlYXRlUmVxdWVzdElkOiBHZSgpXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgcmV0dXJuIGUobik7XG4gICAgY29uc3QgW3IsIGksIG9dID0gb3QoKSwgYSA9IHQoe1xuICAgICAgLi4ubixcbiAgICAgIC8vIFN0YXRlIHNob3VsZCBvbmx5IGJlIHBhc3NlZCBvbmx5IGluIGNhc2UsIGN1cnJlbnQgcGFnZSB3YXMgcmVsb2FkZWQuIElmIHdlIGRvbid0IGFkZFxuICAgICAgLy8gdGhpcyBjaGVjaywgc3RhdGUgcmVzdG9yYXRpb24gd2lsbCB3b3JrIGltcHJvcGVybHkgaW4gdGhlIHdlYiB2ZXJzaW9uIG9mIFRlbGVncmFtLFxuICAgICAgLy8gd2hlbiB3ZSBhcmUgYWx3YXlzIHdvcmtpbmcgaW4gdGhlIHNhbWUgXCJzZXNzaW9uXCIgKHRhYikuXG4gICAgICBzdGF0ZTogRnQoKSA/IHp0KGUpIDogdm9pZCAwLFxuICAgICAgYWRkQ2xlYW51cDogclxuICAgIH0pLCBoID0gKHApID0+IChvIHx8IHIoXG4gICAgICBwLm9uKFwiY2hhbmdlXCIsIChDKSA9PiB7XG4gICAgICAgIGp0KGUsIEMpO1xuICAgICAgfSlcbiAgICApLCBwKTtcbiAgICByZXR1cm4gW1xuICAgICAgYSBpbnN0YW5jZW9mIFByb21pc2UgPyBhLnRoZW4oaCkgOiBoKGEpLFxuICAgICAgaVxuICAgIF07XG4gIH07XG59XG5jb25zdCBqZSA9IGwoXCJiYWNrQnV0dG9uXCIsICh7XG4gIHBvc3RFdmVudDogZSxcbiAgdmVyc2lvbjogdCxcbiAgc3RhdGU6IHMgPSB7IGlzVmlzaWJsZTogITEgfVxufSkgPT4gbmV3IFZlKHMuaXNWaXNpYmxlLCB0LCBlKSk7XG5jbGFzcyBrIGV4dGVuZHMgcHQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCBjKHRoaXMsIFwib25cIiwgdGhpcy5zdGF0ZS5vbi5iaW5kKHRoaXMuc3RhdGUpKSwgYyh0aGlzLCBcIm9mZlwiLCB0aGlzLnN0YXRlLm9mZi5iaW5kKHRoaXMuc3RhdGUpKTtcbiAgfVxufVxuZnVuY3Rpb24gUXQoZSkge1xuICBjb25zdCB0ID0gZS5hdmFpbGFibGUgPyBlIDoge1xuICAgIGF2YWlsYWJsZTogITEsXG4gICAgZGV2aWNlX2lkOiBcIlwiLFxuICAgIHRva2VuX3NhdmVkOiAhMSxcbiAgICBhY2Nlc3NfcmVxdWVzdGVkOiAhMSxcbiAgICBhY2Nlc3NfZ3JhbnRlZDogITEsXG4gICAgdHlwZTogXCJcIlxuICB9O1xuICByZXR1cm4ge1xuICAgIGF2YWlsYWJsZTogITAsXG4gICAgdHlwZTogdC50eXBlLFxuICAgIGRldmljZUlkOiB0LmRldmljZV9pZCxcbiAgICB0b2tlblNhdmVkOiB0LnRva2VuX3NhdmVkLFxuICAgIGFjY2Vzc1JlcXVlc3RlZDogdC5hY2Nlc3NfcmVxdWVzdGVkLFxuICAgIGFjY2Vzc0dyYW50ZWQ6IHQuYWNjZXNzX2dyYW50ZWRcbiAgfTtcbn1cbmNsYXNzIHplIGV4dGVuZHMgayB7XG4gIGNvbnN0cnVjdG9yKHsgcG9zdEV2ZW50OiB0LCB2ZXJzaW9uOiBzLCAuLi5uIH0pIHtcbiAgICBzdXBlcihuLCBzLCB7XG4gICAgICBhdXRoOiBcIndlYl9hcHBfYmlvbWV0cnlfcmVxdWVzdF9hdXRoXCIsXG4gICAgICBvcGVuU2V0dGluZ3M6IFwid2ViX2FwcF9iaW9tZXRyeV9vcGVuX3NldHRpbmdzXCIsXG4gICAgICByZXF1ZXN0QWNjZXNzOiBcIndlYl9hcHBfYmlvbWV0cnlfcmVxdWVzdF9hY2Nlc3NcIixcbiAgICAgIHVwZGF0ZVRva2VuOiBcIndlYl9hcHBfYmlvbWV0cnlfdXBkYXRlX3Rva2VuXCJcbiAgICB9KSwgYyh0aGlzLCBcInBvc3RFdmVudFwiKSwgYyh0aGlzLCBcImF1dGhQcm9taXNlXCIpLCBjKHRoaXMsIFwiYWNjZXNzUHJvbWlzZVwiKSwgdGhpcy5wb3N0RXZlbnQgPSB0O1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB3aGV0aGVyIGJpb21ldHJ5IGlzIGF2YWlsYWJsZS5cbiAgICovXG4gIGdldCBhdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiYXZhaWxhYmxlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB3aGV0aGVyIHBlcm1pc3Npb24gdG8gdXNlIGJpb21ldHJpY3MgaGFzIGJlZW4gZ3JhbnRlZC5cbiAgICovXG4gIGdldCBhY2Nlc3NHcmFudGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImFjY2Vzc0dyYW50ZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIHdoZXRoZXIgaWYgcGVybWlzc2lvbiB0byB1c2UgYmlvbWV0cmljcyBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICBnZXQgYWNjZXNzUmVxdWVzdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImFjY2Vzc1JlcXVlc3RlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQXV0aGVudGljYXRlcyB0aGUgdXNlciB1c2luZyBiaW9tZXRyaWNzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG1ldGhvZCBvcHRpb25zLlxuICAgKiBAc2luY2UgNy4yXG4gICAqIEByZXR1cm5zIFRva2VuIGZyb20gdGhlIGxvY2FsIHNlY3VyZSBzdG9yYWdlLCBpZiBhdXRoZW50aWNhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICovXG4gIGFzeW5jIGF1dGhlbnRpY2F0ZSh7XG4gICAgcmVhc29uOiB0LFxuICAgIC4uLnNcbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmF1dGhQcm9taXNlIHx8ICh0aGlzLmF1dGhQcm9taXNlID0gdyh7XG4gICAgICAuLi5zLFxuICAgICAgbWV0aG9kOiBcIndlYl9hcHBfYmlvbWV0cnlfcmVxdWVzdF9hdXRoXCIsXG4gICAgICBldmVudDogXCJiaW9tZXRyeV9hdXRoX3JlcXVlc3RlZFwiLFxuICAgICAgcG9zdEV2ZW50OiB0aGlzLnBvc3RFdmVudCxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICAvLyBUT0RPOiBDaGVjayBpZiByZWFzb24gaXMgZW1wdHkgd29ya3MgZmluZS5cbiAgICAgICAgcmVhc29uOiAodCB8fCBcIlwiKS50cmltKClcbiAgICAgIH1cbiAgICB9KS50aGVuKCh7IHRva2VuOiBuIH0pID0+IG4pLmZpbmFsbHkoKCkgPT4gdGhpcy5hdXRoUHJvbWlzZSA9IHZvaWQgMCkpLCB0aGlzLmF1dGhQcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBkZXZpY2UgaWRlbnRpZmllciB0aGF0IGNhbiBiZSB1c2VkIHRvIG1hdGNoIHRoZSB0b2tlbiB0byB0aGUgZGV2aWNlLlxuICAgKi9cbiAgZ2V0IGRldmljZUlkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImRldmljZUlkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVucyB0aGUgYmlvbWV0cmljIGFjY2VzcyBzZXR0aW5ncyBmb3IgYm90cy4gVXNlZnVsIHdoZW4geW91IG5lZWQgdG8gcmVxdWVzdCBiaW9tZXRyaWNzXG4gICAqIGFjY2VzcyB0byB1c2VycyB3aG8gaGF2ZW4ndCBncmFudGVkIGl0IHlldC5cbiAgICpcbiAgICogX05vdGUgdGhhdCB0aGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIG9ubHkgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiB3aXRoIHRoZSBNaW5pIEFwcFxuICAgKiBpbnRlcmZhY2UgKGUuZy4gYSBjbGljayBpbnNpZGUgdGhlIE1pbmkgQXBwIG9yIG9uIHRoZSBtYWluIGJ1dHRvbilfLlxuICAgKiBAc2luY2UgNy4yXG4gICAqL1xuICBvcGVuU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5wb3N0RXZlbnQoXCJ3ZWJfYXBwX2Jpb21ldHJ5X29wZW5fc2V0dGluZ3NcIik7XG4gIH1cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHBlcm1pc3Npb24gdG8gdXNlIGJpb21ldHJpY3MuXG4gICAqIEBzaW5jZSA3LjJcbiAgICogQHJldHVybnMgUHJvbWlzZSB3aXRoIHRydWUsIGlmIGFjY2VzcyB3YXMgZ3JhbnRlZC5cbiAgICovXG4gIHJlcXVlc3RBY2Nlc3MoeyByZWFzb246IHQsIC4uLnMgfSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjZXNzUHJvbWlzZSB8fCAodGhpcy5hY2Nlc3NQcm9taXNlID0gdyh7XG4gICAgICAuLi5zLFxuICAgICAgcG9zdEV2ZW50OiB0aGlzLnBvc3RFdmVudCxcbiAgICAgIG1ldGhvZDogXCJ3ZWJfYXBwX2Jpb21ldHJ5X3JlcXVlc3RfYWNjZXNzXCIsXG4gICAgICBldmVudDogXCJiaW9tZXRyeV9pbmZvX3JlY2VpdmVkXCIsXG4gICAgICBwYXJhbXM6IHsgcmVhc29uOiB0IHx8IFwiXCIgfVxuICAgIH0pLnRoZW4oKG4pID0+IHtcbiAgICAgIGNvbnN0IHIgPSBRdChuKTtcbiAgICAgIHJldHVybiB0aGlzLnNldChyKSwgci5hY2Nlc3NHcmFudGVkO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4gdGhpcy5hY2Nlc3NQcm9taXNlID0gdm9pZCAwKSksIHRoaXMuYWNjZXNzUHJvbWlzZTtcbiAgfVxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgYmlvbWV0cmljcyBjdXJyZW50bHkgYXZhaWxhYmxlIG9uIHRoZSBkZXZpY2UuXG4gICAqL1xuICBnZXQgYmlvbWV0cnlUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImJpb21ldHJ5VHlwZVwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3Mgd2hldGhlciB0b2tlbiB3YXMgc2F2ZWQgcHJldmlvdXNseSBpbiB0aGUgbG9jYWwgc2VjdXJlIHN0b3JhZ2UuXG4gICAqL1xuICBnZXQgdG9rZW5TYXZlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJ0b2tlblNhdmVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBiaW9tZXRyaWMgdG9rZW4gaW4gYSBzZWN1cmUgc3RvcmFnZSBvbiB0aGUgZGV2aWNlLlxuICAgKiBAcmV0dXJucyBQcm9taXNlIHdpdGggYHRydWVgLCBpZiB0b2tlbiB3YXMgdXBkYXRlZC5cbiAgICovXG4gIGFzeW5jIHVwZGF0ZVRva2VuKHsgdG9rZW46IHQsIC4uLnMgfSA9IHt9KSB7XG4gICAgcmV0dXJuIFtcInJlbW92ZWRcIiwgXCJ1cGRhdGVkXCJdLmluY2x1ZGVzKFxuICAgICAgKGF3YWl0IHcoe1xuICAgICAgICAuLi5zLFxuICAgICAgICBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50LFxuICAgICAgICBtZXRob2Q6IFwid2ViX2FwcF9iaW9tZXRyeV91cGRhdGVfdG9rZW5cIixcbiAgICAgICAgZXZlbnQ6IFwiYmlvbWV0cnlfdG9rZW5fdXBkYXRlZFwiLFxuICAgICAgICBwYXJhbXM6IHsgdG9rZW46IHQgfHwgXCJcIiB9XG4gICAgICB9KSkuc3RhdHVzXG4gICAgKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gS2UoZSkge1xuICByZXR1cm4gUXQoXG4gICAgYXdhaXQgdyh7XG4gICAgICAuLi5lIHx8IHt9LFxuICAgICAgbWV0aG9kOiBcIndlYl9hcHBfYmlvbWV0cnlfZ2V0X2luZm9cIixcbiAgICAgIGV2ZW50OiBcImJpb21ldHJ5X2luZm9fcmVjZWl2ZWRcIlxuICAgIH0pXG4gICk7XG59XG5jb25zdCBKZSA9IGwoXG4gIFwiYmlvbWV0cnlNYW5hZ2VyXCIsXG4gIGFzeW5jICh7IHBvc3RFdmVudDogZSwgdmVyc2lvbjogdCwgc3RhdGU6IHMgfSkgPT4gbmV3IHplKHtcbiAgICAuLi5zIHx8IHgoXCJ3ZWJfYXBwX2Jpb21ldHJ5X2dldF9pbmZvXCIsIHQpID8gcyB8fCBhd2FpdCBLZSh7IHRpbWVvdXQ6IDFlMyB9KSA6IHtcbiAgICAgIGF2YWlsYWJsZTogITEsXG4gICAgICBhY2Nlc3NHcmFudGVkOiAhMSxcbiAgICAgIGFjY2Vzc1JlcXVlc3RlZDogITEsXG4gICAgICB0b2tlblNhdmVkOiAhMSxcbiAgICAgIGRldmljZUlkOiBcIlwiXG4gICAgfSxcbiAgICB2ZXJzaW9uOiB0LFxuICAgIHBvc3RFdmVudDogZVxuICB9KVxuKTtcbmNsYXNzIGR0IGV4dGVuZHMgaHQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCBjKHRoaXMsIFwib25cIiwgdGhpcy5zdGF0ZS5vbi5iaW5kKHRoaXMuc3RhdGUpKSwgYyh0aGlzLCBcIm9mZlwiLCB0aGlzLnN0YXRlLm9mZi5iaW5kKHRoaXMuc3RhdGUpKTtcbiAgfVxufVxuY2xhc3MgRmUgZXh0ZW5kcyBkdCB7XG4gIGNvbnN0cnVjdG9yKHQsIHMpIHtcbiAgICBzdXBlcih7IGlzQ29uZmlybWF0aW9uTmVlZGVkOiB0IH0pLCB0aGlzLnBvc3RFdmVudCA9IHM7XG4gIH1cbiAgc2V0IGlzQ29uZmlybWF0aW9uTmVlZGVkKHQpIHtcbiAgICB0aGlzLnNldChcImlzQ29uZmlybWF0aW9uTmVlZGVkXCIsIHQpLCB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfc2V0dXBfY2xvc2luZ19iZWhhdmlvclwiLCB7IG5lZWRfY29uZmlybWF0aW9uOiB0IH0pO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlLCBpZiB0aGUgY29uZmlybWF0aW9uIGRpYWxvZyBzaG91bGQgYmUgc2hvd24gd2hpbGUgdGhlIHVzZXIgaXMgdHJ5aW5nIHRvIGNsb3NlXG4gICAqIHRoZSBNaW5pIEFwcC5cbiAgICovXG4gIGdldCBpc0NvbmZpcm1hdGlvbk5lZWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJpc0NvbmZpcm1hdGlvbk5lZWRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIGNvbmZpcm1hdGlvbiBkaWFsb2cgd2hlbiBjbG9zaW5nIHRoZSBNaW5pIEFwcC5cbiAgICovXG4gIGRpc2FibGVDb25maXJtYXRpb24oKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1hdGlvbk5lZWRlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBjb25maXJtYXRpb24gZGlhbG9nIHdoZW4gY2xvc2luZyB0aGUgTWluaSBBcHAuXG4gICAqL1xuICBlbmFibGVDb25maXJtYXRpb24oKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1hdGlvbk5lZWRlZCA9ICEwO1xuICB9XG59XG5jb25zdCBRZSA9IGwoXG4gIFwiY2xvc2luZ0JlaGF2aW9yXCIsXG4gICh7XG4gICAgcG9zdEV2ZW50OiBlLFxuICAgIHN0YXRlOiB0ID0geyBpc0NvbmZpcm1hdGlvbk5lZWRlZDogITEgfVxuICB9KSA9PiBuZXcgRmUodC5pc0NvbmZpcm1hdGlvbk5lZWRlZCwgZSlcbik7XG5jbGFzcyBfdCB7XG4gIGNvbnN0cnVjdG9yKHQsIHMpIHtcbiAgICBjKHRoaXMsIFwic3VwcG9ydHNcIiksIHRoaXMuc3VwcG9ydHMgPSBNdCh0LCBzKTtcbiAgfVxufVxuZnVuY3Rpb24gWWUoZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSlcbiAgICByZXR1cm4gZTtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHQgPSBKU09OLnBhcnNlKGUpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgdGhyb3cgVCgpO1xufVxuY2xhc3MgWmUgZXh0ZW5kcyBHIHtcbiAgY29uc3RydWN0b3IodCwgcywgbikge1xuICAgIHN1cGVyKFllLCBzLCBuKSwgYyh0aGlzLCBcIml0ZW1QYXJzZXJcIiksIHRoaXMuaXRlbVBhcnNlciA9IHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIiA/IHQgOiB0LnBhcnNlLmJpbmQodCk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIHBhcnNlIHBhc3NlZCB2YWx1ZVxuICAgKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBwYXJzZS5cbiAgICogQHRocm93cyB7U0RLRXJyb3J9IEVSUl9QQVJTRVxuICAgKiBAc2VlIEVSUl9QQVJTRVxuICAgKi9cbiAgcGFyc2UodCkge1xuICAgIGNvbnN0IHMgPSBzdXBlci5wYXJzZSh0KTtcbiAgICByZXR1cm4gcyA9PT0gdm9pZCAwID8gcyA6IHMubWFwKHRoaXMuaXRlbVBhcnNlcik7XG4gIH1cbiAgb2YodCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1QYXJzZXIgPSB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyB0IDogdC5wYXJzZS5iaW5kKHQpLCB0aGlzO1xuICB9XG59XG5mdW5jdGlvbiBYZShlKSB7XG4gIHJldHVybiBuZXcgWmUoKHQpID0+IHQsICExLCBlKTtcbn1cbmZ1bmN0aW9uIHl0KGUsIHQpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlLm1hcCgocykgPT4gW3MsIHRdKSk7XG59XG5jbGFzcyB0cyBleHRlbmRzIF90IHtcbiAgY29uc3RydWN0b3IodCwgcywgbikge1xuICAgIHN1cGVyKHQsIHtcbiAgICAgIGRlbGV0ZTogXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCIsXG4gICAgICBnZXQ6IFwid2ViX2FwcF9pbnZva2VfY3VzdG9tX21ldGhvZFwiLFxuICAgICAgZ2V0S2V5czogXCJ3ZWJfYXBwX2ludm9rZV9jdXN0b21fbWV0aG9kXCIsXG4gICAgICBzZXQ6IFwid2ViX2FwcF9pbnZva2VfY3VzdG9tX21ldGhvZFwiXG4gICAgfSksIHRoaXMuY3JlYXRlUmVxdWVzdElkID0gcywgdGhpcy5wb3N0RXZlbnQgPSBuO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIHNwZWNpZmllZCBrZXkgb3Iga2V5cyBmcm9tIHRoZSBjbG91ZCBzdG9yYWdlLlxuICAgKiBAcGFyYW0ga2V5T3JLZXlzIC0ga2V5IG9yIGtleXMgdG8gZGVsZXRlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHJlcXVlc3QgZXhlY3V0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBhc3luYyBkZWxldGUodCwgcyA9IHt9KSB7XG4gICAgY29uc3QgbiA9IEFycmF5LmlzQXJyYXkodCkgPyB0IDogW3RdO1xuICAgIG4ubGVuZ3RoICYmIGF3YWl0IFYoXG4gICAgICBcImRlbGV0ZVN0b3JhZ2VWYWx1ZXNcIixcbiAgICAgIHsga2V5czogbiB9LFxuICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0SWQoKSxcbiAgICAgIHsgLi4ucywgcG9zdEV2ZW50OiB0aGlzLnBvc3RFdmVudCB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIGFsbCBrZXlzIHByZXNlbnRlZCBpbiB0aGUgY2xvdWQgc3RvcmFnZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSByZXF1ZXN0IGV4ZWN1dGlvbiBvcHRpb25zLlxuICAgKi9cbiAgYXN5bmMgZ2V0S2V5cyh0ID0ge30pIHtcbiAgICByZXR1cm4gWGUoKS5vZih1KCkpLnBhcnNlKFxuICAgICAgYXdhaXQgVihcbiAgICAgICAgXCJnZXRTdG9yYWdlS2V5c1wiLFxuICAgICAgICB7fSxcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0SWQoKSxcbiAgICAgICAgeyAuLi50LCBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50IH1cbiAgICAgIClcbiAgICApO1xuICB9XG4gIGFzeW5jIGdldCh0LCBzID0ge30pIHtcbiAgICBjb25zdCBuID0gQXJyYXkuaXNBcnJheSh0KSA/IHQgOiBbdF07XG4gICAgaWYgKCFuLmxlbmd0aClcbiAgICAgIHJldHVybiB5dChuLCBcIlwiKTtcbiAgICBjb25zdCByID0gYXdhaXQgVihcbiAgICAgIFwiZ2V0U3RvcmFnZVZhbHVlc1wiLFxuICAgICAgeyBrZXlzOiBuIH0sXG4gICAgICB0aGlzLmNyZWF0ZVJlcXVlc3RJZCgpLFxuICAgICAgeyAuLi5zLCBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50IH1cbiAgICApLCBpID0gdih5dChuLCB1KCkpLCBcIkNsb3VkU3RvcmFnZURhdGFcIikucGFyc2Uocik7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodCkgPyBpIDogaVt0XTtcbiAgfVxuICAvKipcbiAgICogU2F2ZXMgc3BlY2lmaWVkIHZhbHVlIGJ5IGtleS5cbiAgICogQHBhcmFtIGtleSAtIHN0b3JhZ2Uga2V5LlxuICAgKiBAcGFyYW0gdmFsdWUgLSBzdG9yYWdlIHZhbHVlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHJlcXVlc3QgZXhlY3V0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBhc3luYyBzZXQodCwgcywgbiA9IHt9KSB7XG4gICAgYXdhaXQgVihcbiAgICAgIFwic2F2ZVN0b3JhZ2VWYWx1ZVwiLFxuICAgICAgeyBrZXk6IHQsIHZhbHVlOiBzIH0sXG4gICAgICB0aGlzLmNyZWF0ZVJlcXVlc3RJZCgpLFxuICAgICAgeyAuLi5uLCBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50IH1cbiAgICApO1xuICB9XG59XG5jb25zdCBlcyA9IGwoXG4gICh7IGNyZWF0ZVJlcXVlc3RJZDogZSwgcG9zdEV2ZW50OiB0LCB2ZXJzaW9uOiBzIH0pID0+IG5ldyB0cyhzLCBlLCB0KVxuKTtcbmNsYXNzIHNzIGV4dGVuZHMgX3Qge1xuICBjb25zdHJ1Y3Rvcih0LCBzKSB7XG4gICAgc3VwZXIodCwge1xuICAgICAgaW1wYWN0T2NjdXJyZWQ6IFwid2ViX2FwcF90cmlnZ2VyX2hhcHRpY19mZWVkYmFja1wiLFxuICAgICAgbm90aWZpY2F0aW9uT2NjdXJyZWQ6IFwid2ViX2FwcF90cmlnZ2VyX2hhcHRpY19mZWVkYmFja1wiLFxuICAgICAgc2VsZWN0aW9uQ2hhbmdlZDogXCJ3ZWJfYXBwX3RyaWdnZXJfaGFwdGljX2ZlZWRiYWNrXCJcbiAgICB9KSwgdGhpcy5wb3N0RXZlbnQgPSBzO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0ZWxscyB0aGF0IGFuIGltcGFjdCBvY2N1cnJlZC4gVGhlIFRlbGVncmFtIGFwcCBtYXkgcGxheSB0aGVcbiAgICogYXBwcm9wcmlhdGUgaGFwdGljcyBiYXNlZCBvbiBzdHlsZSB2YWx1ZSBwYXNzZWQuXG4gICAqIEBwYXJhbSBzdHlsZSAtIGltcGFjdCBzdHlsZS5cbiAgICovXG4gIGltcGFjdE9jY3VycmVkKHQpIHtcbiAgICB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfdHJpZ2dlcl9oYXB0aWNfZmVlZGJhY2tcIiwge1xuICAgICAgdHlwZTogXCJpbXBhY3RcIixcbiAgICAgIGltcGFjdF9zdHlsZTogdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0ZWxscyB0aGF0IGEgdGFzayBvciBhY3Rpb24gaGFzIHN1Y2NlZWRlZCwgZmFpbGVkLCBvciBwcm9kdWNlZFxuICAgKiBhIHdhcm5pbmcuIFRoZSBUZWxlZ3JhbSBhcHAgbWF5IHBsYXkgdGhlIGFwcHJvcHJpYXRlIGhhcHRpY3MgYmFzZWQgb25cbiAgICogdHlwZSB2YWx1ZSBwYXNzZWQuXG4gICAqIEBwYXJhbSB0eXBlIC0gbm90aWZpY2F0aW9uIHR5cGUuXG4gICAqL1xuICBub3RpZmljYXRpb25PY2N1cnJlZCh0KSB7XG4gICAgdGhpcy5wb3N0RXZlbnQoXCJ3ZWJfYXBwX3RyaWdnZXJfaGFwdGljX2ZlZWRiYWNrXCIsIHtcbiAgICAgIHR5cGU6IFwibm90aWZpY2F0aW9uXCIsXG4gICAgICBub3RpZmljYXRpb25fdHlwZTogdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0ZWxscyB0aGF0IHRoZSB1c2VyIGhhcyBjaGFuZ2VkIGEgc2VsZWN0aW9uLiBUaGUgVGVsZWdyYW0gYXBwXG4gICAqIG1heSBwbGF5IHRoZSBhcHByb3ByaWF0ZSBoYXB0aWNzLlxuICAgKlxuICAgKiBEbyBub3QgdXNlIHRoaXMgZmVlZGJhY2sgd2hlbiB0aGUgdXNlciBtYWtlcyBvciBjb25maXJtcyBhIHNlbGVjdGlvbjtcbiAgICogdXNlIGl0IG9ubHkgd2hlbiB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuXG4gICAqL1xuICBzZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF90cmlnZ2VyX2hhcHRpY19mZWVkYmFja1wiLCB7IHR5cGU6IFwic2VsZWN0aW9uX2NoYW5nZVwiIH0pO1xuICB9XG59XG5jb25zdCBucyA9IGwoXG4gICh7IHZlcnNpb246IGUsIHBvc3RFdmVudDogdCB9KSA9PiBuZXcgc3MoZSwgdClcbik7XG5jbGFzcyBycyB7XG4gIGNvbnN0cnVjdG9yKHQpIHtcbiAgICB0aGlzLmluaXREYXRhID0gdDtcbiAgfVxuICAvKipcbiAgICogQHNlZSBJbml0RGF0YVBhcnNlZC5hdXRoRGF0ZVxuICAgKi9cbiAgZ2V0IGF1dGhEYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmluaXREYXRhLmF1dGhEYXRlO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIEluaXREYXRhUGFyc2VkLmNhblNlbmRBZnRlclxuICAgKi9cbiAgZ2V0IGNhblNlbmRBZnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RGF0YS5jYW5TZW5kQWZ0ZXI7XG4gIH1cbiAgLyoqXG4gICAqIERhdGUgYWZ0ZXIgd2hpY2ggaXQgaXMgYWxsb3dlZCB0byBjYWxsXG4gICAqIHRoZSBbYW5zd2VyV2ViQXBwUXVlcnldKGh0dHBzOi8vY29yZS50ZWxlZ3JhbS5vcmcvYm90cy9hcGkjYW5zd2Vyd2ViYXBwcXVlcnkpIG1ldGhvZC5cbiAgICovXG4gIGdldCBjYW5TZW5kQWZ0ZXJEYXRlKCkge1xuICAgIGNvbnN0IHsgY2FuU2VuZEFmdGVyOiB0IH0gPSB0aGlzO1xuICAgIHJldHVybiB0ID8gbmV3IERhdGUodGhpcy5hdXRoRGF0ZS5nZXRUaW1lKCkgKyB0ICogMWUzKSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogQHNlZSBJbml0RGF0YVBhcnNlZC5jaGF0XG4gICAqL1xuICBnZXQgY2hhdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RGF0YS5jaGF0O1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIEluaXREYXRhUGFyc2VkLmNoYXRUeXBlXG4gICAqL1xuICBnZXQgY2hhdFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5pdERhdGEuY2hhdFR5cGU7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgSW5pdERhdGFQYXJzZWQuY2hhdEluc3RhbmNlXG4gICAqL1xuICBnZXQgY2hhdEluc3RhbmNlKCkge1xuICAgIHJldHVybiB0aGlzLmluaXREYXRhLmNoYXRJbnN0YW5jZTtcbiAgfVxuICAvKipcbiAgICogQHNlZSBJbml0RGF0YVBhcnNlZC5oYXNoXG4gICAqL1xuICBnZXQgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RGF0YS5oYXNoO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIEluaXREYXRhUGFyc2VkLnF1ZXJ5SWRcbiAgICovXG4gIGdldCBxdWVyeUlkKCkge1xuICAgIHJldHVybiB0aGlzLmluaXREYXRhLnF1ZXJ5SWQ7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgSW5pdERhdGFQYXJzZWQucmVjZWl2ZXJcbiAgICovXG4gIGdldCByZWNlaXZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RGF0YS5yZWNlaXZlcjtcbiAgfVxuICAvKipcbiAgICogQHNlZSBJbml0RGF0YVBhcnNlZC5zdGFydFBhcmFtXG4gICAqL1xuICBnZXQgc3RhcnRQYXJhbSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RGF0YS5zdGFydFBhcmFtO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIEluaXREYXRhUGFyc2VkLnVzZXJcbiAgICovXG4gIGdldCB1c2VyKCkge1xuICAgIHJldHVybiB0aGlzLmluaXREYXRhLnVzZXI7XG4gIH1cbn1cbmNvbnN0IGlzID0gbChcbiAgKHsgaW5pdERhdGE6IGUgfSkgPT4gZSA/IG5ldyBycyhlKSA6IHZvaWQgMFxuKTtcbmZ1bmN0aW9uIEVuKGUpIHtcbiAgcmV0dXJuICR0KCkucGFyc2UoZSk7XG59XG5jbGFzcyBvcyBleHRlbmRzIGsge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuKSB7XG4gICAgc3VwZXIoeyBpc09wZW5lZDogdCB9LCBzLCB7IG9wZW46IFwid2ViX2FwcF9vcGVuX2ludm9pY2VcIiB9KSwgdGhpcy5wb3N0RXZlbnQgPSBuO1xuICB9XG4gIHNldCBpc09wZW5lZCh0KSB7XG4gICAgdGhpcy5zZXQoXCJpc09wZW5lZFwiLCB0KTtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBpbnZvaWNlIGlzIGN1cnJlbnRseSBvcGVuZWQuXG4gICAqL1xuICBnZXQgaXNPcGVuZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiaXNPcGVuZWRcIik7XG4gIH1cbiAgYXN5bmMgb3Blbih0LCBzKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZvaWNlIGlzIGFscmVhZHkgb3BlbmVkXCIpO1xuICAgIGxldCBuO1xuICAgIGlmICghcylcbiAgICAgIG4gPSB0O1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgeyBob3N0bmFtZTogciwgcGF0aG5hbWU6IGkgfSA9IG5ldyBVUkwodCwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgaWYgKHIgIT09IFwidC5tZVwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBob3N0bmFtZTogJHtyfWApO1xuICAgICAgY29uc3QgbyA9IGkubWF0Y2goL15cXC8oXFwkfGludm9pY2VcXC8pKFtBLVphLXowLTlcXC1fPV0rKSQvKTtcbiAgICAgIGlmICghbylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMaW5rIHBhdGhuYW1lIGhhcyBpbmNvcnJlY3QgZm9ybWF0LiBFeHBlY3RlZCB0byByZWNlaXZlIFwiL2ludm9pY2Uve3NsdWd9XCIgb3IgXCIvJHtzbHVnfVwiJyk7XG4gICAgICBbLCAsIG5dID0gbztcbiAgICB9XG4gICAgdGhpcy5pc09wZW5lZCA9ICEwO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGF3YWl0IHcoe1xuICAgICAgICBtZXRob2Q6IFwid2ViX2FwcF9vcGVuX2ludm9pY2VcIixcbiAgICAgICAgZXZlbnQ6IFwiaW52b2ljZV9jbG9zZWRcIixcbiAgICAgICAgcGFyYW1zOiB7IHNsdWc6IG4gfSxcbiAgICAgICAgcG9zdEV2ZW50OiB0aGlzLnBvc3RFdmVudCxcbiAgICAgICAgY2FwdHVyZShyKSB7XG4gICAgICAgICAgcmV0dXJuIG4gPT09IHIuc2x1ZztcbiAgICAgICAgfVxuICAgICAgfSkpLnN0YXR1cztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc09wZW5lZCA9ICExO1xuICAgIH1cbiAgfVxufVxuY29uc3QgYXMgPSBsKFxuICAoeyB2ZXJzaW9uOiBlLCBwb3N0RXZlbnQ6IHQgfSkgPT4gbmV3IG9zKCExLCBlLCB0KVxuKTtcbmNsYXNzIGNzIGV4dGVuZHMgaHQge1xuICBjb25zdHJ1Y3Rvcih7IHBvc3RFdmVudDogdCwgLi4ucyB9KSB7XG4gICAgc3VwZXIocyksIGModGhpcywgXCJwb3N0RXZlbnRcIiksIGModGhpcywgXCJvblwiLCAobiwgcikgPT4gbiA9PT0gXCJjbGlja1wiID8geShcIm1haW5fYnV0dG9uX3ByZXNzZWRcIiwgcikgOiB0aGlzLnN0YXRlLm9uKG4sIHIpKSwgYyh0aGlzLCBcIm9mZlwiLCAobiwgcikgPT4gbiA9PT0gXCJjbGlja1wiID8geihcIm1haW5fYnV0dG9uX3ByZXNzZWRcIiwgcikgOiB0aGlzLnN0YXRlLm9mZihuLCByKSksIHRoaXMucG9zdEV2ZW50ID0gdDtcbiAgfVxuICAvKipcbiAgICogVGhlIE1haW5CdXR0b24gYmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIGdldCBiZ0NvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImJnQ29sb3JcIik7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRzIGN1cnJlbnQgbG9jYWwgc3RhdGUgdG8gdGhlIFRlbGVncmFtIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgY29tbWl0KCkge1xuICAgIHRoaXMudGV4dCAhPT0gXCJcIiAmJiB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfc2V0dXBfbWFpbl9idXR0b25cIiwge1xuICAgICAgaXNfdmlzaWJsZTogdGhpcy5pc1Zpc2libGUsXG4gICAgICBpc19hY3RpdmU6IHRoaXMuaXNFbmFibGVkLFxuICAgICAgaXNfcHJvZ3Jlc3NfdmlzaWJsZTogdGhpcy5pc0xvYWRlclZpc2libGUsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQsXG4gICAgICBjb2xvcjogdGhpcy5iZ0NvbG9yLFxuICAgICAgdGV4dF9jb2xvcjogdGhpcy50ZXh0Q29sb3JcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIE1haW5CdXR0b24uXG4gICAqIEBzZWUgRG9lcyBub3Qgd29yayBvbiBBbmRyb2lkOiBodHRwczovL2dpdGh1Yi5jb20vVGVsZWdyYW0tTWluaS1BcHBzL2lzc3Vlcy9pc3N1ZXMvMVxuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPSAhMSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgTWFpbkJ1dHRvbi5cbiAgICovXG4gIGVuYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPSAhMCwgdGhpcztcbiAgfVxuICAvKipcbiAgICogSGlkZXMgdGhlIE1haW5CdXR0b24uXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmlzaWJsZSA9ICExLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgTWFpbkJ1dHRvbiBsb2FkaW5nIGluZGljYXRvci5cbiAgICovXG4gIGhpZGVMb2FkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNMb2FkZXJWaXNpYmxlID0gITEsIHRoaXM7XG4gIH1cbiAgc2V0IGlzRW5hYmxlZCh0KSB7XG4gICAgdGhpcy5zZXRQYXJhbXMoeyBpc0VuYWJsZWQ6IHQgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIE1haW5CdXR0b24gaXMgZW5hYmxlZC5cbiAgICovXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiaXNFbmFibGVkXCIpO1xuICB9XG4gIHNldCBpc0xvYWRlclZpc2libGUodCkge1xuICAgIHRoaXMuc2V0UGFyYW1zKHsgaXNMb2FkZXJWaXNpYmxlOiB0IH0pO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBNYWluQnV0dG9uIGxvYWRlciBpcyB2aXNpYmxlLlxuICAgKi9cbiAgZ2V0IGlzTG9hZGVyVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJpc0xvYWRlclZpc2libGVcIik7XG4gIH1cbiAgc2V0IGlzVmlzaWJsZSh0KSB7XG4gICAgdGhpcy5zZXRQYXJhbXMoeyBpc1Zpc2libGU6IHQgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIE1haW5CdXR0b24gaXMgdmlzaWJsZS5cbiAgICovXG4gIGdldCBpc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiaXNWaXNpYmxlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB0aGUgTWFpbkJ1dHRvbi5cbiAgICpcbiAgICogTm90ZSB0aGF0IG9wZW5pbmcgdGhlIE1pbmkgQXBwIGZyb20gdGhlIGF0dGFjaG1lbnQgbWVudSBoaWRlcyB0aGUgbWFpbiBidXR0b24gdW50aWwgdGhlXG4gICAqIHVzZXIgaW50ZXJhY3RzIHdpdGggdGhlIE1pbmkgQXBwIGludGVyZmFjZS5cbiAgICovXG4gIHNob3coKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWaXNpYmxlID0gITAsIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIGEgbG9hZGluZyBpbmRpY2F0b3Igb24gdGhlIE1haW4gQnV0dG9uLlxuICAgKi9cbiAgc2hvd0xvYWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5pc0xvYWRlclZpc2libGUgPSAhMCwgdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyBhIG5ldyBNYWluQnV0dG9uIHRleHQuIE1pbmltYWwgbGVuZ3RoIGZvciB0aGUgdGV4dCBpcyAxIHN5bWJvbCwgYW5kIG1heGltdW0gaXMgNjQgc3ltYm9scy5cbiAgICogQHBhcmFtIHRleHQgLSBhIG5ldyB0ZXh0LlxuICAgKi9cbiAgc2V0VGV4dCh0KSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UGFyYW1zKHsgdGV4dDogdCB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBhIG5ldyBNYWluIEJ1dHRvbiB0ZXh0IGNvbG9yLlxuICAgKiBAcGFyYW0gdGV4dENvbG9yIC0gbmV3IHRleHQgY29sb3IuXG4gICAqL1xuICBzZXRUZXh0Q29sb3IodCkge1xuICAgIHJldHVybiB0aGlzLnNldFBhcmFtcyh7IHRleHRDb2xvcjogdCB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBjdXJyZW50IE1haW4gQnV0dG9uIGNvbG9yLlxuICAgKiBAcGFyYW0gYmdDb2xvciAtIGNvbG9yIHRvIHNldC5cbiAgICovXG4gIHNldEJnQ29sb3IodCkge1xuICAgIHJldHVybiB0aGlzLnNldFBhcmFtcyh7IGJnQ29sb3I6IHQgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93cyBzZXR0aW5nIG11bHRpcGxlIE1haW4gQnV0dG9uIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBNYWluIEJ1dHRvbiBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgc2V0UGFyYW1zKHQpIHtcbiAgICByZXR1cm4gdGhpcy5zZXQodCksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBNYWluQnV0dG9uIHRleHQuXG4gICAqL1xuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJ0ZXh0XCIpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgTWFpbkJ1dHRvbiB0ZXh0IGNvbG9yLlxuICAgKi9cbiAgZ2V0IHRleHRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJ0ZXh0Q29sb3JcIik7XG4gIH1cbn1cbmNvbnN0IGhzID0gbChcbiAgXCJtYWluQnV0dG9uXCIsXG4gICh7XG4gICAgcG9zdEV2ZW50OiBlLFxuICAgIHRoZW1lUGFyYW1zOiB0LFxuICAgIHN0YXRlOiBzID0ge1xuICAgICAgaXNWaXNpYmxlOiAhMSxcbiAgICAgIGlzRW5hYmxlZDogITEsXG4gICAgICB0ZXh0OiBcIlwiLFxuICAgICAgaXNMb2FkZXJWaXNpYmxlOiAhMSxcbiAgICAgIHRleHRDb2xvcjogdC5idXR0b25UZXh0Q29sb3IgfHwgXCIjZmZmZmZmXCIsXG4gICAgICBiZ0NvbG9yOiB0LmJ1dHRvbkNvbG9yIHx8IFwiIzAwMDAwMFwiXG4gICAgfVxuICB9KSA9PiBuZXcgY3MoeyAuLi5zLCBwb3N0RXZlbnQ6IGUgfSlcbik7XG5mdW5jdGlvbiBwcygpIHtcbiAgcmV0dXJuIHV0KHtcbiAgICBjb250YWN0OiB2KHtcbiAgICAgIHVzZXJJZDoge1xuICAgICAgICB0eXBlOiBSKCksXG4gICAgICAgIGZyb206IFwidXNlcl9pZFwiXG4gICAgICB9LFxuICAgICAgcGhvbmVOdW1iZXI6IHtcbiAgICAgICAgdHlwZTogdSgpLFxuICAgICAgICBmcm9tOiBcInBob25lX251bWJlclwiXG4gICAgICB9LFxuICAgICAgZmlyc3ROYW1lOiB7XG4gICAgICAgIHR5cGU6IHUoKSxcbiAgICAgICAgZnJvbTogXCJmaXJzdF9uYW1lXCJcbiAgICAgIH0sXG4gICAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiB1KCkub3B0aW9uYWwoKSxcbiAgICAgICAgZnJvbTogXCJsYXN0X25hbWVcIlxuICAgICAgfVxuICAgIH0pLFxuICAgIGF1dGhEYXRlOiB7XG4gICAgICB0eXBlOiBMdCgpLFxuICAgICAgZnJvbTogXCJhdXRoX2RhdGVcIlxuICAgIH0sXG4gICAgaGFzaDogdSgpXG4gIH0sIFwiUmVxdWVzdGVkQ29udGFjdFwiKTtcbn1cbmZ1bmN0aW9uIFl0KGUsIHQpIHtcbiAgcmV0dXJuIChzKSA9PiB7XG4gICAgY29uc3QgW24sIHJdID0gdFtzXTtcbiAgICByZXR1cm4geChuLCByLCBlKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzKGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCh0KSA9PiB7XG4gICAgc2V0VGltZW91dCh0LCBlKTtcbiAgfSk7XG59XG5jbGFzcyBscyBleHRlbmRzIGsge1xuICBjb25zdHJ1Y3Rvcih7IHBvc3RFdmVudDogdCwgY3JlYXRlUmVxdWVzdElkOiBzLCB2ZXJzaW9uOiBuLCBib3RJbmxpbmU6IHIsIC4uLmkgfSkge1xuICAgIHN1cGVyKGksIG4sIHtcbiAgICAgIHJlcXVlc3RQaG9uZUFjY2VzczogXCJ3ZWJfYXBwX3JlcXVlc3RfcGhvbmVcIixcbiAgICAgIHJlcXVlc3RXcml0ZUFjY2VzczogXCJ3ZWJfYXBwX3JlcXVlc3Rfd3JpdGVfYWNjZXNzXCIsXG4gICAgICBzd2l0Y2hJbmxpbmVRdWVyeTogXCJ3ZWJfYXBwX3N3aXRjaF9pbmxpbmVfcXVlcnlcIixcbiAgICAgIHNldEhlYWRlckNvbG9yOiBcIndlYl9hcHBfc2V0X2hlYWRlcl9jb2xvclwiLFxuICAgICAgc2V0QmFja2dyb3VuZENvbG9yOiBcIndlYl9hcHBfc2V0X2JhY2tncm91bmRfY29sb3JcIlxuICAgIH0pLCBjKHRoaXMsIFwiYm90SW5saW5lXCIpLCBjKHRoaXMsIFwicG9zdEV2ZW50XCIpLCBjKHRoaXMsIFwiY3JlYXRlUmVxdWVzdElkXCIpLCBjKHRoaXMsIFwicmVxdWVzdFBob25lQWNjZXNzUHJvbWlzZVwiKSwgYyh0aGlzLCBcInJlcXVlc3RXcml0ZUFjY2Vzc1Byb21pc2VcIiksIGModGhpcywgXCJzdXBwb3J0c1BhcmFtXCIpLCB0aGlzLmNyZWF0ZVJlcXVlc3RJZCA9IHMsIHRoaXMucG9zdEV2ZW50ID0gdCwgdGhpcy5ib3RJbmxpbmUgPSByO1xuICAgIGNvbnN0IG8gPSB0aGlzLnN1cHBvcnRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdXBwb3J0cyA9IChhKSA9PiBvKGEpID8gYSAhPT0gXCJzd2l0Y2hJbmxpbmVRdWVyeVwiIHx8IHIgOiAhMSwgdGhpcy5zdXBwb3J0c1BhcmFtID0gWXQobiwge1xuICAgICAgXCJzZXRIZWFkZXJDb2xvci5jb2xvclwiOiBbXCJ3ZWJfYXBwX3NldF9oZWFkZXJfY29sb3JcIiwgXCJjb2xvclwiXSxcbiAgICAgIFwiY2xvc2UucmV0dXJuQmFja1wiOiBbXCJ3ZWJfYXBwX2Nsb3NlXCIsIFwicmV0dXJuX2JhY2tcIl1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZ2V0IHJlcXVlc3RlZCBjb250YWN0LlxuICAgKiBAcGFyYW0gdGltZW91dCAtIHJlcXVlc3QgdGltZW91dC5cbiAgICovXG4gIGFzeW5jIGdldFJlcXVlc3RlZENvbnRhY3Qoe1xuICAgIHRpbWVvdXQ6IHQgPSAxZTRcbiAgfSA9IHt9KSB7XG4gICAgcmV0dXJuIHBzKCkucGFyc2UoXG4gICAgICBhd2FpdCBWKFxuICAgICAgICBcImdldFJlcXVlc3RlZENvbnRhY3RcIixcbiAgICAgICAge30sXG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdElkKCksXG4gICAgICAgIHsgcG9zdEV2ZW50OiB0aGlzLnBvc3RFdmVudCwgdGltZW91dDogdCB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVGhlIE1pbmkgQXBwIGJhY2tncm91bmQgY29sb3IuXG4gICAqIEBleGFtcGxlIFwiI2ZmYWFiYlwiXG4gICAqL1xuICBnZXQgYmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJiZ0NvbG9yXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIE1pbmkgQXBwLlxuICAgKiBAcGFyYW0gcmV0dXJuQmFjayAtIHNob3VsZCB0aGUgYXBwbGljYXRpb24gYmUgd3JhcHBlZCBpbnRvIHRoZSBib3R0b20gYmFyLlxuICAgKi9cbiAgY2xvc2UodCkge1xuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9jbG9zZVwiLCB0aGlzLnN1cHBvcnRzUGFyYW0oXCJjbG9zZS5yZXR1cm5CYWNrXCIpID8geyByZXR1cm5fYmFjazogdCB9IDoge30pO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgTWluaSBBcHAgaGVhZGVyIGNvbG9yLlxuICAgKiBAZXhhbXBsZSBcIiNmZmFhYmJcIlxuICAgKiBAZXhhbXBsZSBcImJnX2NvbG9yXCJcbiAgICovXG4gIGdldCBoZWFkZXJDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJoZWFkZXJDb2xvclwiKTtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgTWluaSBBcHAgaXMgY3VycmVudGx5IGxhdW5jaGVkIGluIGJvdCBpbmxpbmUgbW9kZS5cbiAgICovXG4gIGdldCBpc0JvdElubGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3RJbmxpbmU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIGN1cnJlbnQgTWluaSBBcHAgYmFja2dyb3VuZCBjb2xvciBpcyByZWNvZ25pemVkIGFzIGRhcmsuXG4gICAqL1xuICBnZXQgaXNEYXJrKCkge1xuICAgIHJldHVybiBCdCh0aGlzLmJnQ29sb3IpO1xuICB9XG4gIC8qKlxuICAgKiBJbmZvcm1zIHRoZSBUZWxlZ3JhbSBhcHAgdGhhdCB0aGUgTWluaSBBcHAgaXMgcmVhZHkgdG8gYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0byBjYWxsIHRoaXMgbWV0aG9kIGFzIGVhcmx5IGFzIHBvc3NpYmxlLCBhcyBzb29uIGFzIGFsbCBlc3NlbnRpYWxcbiAgICogaW50ZXJmYWNlIGVsZW1lbnRzIGxvYWRlZC4gT25jZSB0aGlzIG1ldGhvZCBjYWxsZWQsIHRoZSBsb2FkaW5nIHBsYWNlaG9sZGVyIGlzIGhpZGRlblxuICAgKiBhbmQgdGhlIE1pbmkgQXBwIHNob3duLlxuICAgKlxuICAgKiBJZiB0aGUgbWV0aG9kIG5vdCBjYWxsZWQsIHRoZSBwbGFjZWhvbGRlciB3aWxsIGJlIGhpZGRlbiBvbmx5IHdoZW4gdGhlIHBhZ2UgZnVsbHkgbG9hZGVkLlxuICAgKi9cbiAgcmVhZHkoKSB7XG4gICAgdGhpcy5wb3N0RXZlbnQoXCJ3ZWJfYXBwX3JlYWR5XCIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBjdXJyZW50IHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gSW4gY29udHJhcnkgdG8gcmVxdWVzdFBob25lQWNjZXNzLCB0aGlzIG1ldGhvZFxuICAgKiByZXR1cm5zIHByb21pc2Ugd2l0aCBjb250YWN0IGluZm9ybWF0aW9uIHRoYXQgcmVqZWN0cyBpbiBjYXNlLCB1c2VyIGRlbmllZCBhY2Nlc3MsIG9yIHJlcXVlc3RcbiAgICogZmFpbGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICovXG4gIGFzeW5jIHJlcXVlc3RDb250YWN0KHsgdGltZW91dDogdCA9IDVlMyB9ID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0UmVxdWVzdGVkQ29udGFjdCgpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICBpZiAoYXdhaXQgdGhpcy5yZXF1ZXN0UGhvbmVBY2Nlc3MoKSAhPT0gXCJzZW50XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBY2Nlc3MgZGVuaWVkLlwiKTtcbiAgICBjb25zdCBzID0gRGF0ZS5ub3coKSArIHQ7XG4gICAgbGV0IG4gPSA1MDtcbiAgICByZXR1cm4gTnQoYXN5bmMgKCkgPT4ge1xuICAgICAgZm9yICg7IERhdGUubm93KCkgPCBzOyApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRSZXF1ZXN0ZWRDb250YWN0KCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHVzKG4pLCBuICs9IDUwO1xuICAgICAgfVxuICAgICAgdGhyb3cgVnQodCk7XG4gICAgfSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGN1cnJlbnQgdXNlciBwaG9uZSBhY2Nlc3MuIE1ldGhvZCByZXR1cm5zIHByb21pc2UsIHdoaWNoIHJlc29sdmVzXG4gICAqIHN0YXR1cyBvZiB0aGUgcmVxdWVzdC4gSW4gY2FzZSwgdXNlciBhY2NlcHRlZCB0aGUgcmVxdWVzdCwgTWluaSBBcHAgYm90IHdpbGwgcmVjZWl2ZVxuICAgKiB0aGUgYWNjb3JkaW5nIG5vdGlmaWNhdGlvbi5cbiAgICpcbiAgICogVG8gb2J0YWluIHRoZSByZXRyaWV2ZWQgaW5mb3JtYXRpb24gaW5zdGVhZCwgdXRpbGl6ZSB0aGUgYHJlcXVlc3RDb250YWN0YCBtZXRob2QuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYWRkaXRpb25hbCBvcHRpb25zLlxuICAgKiBAc2VlIHJlcXVlc3RDb250YWN0XG4gICAqL1xuICBhc3luYyByZXF1ZXN0UGhvbmVBY2Nlc3ModCA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdFBob25lQWNjZXNzUHJvbWlzZSB8fCAodGhpcy5yZXF1ZXN0UGhvbmVBY2Nlc3NQcm9taXNlID0gdyh7XG4gICAgICAuLi50LFxuICAgICAgbWV0aG9kOiBcIndlYl9hcHBfcmVxdWVzdF9waG9uZVwiLFxuICAgICAgZXZlbnQ6IFwicGhvbmVfcmVxdWVzdGVkXCIsXG4gICAgICBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50XG4gICAgfSkudGhlbigoeyBzdGF0dXM6IHMgfSkgPT4gcykuZmluYWxseSgoKSA9PiB0aGlzLnJlcXVlc3RQaG9uZUFjY2Vzc1Byb21pc2UgPSB2b2lkIDApKSwgdGhpcy5yZXF1ZXN0UGhvbmVBY2Nlc3NQcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBSZXF1ZXN0cyB3cml0ZSBtZXNzYWdlIGFjY2VzcyB0byBjdXJyZW50IHVzZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYWRkaXRpb25hbCBvcHRpb25zLlxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdFdyaXRlQWNjZXNzKHQgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RXcml0ZUFjY2Vzc1Byb21pc2UgfHwgKHRoaXMucmVxdWVzdFdyaXRlQWNjZXNzUHJvbWlzZSA9IHcoe1xuICAgICAgLi4udCxcbiAgICAgIG1ldGhvZDogXCJ3ZWJfYXBwX3JlcXVlc3Rfd3JpdGVfYWNjZXNzXCIsXG4gICAgICBldmVudDogXCJ3cml0ZV9hY2Nlc3NfcmVxdWVzdGVkXCIsXG4gICAgICBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50XG4gICAgfSkudGhlbigoeyBzdGF0dXM6IHMgfSkgPT4gcykuZmluYWxseSgoKSA9PiB0aGlzLnJlcXVlc3RXcml0ZUFjY2Vzc1Byb21pc2UgPSB2b2lkIDApKSwgdGhpcy5yZXF1ZXN0V3JpdGVBY2Nlc3NQcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB1c2VkIHRvIHNlbmQgZGF0YSB0byB0aGUgYm90LiBXaGVuIHRoaXMgbWV0aG9kIGNhbGxlZCwgYSBzZXJ2aWNlIG1lc3NhZ2Ugc2VudCB0b1xuICAgKiB0aGUgYm90IGNvbnRhaW5pbmcgdGhlIGRhdGEgb2YgdGhlIGxlbmd0aCB1cCB0byA0MDk2IGJ5dGVzLCBhbmQgdGhlIE1pbmkgQXBwIGNsb3NlZC4gU2VlIHRoZVxuICAgKiBmaWVsZCBgd2ViX2FwcF9kYXRhYCBpbiB0aGUgY2xhc3MgW01lc3NhZ2VdKGh0dHBzOi8vY29yZS50ZWxlZ3JhbS5vcmcvYm90cy9hcGkjbWVzc2FnZSkuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBNaW5pIEFwcHMgbGF1bmNoZWQgdmlhIGEgS2V5Ym9hcmQgYnV0dG9uLlxuICAgKiBAcGFyYW0gZGF0YSAtIGRhdGEgdG8gc2VuZCB0byBib3QuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBkYXRhIGhhcyBpbmNvcnJlY3Qgc2l6ZS5cbiAgICovXG4gIHNlbmREYXRhKHQpIHtcbiAgICBjb25zdCB7IHNpemU6IHMgfSA9IG5ldyBCbG9iKFt0XSk7XG4gICAgaWYgKCFzIHx8IHMgPiA0MDk2KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXNzZWQgZGF0YSBoYXMgaW5jb3JyZWN0IHNpemU6ICR7c31gKTtcbiAgICB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfZGF0YV9zZW5kXCIsIHsgZGF0YTogdCB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBjdXJyZW50IE1pbmkgQXBwIGhlYWRlciBjb2xvci5cbiAgICpcbiAgICogQHNlZSBObyBlZmZlY3Qgb24gZGVza3RvcDogaHR0cHM6Ly9naXRodWIuY29tL1RlbGVncmFtLU1pbmktQXBwcy90ZWxlZ3JhbS1hcHBzL2lzc3Vlcy85XG4gICAqIEBzZWUgV29ya3MgaW5jb3JyZWN0bHkgaW4gQW5kcm9pZDogaHR0cHM6Ly9naXRodWIuY29tL1RlbGVncmFtLU1pbmktQXBwcy90ZWxlZ3JhbS1hcHBzL2lzc3Vlcy84XG4gICAqIEBwYXJhbSBjb2xvciAtIGNvbG9yIGtleSBvciBSR0IgY29sb3IuXG4gICAqL1xuICBzZXRIZWFkZXJDb2xvcih0KSB7XG4gICAgdGhpcy5wb3N0RXZlbnQoXCJ3ZWJfYXBwX3NldF9oZWFkZXJfY29sb3JcIiwgY3QodCkgPyB7IGNvbG9yOiB0IH0gOiB7IGNvbG9yX2tleTogdCB9KSwgdGhpcy5zZXQoXCJoZWFkZXJDb2xvclwiLCB0KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBjdXJyZW50IE1pbmkgQXBwIGJhY2tncm91bmQgY29sb3IuXG4gICAqXG4gICAqIEBzZWUgTm8gZWZmZWN0IG9uIGRlc2t0b3A6IGh0dHBzOi8vZ2l0aHViLmNvbS9UZWxlZ3JhbS1NaW5pLUFwcHMvdGVsZWdyYW0tYXBwcy9pc3N1ZXMvOVxuICAgKiBAc2VlIFdvcmtzIGluY29ycmVjdGx5IGluIEFuZHJvaWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9UZWxlZ3JhbS1NaW5pLUFwcHMvdGVsZWdyYW0tYXBwcy9pc3N1ZXMvOFxuICAgKiBAcGFyYW0gY29sb3IgLSBSR0IgY29sb3IuXG4gICAqL1xuICBzZXRCZ0NvbG9yKHQpIHtcbiAgICB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfc2V0X2JhY2tncm91bmRfY29sb3JcIiwgeyBjb2xvcjogdCB9KSwgdGhpcy5zZXQoXCJiZ0NvbG9yXCIsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoZSBib3QncyB1c2VybmFtZSBhbmQgdGhlIHNwZWNpZmllZCBpbmxpbmUgcXVlcnkgaW4gdGhlIGN1cnJlbnQgY2hhdCdzIGlucHV0IGZpZWxkLlxuICAgKiBRdWVyeSBtYXkgYmUgZW1wdHksIGluIHdoaWNoIGNhc2Ugb25seSB0aGUgYm90J3MgdXNlcm5hbWUgd2lsbCBiZSBpbnNlcnRlZC4gVGhlIGNsaWVudCBwcm9tcHRzXG4gICAqIHRoZSB1c2VyIHRvIGNob29zZSBhIHNwZWNpZmljIGNoYXQsIHRoZW4gb3BlbnMgdGhhdCBjaGF0IGFuZCBpbnNlcnRzIHRoZSBib3QncyB1c2VybmFtZSBhbmRcbiAgICogdGhlIHNwZWNpZmllZCBpbmxpbmUgcXVlcnkgaW4gdGhlIGlucHV0IGZpZWxkLlxuICAgKiBAcGFyYW0gdGV4dCAtIHRleHQgd2hpY2ggc2hvdWxkIGJlIGluc2VydGVkIGluIHRoZSBpbnB1dCBhZnRlciB0aGUgY3VycmVudCBib3QgbmFtZS4gTWF4XG4gICAqIGxlbmd0aCBpcyAyNTYgc3ltYm9scy5cbiAgICogQHBhcmFtIGNoYXRUeXBlcyAtIExpc3Qgb2YgY2hhdCB0eXBlcyB3aGljaCBjb3VsZCBiZSBjaG9zZW4gdG8gc2VuZCB0aGUgbWVzc2FnZS4gQ291bGQgYmVcbiAgICogZW1wdHkgbGlzdC5cbiAgICovXG4gIHN3aXRjaElubGluZVF1ZXJ5KHQsIHMgPSBbXSkge1xuICAgIGlmICghdGhpcy5zdXBwb3J0cyhcInN3aXRjaElubGluZVF1ZXJ5XCIpICYmICF0aGlzLmlzQm90SW5saW5lKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIGlzIHVuc3VwcG9ydGVkIGJlY2F1c2UgTWluaSBBcHAgc2hvdWxkIGJlIGxhdW5jaGVkIGluIGlubGluZSBtb2RlLlwiKTtcbiAgICB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfc3dpdGNoX2lubGluZV9xdWVyeVwiLCB7IHF1ZXJ5OiB0LCBjaGF0X3R5cGVzOiBzIH0pO1xuICB9XG59XG5jb25zdCBkcyA9IGwoXG4gIFwibWluaUFwcFwiLFxuICAoe1xuICAgIHRoZW1lUGFyYW1zOiBlLFxuICAgIGJvdElubGluZTogdCA9ICExLFxuICAgIHN0YXRlOiBzID0ge1xuICAgICAgYmdDb2xvcjogZS5iZ0NvbG9yIHx8IFwiI2ZmZmZmZlwiLFxuICAgICAgaGVhZGVyQ29sb3I6IGUuaGVhZGVyQmdDb2xvciB8fCBcIiMwMDAwMDBcIlxuICAgIH0sXG4gICAgLi4ublxuICB9KSA9PiBuZXcgbHMoeyAuLi5uLCAuLi5zLCBib3RJbmxpbmU6IHQgfSlcbik7XG5mdW5jdGlvbiBfcyhlKSB7XG4gIGNvbnN0IHQgPSBlLm1lc3NhZ2UudHJpbSgpLCBzID0gKGUudGl0bGUgfHwgXCJcIikudHJpbSgpLCBuID0gZS5idXR0b25zIHx8IFtdO1xuICBsZXQgcjtcbiAgaWYgKHMubGVuZ3RoID4gNjQpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaXRsZSBoYXMgaW5jb3JyZWN0IHNpemU6ICR7cy5sZW5ndGh9YCk7XG4gIGlmICghdC5sZW5ndGggfHwgdC5sZW5ndGggPiAyNTYpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBNZXNzYWdlIGhhcyBpbmNvcnJlY3Qgc2l6ZTogJHt0Lmxlbmd0aH1gKTtcbiAgaWYgKG4ubGVuZ3RoID4gMylcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJ1dHRvbnMgaGF2ZSBpbmNvcnJlY3Qgc2l6ZTogJHtuLmxlbmd0aH1gKTtcbiAgcmV0dXJuIG4ubGVuZ3RoID8gciA9IG4ubWFwKChpKSA9PiB7XG4gICAgY29uc3QgeyBpZDogbyA9IFwiXCIgfSA9IGk7XG4gICAgaWYgKG8ubGVuZ3RoID4gNjQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJ1dHRvbiBJRCBoYXMgaW5jb3JyZWN0IHNpemU6ICR7b31gKTtcbiAgICBpZiAoIWkudHlwZSB8fCBpLnR5cGUgPT09IFwiZGVmYXVsdFwiIHx8IGkudHlwZSA9PT0gXCJkZXN0cnVjdGl2ZVwiKSB7XG4gICAgICBjb25zdCBhID0gaS50ZXh0LnRyaW0oKTtcbiAgICAgIGlmICghYS5sZW5ndGggfHwgYS5sZW5ndGggPiA2NCkge1xuICAgICAgICBjb25zdCBoID0gaS50eXBlIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJ1dHRvbiB0ZXh0IHdpdGggdHlwZSBcIiR7aH1cIiBoYXMgaW5jb3JyZWN0IHNpemU6ICR7aS50ZXh0Lmxlbmd0aH1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IC4uLmksIHRleHQ6IGEsIGlkOiBvIH07XG4gICAgfVxuICAgIHJldHVybiB7IC4uLmksIGlkOiBvIH07XG4gIH0pIDogciA9IFt7IHR5cGU6IFwiY2xvc2VcIiwgaWQ6IFwiXCIgfV0sIHsgdGl0bGU6IHMsIG1lc3NhZ2U6IHQsIGJ1dHRvbnM6IHIgfTtcbn1cbmNsYXNzIHdzIGV4dGVuZHMgayB7XG4gIGNvbnN0cnVjdG9yKHQsIHMsIG4pIHtcbiAgICBzdXBlcih7IGlzT3BlbmVkOiB0IH0sIHMsIHsgb3BlbjogXCJ3ZWJfYXBwX29wZW5fcG9wdXBcIiB9KSwgdGhpcy5wb3N0RXZlbnQgPSBuO1xuICB9XG4gIHNldCBpc09wZW5lZCh0KSB7XG4gICAgdGhpcy5zZXQoXCJpc09wZW5lZFwiLCB0KTtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgUG9wdXAgaXMgb3BlbmVkLlxuICAgKi9cbiAgZ2V0IGlzT3BlbmVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImlzT3BlbmVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0aGF0IHNob3dzIGEgbmF0aXZlIHBvcHVwIGRlc2NyaWJlZCBieSB0aGUgYHBhcmFtc2AgYXJndW1lbnQuXG4gICAqIFByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aGVuIHBvcHVwIGlzIGNsb3NlZC4gUmVzb2x2ZWQgdmFsdWUgd2lsbCBoYXZlXG4gICAqIGFuIGlkZW50aWZpZXIgb2YgcHJlc3NlZCBidXR0b24uXG4gICAqXG4gICAqIEluIGNhc2UsIHVzZXIgY2xpY2tlZCBvdXRzaWRlIHRoZSBwb3B1cCBvciBjbGlja2VkIHRvcCByaWdodCBwb3B1cCBjbG9zZVxuICAgKiBidXR0b24sIG51bGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBwb3B1cCBwYXJhbWV0ZXJzLlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gUG9wdXAgaXMgYWxyZWFkeSBvcGVuZWQuXG4gICAqL1xuICBhc3luYyBvcGVuKHQpIHtcbiAgICBpZiAodGhpcy5pc09wZW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvcHVwIGlzIGFscmVhZHkgb3BlbmVkLlwiKTtcbiAgICB0aGlzLmlzT3BlbmVkID0gITA7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgYnV0dG9uX2lkOiBzID0gbnVsbCB9ID0gYXdhaXQgdyh7XG4gICAgICAgIGV2ZW50OiBcInBvcHVwX2Nsb3NlZFwiLFxuICAgICAgICBtZXRob2Q6IFwid2ViX2FwcF9vcGVuX3BvcHVwXCIsXG4gICAgICAgIHBvc3RFdmVudDogdGhpcy5wb3N0RXZlbnQsXG4gICAgICAgIHBhcmFtczogX3ModClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHM7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNPcGVuZWQgPSAhMTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IGdzID0gbChcbiAgKHsgcG9zdEV2ZW50OiBlLCB2ZXJzaW9uOiB0IH0pID0+IG5ldyB3cyghMSwgdCwgZSlcbik7XG5jbGFzcyBmcyBleHRlbmRzIGsge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuKSB7XG4gICAgc3VwZXIoeyBpc09wZW5lZDogdCB9LCBzLCB7XG4gICAgICBjbG9zZTogXCJ3ZWJfYXBwX2Nsb3NlX3NjYW5fcXJfcG9wdXBcIixcbiAgICAgIG9wZW46IFwid2ViX2FwcF9vcGVuX3NjYW5fcXJfcG9wdXBcIlxuICAgIH0pLCB0aGlzLnBvc3RFdmVudCA9IG47XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgc2Nhbm5lci5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9jbG9zZV9zY2FuX3FyX3BvcHVwXCIpLCB0aGlzLmlzT3BlbmVkID0gITE7XG4gIH1cbiAgc2V0IGlzT3BlbmVkKHQpIHtcbiAgICB0aGlzLnNldChcImlzT3BlbmVkXCIsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNjYW5uZXIgaXMgY3VycmVudGx5IG9wZW5lZC5cbiAgICovXG4gIGdldCBpc09wZW5lZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJpc09wZW5lZFwiKTtcbiAgfVxuICBhc3luYyBvcGVuKHQpIHtcbiAgICBpZiAodGhpcy5pc09wZW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzY2FubmVyIGlzIGFscmVhZHkgb3BlbmVkXCIpO1xuICAgIGNvbnN0IHsgdGV4dDogcywgY2FwdHVyZTogbiB9ID0gKHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyB7IHRleHQ6IHQgfSA6IHQpIHx8IHt9O1xuICAgIHRoaXMuaXNPcGVuZWQgPSAhMDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgciA9IChhd2FpdCB3KHtcbiAgICAgICAgbWV0aG9kOiBcIndlYl9hcHBfb3Blbl9zY2FuX3FyX3BvcHVwXCIsXG4gICAgICAgIGV2ZW50OiBbXCJxcl90ZXh0X3JlY2VpdmVkXCIsIFwic2Nhbl9xcl9wb3B1cF9jbG9zZWRcIl0sXG4gICAgICAgIHBvc3RFdmVudDogdGhpcy5wb3N0RXZlbnQsXG4gICAgICAgIHBhcmFtczogeyB0ZXh0OiBzIH0sXG4gICAgICAgIGNhcHR1cmUoaSkge1xuICAgICAgICAgIHJldHVybiBpLmV2ZW50ID09PSBcInNjYW5fcXJfcG9wdXBfY2xvc2VkXCIgfHwgIW4gfHwgbihpLnBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9KSB8fCB7fSkuZGF0YSB8fCBudWxsO1xuICAgICAgcmV0dXJuIHIgJiYgdGhpcy5jbG9zZSgpLCByO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmlzT3BlbmVkID0gITE7XG4gICAgfVxuICB9XG4gIC8vIFRPRE86IFN0cmVhbWluZyBtb2RlLCBhbGxvd2luZyB0byBzY2FuIHNldmVyYWwgUVJzIHVudGlsIGNsb3NlZC5cbn1cbmNvbnN0IGJzID0gbChcbiAgKHsgdmVyc2lvbjogZSwgcG9zdEV2ZW50OiB0IH0pID0+IG5ldyBmcyghMSwgZSwgdClcbik7XG5jbGFzcyBtcyBleHRlbmRzIHB0IHtcbiAgY29uc3RydWN0b3IodCwgcywgbikge1xuICAgIHN1cGVyKHsgaXNWaXNpYmxlOiB0IH0sIHMsIHtcbiAgICAgIHNob3c6IFwid2ViX2FwcF9zZXR1cF9zZXR0aW5nc19idXR0b25cIixcbiAgICAgIGhpZGU6IFwid2ViX2FwcF9zZXR1cF9zZXR0aW5nc19idXR0b25cIlxuICAgIH0pLCBjKHRoaXMsIFwib25cIiwgKHIsIGkpID0+IHIgPT09IFwiY2xpY2tcIiA/IHkoXCJzZXR0aW5nc19idXR0b25fcHJlc3NlZFwiLCBpKSA6IHRoaXMuc3RhdGUub24ociwgaSkpLCBjKHRoaXMsIFwib2ZmXCIsIChyLCBpKSA9PiByID09PSBcImNsaWNrXCIgPyB6KFwic2V0dGluZ3NfYnV0dG9uX3ByZXNzZWRcIiwgaSkgOiB0aGlzLnN0YXRlLm9mZihyLCBpKSksIHRoaXMucG9zdEV2ZW50ID0gbjtcbiAgfVxuICBzZXQgaXNWaXNpYmxlKHQpIHtcbiAgICB0aGlzLnNldChcImlzVmlzaWJsZVwiLCB0KSwgdGhpcy5wb3N0RXZlbnQoXCJ3ZWJfYXBwX3NldHVwX3NldHRpbmdzX2J1dHRvblwiLCB7IGlzX3Zpc2libGU6IHQgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIFNldHRpbmdzQnV0dG9uIGlzIHZpc2libGUuXG4gICAqL1xuICBnZXQgaXNWaXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImlzVmlzaWJsZVwiKTtcbiAgfVxuICAvKipcbiAgICogSGlkZXMgdGhlIFNldHRpbmdzQnV0dG9uLlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmlzVmlzaWJsZSA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB0aGUgU2V0dGluZ3NCdXR0b24uXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuaXNWaXNpYmxlID0gITA7XG4gIH1cbn1cbmNvbnN0IHZzID0gbChcbiAgXCJzZXR0aW5nc0J1dHRvblwiLFxuICAoe1xuICAgIHZlcnNpb246IGUsXG4gICAgcG9zdEV2ZW50OiB0LFxuICAgIHN0YXRlOiBzID0geyBpc1Zpc2libGU6ICExIH1cbiAgfSkgPT4gbmV3IG1zKHMuaXNWaXNpYmxlLCBlLCB0KVxuKTtcbmNsYXNzIHlzIGV4dGVuZHMgayB7XG4gIGNvbnN0cnVjdG9yKHQsIHMsIG4pIHtcbiAgICBzdXBlcih7IGlzVmVydGljYWxTd2lwZUVuYWJsZWQ6IHQgfSwgcywge1xuICAgICAgZGlzYWJsZVZlcnRpY2FsU3dpcGU6IFwid2ViX2FwcF9zZXR1cF9zd2lwZV9iZWhhdmlvclwiLFxuICAgICAgZW5hYmxlVmVydGljYWxTd2lwZTogXCJ3ZWJfYXBwX3NldHVwX3N3aXBlX2JlaGF2aW9yXCJcbiAgICB9KSwgdGhpcy5wb3N0RXZlbnQgPSBuO1xuICB9XG4gIHNldCBpc1ZlcnRpY2FsU3dpcGVFbmFibGVkKHQpIHtcbiAgICB0aGlzLnNldChcImlzVmVydGljYWxTd2lwZUVuYWJsZWRcIiwgdCksIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9zZXR1cF9zd2lwZV9iZWhhdmlvclwiLCB7IGFsbG93X3ZlcnRpY2FsX3N3aXBlOiB0IH0pO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlLCBpZiB0aGUgdmVydGljYWwgc3dpcGUgZW5hYmxlZC5cbiAgICovXG4gIGdldCBpc1ZlcnRpY2FsU3dpcGVFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImlzVmVydGljYWxTd2lwZUVuYWJsZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSB2ZXJ0aWNhbCBzd2lwZS5cbiAgICovXG4gIGRpc2FibGVWZXJ0aWNhbFN3aXBlKCkge1xuICAgIHRoaXMuaXNWZXJ0aWNhbFN3aXBlRW5hYmxlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSB2ZXJ0aWNhbCBzd2lwZS5cbiAgICovXG4gIGVuYWJsZVZlcnRpY2FsU3dpcGUoKSB7XG4gICAgdGhpcy5pc1ZlcnRpY2FsU3dpcGVFbmFibGVkID0gITA7XG4gIH1cbn1cbmNvbnN0IEVzID0gbChcbiAgXCJzd2lwZUJlaGF2aW9yXCIsXG4gICh7XG4gICAgcG9zdEV2ZW50OiBlLFxuICAgIHN0YXRlOiB0ID0geyBpc1ZlcnRpY2FsU3dpcGVFbmFibGVkOiAhMCB9LFxuICAgIHZlcnNpb246IHNcbiAgfSkgPT4gbmV3IHlzKHQuaXNWZXJ0aWNhbFN3aXBlRW5hYmxlZCwgcywgZSlcbik7XG5mdW5jdGlvbiBadChlKSB7XG4gIHJldHVybiBIdCgpLnBhcnNlKGUpO1xufVxuY2xhc3MgUHMgZXh0ZW5kcyBkdCB7XG4gIC8qKlxuICAgKiBAc2luY2UgdjYuMTBcbiAgICovXG4gIGdldCBhY2NlbnRUZXh0Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiYWNjZW50VGV4dENvbG9yXCIpO1xuICB9XG4gIGdldCBiZ0NvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImJnQ29sb3JcIik7XG4gIH1cbiAgZ2V0IGJ1dHRvbkNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImJ1dHRvbkNvbG9yXCIpO1xuICB9XG4gIGdldCBidXR0b25UZXh0Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiYnV0dG9uVGV4dENvbG9yXCIpO1xuICB9XG4gIGdldCBkZXN0cnVjdGl2ZVRleHRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJkZXN0cnVjdGl2ZVRleHRDb2xvclwiKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29weSBvZiB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50IGluc3RhbmNlLlxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIHY2LjEwXG4gICAqL1xuICBnZXQgaGVhZGVyQmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJoZWFkZXJCZ0NvbG9yXCIpO1xuICB9XG4gIGdldCBoaW50Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwiaGludENvbG9yXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBUcnVlIGluIGNhc2UsIGN1cnJlbnQgY29sb3Igc2NoZW1lIGlzIHJlY29nbml6ZWQgYXMgZGFyay4gVGhpc1xuICAgKiB2YWx1ZSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGVtZSBiZyBjb2xvci5cbiAgICovXG4gIGdldCBpc0RhcmsoKSB7XG4gICAgcmV0dXJuICF0aGlzLmJnQ29sb3IgfHwgQnQodGhpcy5iZ0NvbG9yKTtcbiAgfVxuICBnZXQgbGlua0NvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImxpbmtDb2xvclwiKTtcbiAgfVxuICBnZXQgc2Vjb25kYXJ5QmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJzZWNvbmRhcnlCZ0NvbG9yXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgdjYuMTBcbiAgICovXG4gIGdldCBzZWN0aW9uQmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJzZWN0aW9uQmdDb2xvclwiKTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIHY2LjEwXG4gICAqL1xuICBnZXQgc2VjdGlvbkhlYWRlclRleHRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJzZWN0aW9uSGVhZGVyVGV4dENvbG9yXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgdjcuNlxuICAgKi9cbiAgZ2V0IHNlY3Rpb25TZXBhcmF0b3JDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJzZWN0aW9uSGVhZGVyVGV4dENvbG9yXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydHMgbGlzdGVuaW5nIHRvIHRoZSBleHRlcm5hbCB0aGVtZSBjaGFuZ2VzIGFuZCBhcHBsaWVzIHRoZW0uXG4gICAqIEByZXR1cm5zIEZ1bmN0aW9uIHRvIHN0b3AgbGlzdGVuaW5nLlxuICAgKi9cbiAgbGlzdGVuKCkge1xuICAgIHJldHVybiB5KFwidGhlbWVfY2hhbmdlZFwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5zZXQoWnQodC50aGVtZV9wYXJhbXMpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIHY2LjEwXG4gICAqL1xuICBnZXQgc3VidGl0bGVUZXh0Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwic3VidGl0bGVUZXh0Q29sb3JcIik7XG4gIH1cbiAgZ2V0IHRleHRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJ0ZXh0Q29sb3JcIik7XG4gIH1cbn1cbmNvbnN0IFNzID0gbChcbiAgXCJ0aGVtZVBhcmFtc1wiLFxuICAoeyB0aGVtZVBhcmFtczogZSwgc3RhdGU6IHQgPSBlLCBhZGRDbGVhbnVwOiBzIH0pID0+IHtcbiAgICBjb25zdCBuID0gbmV3IFBzKHQpO1xuICAgIHJldHVybiBzKG4ubGlzdGVuKCkpLCBuO1xuICB9XG4pO1xuZnVuY3Rpb24gUG4oZSA9IHt9KSB7XG4gIHJldHVybiB3KHtcbiAgICAuLi5lLFxuICAgIG1ldGhvZDogXCJ3ZWJfYXBwX3JlcXVlc3RfdGhlbWVcIixcbiAgICBldmVudDogXCJ0aGVtZV9jaGFuZ2VkXCJcbiAgfSkudGhlbihadCk7XG59XG5mdW5jdGlvbiBNKGUsIHQpIHtcbiAgcmV0dXJuIGUuc3RhcnRzV2l0aCh0KSA/IGUgOiBgJHt0fSR7ZX1gO1xufVxuZnVuY3Rpb24gTChlKSB7XG4gIHJldHVybiBuZXcgVVJMKFxuICAgIHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlIDogYCR7ZS5wYXRobmFtZSB8fCBcIlwifSR7TShlLnNlYXJjaCB8fCBcIlwiLCBcIj9cIil9JHtNKGUuaGFzaCB8fCBcIlwiLCBcIiNcIil9YCxcbiAgICBcImh0dHA6Ly9hXCJcbiAgKTtcbn1cbmNsYXNzIFJzIGV4dGVuZHMgX3Qge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuKSB7XG4gICAgc3VwZXIodCwgeyByZWFkVGV4dEZyb21DbGlwYm9hcmQ6IFwid2ViX2FwcF9yZWFkX3RleHRfZnJvbV9jbGlwYm9hcmRcIiB9KSwgYyh0aGlzLCBcInN1cHBvcnRzUGFyYW1cIiksIHRoaXMudmVyc2lvbiA9IHQsIHRoaXMuY3JlYXRlUmVxdWVzdElkID0gcywgdGhpcy5wb3N0RXZlbnQgPSBuLCB0aGlzLnN1cHBvcnRzUGFyYW0gPSBZdCh0LCB7XG4gICAgICBcIm9wZW5MaW5rLnRyeUluc3RhbnRWaWV3XCI6IFtcIndlYl9hcHBfb3Blbl9saW5rXCIsIFwidHJ5X2luc3RhbnRfdmlld1wiXVxuICAgIH0pO1xuICB9XG4gIG9wZW5MaW5rKHQsIHMpIHtcbiAgICBjb25zdCBuID0gTCh0KS50b1N0cmluZygpO1xuICAgIGlmICgheChcIndlYl9hcHBfb3Blbl9saW5rXCIsIHRoaXMudmVyc2lvbikpIHtcbiAgICAgIHdpbmRvdy5vcGVuKG4sIFwiX2JsYW5rXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByID0gdHlwZW9mIHMgPT0gXCJib29sZWFuXCIgPyB7IHRyeUluc3RhbnRWaWV3OiBzIH0gOiBzIHx8IHt9O1xuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9vcGVuX2xpbmtcIiwge1xuICAgICAgdXJsOiBuLFxuICAgICAgdHJ5X2Jyb3dzZXI6IHIudHJ5QnJvd3NlcixcbiAgICAgIHRyeV9pbnN0YW50X3ZpZXc6IHIudHJ5SW5zdGFudFZpZXdcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogT3BlbnMgYSBUZWxlZ3JhbSBsaW5rIGluc2lkZSBUZWxlZ3JhbSBhcHAuIFRoZSBNaW5pIEFwcCB3aWxsIGJlIGNsb3NlZC4gSXQgZXhwZWN0cyBwYXNzaW5nXG4gICAqIGxpbmsgaW4gZnVsbCBmb3JtYXQsIHdpdGggaG9zdG5hbWUgXCJ0Lm1lXCIuXG4gICAqIEBwYXJhbSB1cmwgLSBVUkwgdG8gYmUgb3BlbmVkLlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gVVJMIGhhcyBub3QgYWxsb3dlZCBob3N0bmFtZS5cbiAgICovXG4gIG9wZW5UZWxlZ3JhbUxpbmsodCkge1xuICAgIGNvbnN0IHsgaG9zdG5hbWU6IHMsIHBhdGhuYW1lOiBuLCBzZWFyY2g6IHIgfSA9IG5ldyBVUkwodCwgXCJodHRwczovL3QubWVcIik7XG4gICAgaWYgKHMgIT09IFwidC5tZVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVUkwgaGFzIG5vdCBhbGxvd2VkIGhvc3RuYW1lOiAke3N9LiBPbmx5IFwidC5tZVwiIGlzIGFsbG93ZWRgKTtcbiAgICBpZiAoIXgoXCJ3ZWJfYXBwX29wZW5fdGdfbGlua1wiLCB0aGlzLnZlcnNpb24pKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9vcGVuX3RnX2xpbmtcIiwgeyBwYXRoX2Z1bGw6IG4gKyByIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZWFkcyB0ZXh0IGZyb20gY2xpcGJvYXJkIGFuZCByZXR1cm5zIHN0cmluZyBvciBudWxsLiBudWxsIGlzIHJldHVybmVkXG4gICAqIGluIGNhc2VzOlxuICAgKiAtIFZhbHVlIGluIGNsaXBib2FyZCBpcyBub3QgdGV4dFxuICAgKiAtIEFjY2VzcyB0byBjbGlwYm9hcmQgaXMgbm90IGFsbG93ZWRcbiAgICovXG4gIGFzeW5jIHJlYWRUZXh0RnJvbUNsaXBib2FyZCgpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5jcmVhdGVSZXF1ZXN0SWQoKSwge1xuICAgICAgZGF0YTogcyA9IG51bGxcbiAgICB9ID0gYXdhaXQgdyh7XG4gICAgICBtZXRob2Q6IFwid2ViX2FwcF9yZWFkX3RleHRfZnJvbV9jbGlwYm9hcmRcIixcbiAgICAgIGV2ZW50OiBcImNsaXBib2FyZF90ZXh0X3JlY2VpdmVkXCIsXG4gICAgICBwb3N0RXZlbnQ6IHRoaXMucG9zdEV2ZW50LFxuICAgICAgcGFyYW1zOiB7IHJlcV9pZDogdCB9LFxuICAgICAgY2FwdHVyZTogcXQodClcbiAgICB9KTtcbiAgICByZXR1cm4gcztcbiAgfVxuICAvKipcbiAgICogU2hhcmVzIHNwZWNpZmllZCBVUkwgd2l0aCB0aGUgcGFzc2VkIHRvIHRoZSBjaGF0cywgc2VsZWN0ZWQgYnkgdXNlci4gQWZ0ZXIgYmVpbmcgY2FsbGVkLFxuICAgKiBpdCBjbG9zZXMgdGhlIG1pbmkgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHVzZXMgVGVsZWdyYW0ncyBTaGFyZSBMaW5rcy5cbiAgICogQHBhcmFtIHVybCAtIFVSTCB0byBzaGFyZS5cbiAgICogQHBhcmFtIHRleHQgLSB0ZXh0IHRvIGFwcGVuZCBhZnRlciB0aGUgVVJMLlxuICAgKiBAc2VlIGh0dHBzOi8vY29yZS50ZWxlZ3JhbS5vcmcvYXBpL2xpbmtzI3NoYXJlLWxpbmtzXG4gICAqIEBzZWUgaHR0cHM6Ly9jb3JlLnRlbGVncmFtLm9yZy93aWRnZXRzL3NoYXJlI2N1c3RvbS1idXR0b25zXG4gICAqL1xuICBzaGFyZVVSTCh0LCBzKSB7XG4gICAgdGhpcy5vcGVuVGVsZWdyYW1MaW5rKFxuICAgICAgXCJodHRwczovL3QubWUvc2hhcmUvdXJsP1wiICsgbmV3IFVSTFNlYXJjaFBhcmFtcyh7IHVybDogdCwgdGV4dDogcyB8fCBcIlwiIH0pLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwrL2csIFwiJTIwXCIpXG4gICAgKTtcbiAgfVxufVxuY29uc3QgeHMgPSBsKFxuICAoeyB2ZXJzaW9uOiBlLCBwb3N0RXZlbnQ6IHQsIGNyZWF0ZVJlcXVlc3RJZDogcyB9KSA9PiBuZXcgUnMoZSwgcywgdClcbik7XG5hc3luYyBmdW5jdGlvbiBYdChlID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGlzX2V4cGFuZGVkOiB0LFxuICAgIGlzX3N0YXRlX3N0YWJsZTogcyxcbiAgICAuLi5uXG4gIH0gPSBhd2FpdCB3KHtcbiAgICAuLi5lLFxuICAgIG1ldGhvZDogXCJ3ZWJfYXBwX3JlcXVlc3Rfdmlld3BvcnRcIixcbiAgICBldmVudDogXCJ2aWV3cG9ydF9jaGFuZ2VkXCJcbiAgfSk7XG4gIHJldHVybiB7IC4uLm4sIGlzRXhwYW5kZWQ6IHQsIGlzU3RhdGVTdGFibGU6IHMgfTtcbn1cbmZ1bmN0aW9uIHEoZSkge1xuICByZXR1cm4gZSA8IDAgPyAwIDogZTtcbn1cbmNsYXNzIENzIGV4dGVuZHMgZHQge1xuICBjb25zdHJ1Y3Rvcih7IHBvc3RFdmVudDogdCwgc3RhYmxlSGVpZ2h0OiBzLCBoZWlnaHQ6IG4sIHdpZHRoOiByLCBpc0V4cGFuZGVkOiBpIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBoZWlnaHQ6IHEobiksXG4gICAgICBpc0V4cGFuZGVkOiBpLFxuICAgICAgc3RhYmxlSGVpZ2h0OiBxKHMpLFxuICAgICAgd2lkdGg6IHEocilcbiAgICB9KSwgYyh0aGlzLCBcInBvc3RFdmVudFwiKSwgdGhpcy5wb3N0RXZlbnQgPSB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXF1ZXN0cyB2aWV3cG9ydCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBUZWxlZ3JhbSBhcHBsaWNhdGlvbiBhbmQgdXBkYXRlcyBjdXJyZW50IFZpZXdwb3J0XG4gICAqIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbnMgdG8gcmVxdWVzdCBmcmVzaCBkYXRhLlxuICAgKi9cbiAgYXN5bmMgc3luYyh0KSB7XG4gICAgY29uc3QgeyBpc1N0YXRlU3RhYmxlOiBzLCAuLi5uIH0gPSBhd2FpdCBYdCh0KTtcbiAgICB0aGlzLnNldCh7XG4gICAgICAuLi5uLFxuICAgICAgc3RhYmxlSGVpZ2h0OiBzID8gbi5oZWlnaHQgOiB0aGlzLmdldChcInN0YWJsZUhlaWdodFwiKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBoZWlnaHQgb2YgdGhlICoqdmlzaWJsZSBhcmVhKiogb2YgdGhlIE1pbmkgQXBwLlxuICAgKlxuICAgKiBUaGUgYXBwbGljYXRpb24gY2FuIGRpc3BsYXkganVzdCB0aGUgdG9wIHBhcnQgb2YgdGhlIE1pbmkgQXBwLCB3aXRoIGl0cyBsb3dlciBwYXJ0IHJlbWFpbmluZ1xuICAgKiBvdXRzaWRlIHRoZSBzY3JlZW4gYXJlYS4gRnJvbSB0aGlzIHBvc2l0aW9uLCB0aGUgdXNlciBjYW4gXCJwdWxsXCIgdGhlIE1pbmkgQXBwIHRvIGl0c1xuICAgKiBtYXhpbXVtIGhlaWdodCwgd2hpbGUgdGhlIGJvdCBjYW4gZG8gdGhlIHNhbWUgYnkgY2FsbGluZyBgZXhwYW5kYCBtZXRob2QuIEFzIHRoZSBwb3NpdGlvbiBvZlxuICAgKiB0aGUgTWluaSBBcHAgY2hhbmdlcywgdGhlIGN1cnJlbnQgaGVpZ2h0IHZhbHVlIG9mIHRoZSB2aXNpYmxlIGFyZWEgd2lsbCBiZSB1cGRhdGVkICBpbiByZWFsXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgdGhlIHJlZnJlc2ggcmF0ZSBvZiB0aGlzIHZhbHVlIGlzIG5vdCBzdWZmaWNpZW50IHRvIHNtb290aGx5IGZvbGxvdyB0aGVcbiAgICogbG93ZXIgYm9yZGVyIG9mIHRoZSB3aW5kb3cuIEl0IHNob3VsZCBub3QgYmUgdXNlZCB0byBwaW4gaW50ZXJmYWNlIGVsZW1lbnRzIHRvIHRoZSBib3R0b21cbiAgICogb2YgdGhlIHZpc2libGUgYXJlYS4gSXQncyBtb3JlIGFwcHJvcHJpYXRlIHRvIHVzZSB0aGUgdmFsdWUgb2YgdGhlIGBzdGFibGVIZWlnaHRgXG4gICAqIGZpZWxkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAqXG4gICAqIEBzZWUgc3RhYmxlSGVpZ2h0XG4gICAqL1xuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImhlaWdodFwiKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgdmlzaWJsZSBhcmVhIG9mIHRoZSBNaW5pIEFwcCBpbiBpdHMgbGFzdCBzdGFibGUgc3RhdGUuXG4gICAqXG4gICAqIFRoZSBhcHBsaWNhdGlvbiBjYW4gZGlzcGxheSBqdXN0IHRoZSB0b3AgcGFydCBvZiB0aGUgTWluaSBBcHAsIHdpdGggaXRzIGxvd2VyIHBhcnQgcmVtYWluaW5nXG4gICAqIG91dHNpZGUgdGhlIHNjcmVlbiBhcmVhLiBGcm9tIHRoaXMgcG9zaXRpb24sIHRoZSB1c2VyIGNhbiBcInB1bGxcIiB0aGUgTWluaSBBcHAgdG8gaXRzXG4gICAqIG1heGltdW0gaGVpZ2h0LCB3aGlsZSB0aGUgYXBwbGljYXRpb24gY2FuIGRvIHRoZSBzYW1lIGJ5IGNhbGxpbmcgYGV4cGFuZGAgbWV0aG9kLlxuICAgKlxuICAgKiBVbmxpa2UgdGhlIHZhbHVlIG9mIGBoZWlnaHRgLCB0aGUgdmFsdWUgb2YgYHN0YWJsZUhlaWdodGAgZG9lcyBub3QgY2hhbmdlIGFzIHRoZSBwb3NpdGlvblxuICAgKiBvZiB0aGUgTWluaSBBcHAgY2hhbmdlcyB3aXRoIHVzZXIgZ2VzdHVyZXMgb3IgZHVyaW5nIGFuaW1hdGlvbnMuIFRoZSB2YWx1ZSBvZiBgc3RhYmxlSGVpZ2h0YFxuICAgKiB3aWxsIGJlIHVwZGF0ZWQgYWZ0ZXIgYWxsIGdlc3R1cmVzIGFuZCBhbmltYXRpb25zIGFyZSBjb21wbGV0ZWQgYW5kXG4gICAqIHRoZSBNaW5pIEFwcCByZWFjaGVzIGl0cyBmaW5hbCBzaXplLlxuICAgKlxuICAgKiBAc2VlIGhlaWdodFxuICAgKi9cbiAgZ2V0IHN0YWJsZUhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoXCJzdGFibGVIZWlnaHRcIik7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsaXN0ZW5pbmcgdG8gdmlld3BvcnQgY2hhbmdlcyBhbmQgYXBwbGllcyB0aGVtLlxuICAgKiBAcmV0dXJucyBGdW5jdGlvbiB0byBzdG9wIGxpc3RlbmluZy5cbiAgICovXG4gIGxpc3RlbigpIHtcbiAgICByZXR1cm4geShcInZpZXdwb3J0X2NoYW5nZWRcIiwgKHQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaGVpZ2h0OiBzLFxuICAgICAgICB3aWR0aDogbixcbiAgICAgICAgaXNfZXhwYW5kZWQ6IHIsXG4gICAgICAgIGlzX3N0YXRlX3N0YWJsZTogaVxuICAgICAgfSA9IHQsIG8gPSBxKHMpO1xuICAgICAgdGhpcy5zZXQoe1xuICAgICAgICBoZWlnaHQ6IG8sXG4gICAgICAgIGlzRXhwYW5kZWQ6IHIsXG4gICAgICAgIHdpZHRoOiBxKG4pLFxuICAgICAgICAuLi5pID8geyBzdGFibGVIZWlnaHQ6IG8gfSA6IHt9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgTWluaSBBcHAgaXMgZXhwYW5kZWQgdG8gdGhlIG1heGltdW0gYXZhaWxhYmxlIGhlaWdodC4gT3RoZXJ3aXNlLCBpZlxuICAgKiB0aGUgTWluaSBBcHAgb2NjdXBpZXMgcGFydCBvZiB0aGUgc2NyZWVuIGFuZCBjYW4gYmUgZXhwYW5kZWQgdG8gdGhlIGZ1bGwgaGVpZ2h0IHVzaW5nXG4gICAqIGBleHBhbmRgIG1ldGhvZC5cbiAgICogQHNlZSBleHBhbmRcbiAgICovXG4gIGdldCBpc0V4cGFuZGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcImlzRXhwYW5kZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnQgdmlzaWJsZSBhcmVhIHdpZHRoLlxuICAgKi9cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcIndpZHRoXCIpO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0aGF0IGV4cGFuZHMgdGhlIE1pbmkgQXBwIHRvIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBoZWlnaHQuIFRvIGZpbmQgb3V0IGlmIHRoZSBNaW5pXG4gICAqIEFwcCBpcyBleHBhbmRlZCB0byB0aGUgbWF4aW11bSBoZWlnaHQsIHJlZmVyIHRvIHRoZSB2YWx1ZSBvZiB0aGUgYGlzRXhwYW5kZWRgLlxuICAgKiBAc2VlIGlzRXhwYW5kZWRcbiAgICovXG4gIGV4cGFuZCgpIHtcbiAgICB0aGlzLnBvc3RFdmVudChcIndlYl9hcHBfZXhwYW5kXCIpLCB0aGlzLnNldChcImlzRXhwYW5kZWRcIiwgITApO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBjdXJyZW50IHZpZXdwb3J0IGhlaWdodCBpcyBzdGFibGUgYW5kIGlzIG5vdCBnb2luZyB0byBjaGFuZ2UgaW4gdGhlIG5leHQgbW9tZW50LlxuICAgKi9cbiAgZ2V0IGlzU3RhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YWJsZUhlaWdodCA9PT0gdGhpcy5oZWlnaHQ7XG4gIH1cbn1cbmNvbnN0IFRzID0gbChcbiAgXCJ2aWV3cG9ydFwiLFxuICBhc3luYyAoeyBzdGF0ZTogZSwgcGxhdGZvcm06IHQsIHBvc3RFdmVudDogcywgYWRkQ2xlYW51cDogbiB9KSA9PiB7XG4gICAgbGV0IHIgPSAhMSwgaSA9IDAsIG8gPSAwLCBhID0gMDtcbiAgICBpZiAoZSlcbiAgICAgIHIgPSBlLmlzRXhwYW5kZWQsIGkgPSBlLmhlaWdodCwgbyA9IGUud2lkdGgsIGEgPSBlLnN0YWJsZUhlaWdodDtcbiAgICBlbHNlIGlmIChbXCJtYWNvc1wiLCBcInRkZXNrdG9wXCIsIFwidW5pZ3JhbVwiLCBcIndlYmtcIiwgXCJ3ZWJhXCIsIFwid2ViXCJdLmluY2x1ZGVzKHQpKVxuICAgICAgciA9ICEwLCBpID0gd2luZG93LmlubmVySGVpZ2h0LCBvID0gd2luZG93LmlubmVyV2lkdGgsIGEgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBwID0gYXdhaXQgWHQoeyB0aW1lb3V0OiAxZTMsIHBvc3RFdmVudDogcyB9KTtcbiAgICAgIHIgPSBwLmlzRXhwYW5kZWQsIGkgPSBwLmhlaWdodCwgbyA9IHAud2lkdGgsIGEgPSBwLmlzU3RhdGVTdGFibGUgPyBpIDogMDtcbiAgICB9XG4gICAgY29uc3QgaCA9IG5ldyBDcyh7XG4gICAgICBwb3N0RXZlbnQ6IHMsXG4gICAgICBoZWlnaHQ6IGksXG4gICAgICB3aWR0aDogbyxcbiAgICAgIHN0YWJsZUhlaWdodDogYSxcbiAgICAgIGlzRXhwYW5kZWQ6IHJcbiAgICB9KTtcbiAgICByZXR1cm4gbihoLmxpc3RlbigpKSwgaDtcbiAgfVxuKTtcbmZ1bmN0aW9uIFAoZSwgdCkge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoZSwgdCk7XG59XG5mdW5jdGlvbiBTbihlLCB0LCBzKSB7XG4gIHMgfHwgKHMgPSAoYSkgPT4gYC0tdGctJHthfS1jb2xvcmApO1xuICBjb25zdCBuID0gcyhcImhlYWRlclwiKSwgciA9IHMoXCJiZ1wiKSwgaSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGhlYWRlckNvbG9yOiBhIH0gPSBlO1xuICAgIGlmIChjdChhKSlcbiAgICAgIFAobiwgYSk7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB7IGJnQ29sb3I6IGgsIHNlY29uZGFyeUJnQ29sb3I6IHAgfSA9IHQ7XG4gICAgICBhID09PSBcImJnX2NvbG9yXCIgJiYgaCA/IFAobiwgaCkgOiBhID09PSBcInNlY29uZGFyeV9iZ19jb2xvclwiICYmIHAgJiYgUChuLCBwKTtcbiAgICB9XG4gICAgUChyLCBlLmJnQ29sb3IpO1xuICB9LCBvID0gW1xuICAgIHQub24oXCJjaGFuZ2VcIiwgaSksXG4gICAgZS5vbihcImNoYW5nZVwiLCBpKVxuICBdO1xuICByZXR1cm4gaSgpLCAoKSA9PiBvLmZvckVhY2goKGEpID0+IGEoKSk7XG59XG5mdW5jdGlvbiBSbihlLCB0KSB7XG4gIHQgfHwgKHQgPSAobikgPT4gYC0tdGctdGhlbWUtJHtuLnJlcGxhY2UoL1tBLVpdL2csIChyKSA9PiBgLSR7ci50b0xvd2VyQ2FzZSgpfWApfWApO1xuICBjb25zdCBzID0gKCkgPT4ge1xuICAgIE9iamVjdC5lbnRyaWVzKGUuZ2V0U3RhdGUoKSkuZm9yRWFjaCgoW24sIHJdKSA9PiB7XG4gICAgICByICYmIFAodChuKSwgcik7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBzKCksIGUub24oXCJjaGFuZ2VcIiwgcyk7XG59XG5mdW5jdGlvbiB4bihlLCB0KSB7XG4gIHQgfHwgKHQgPSAocCkgPT4gYC0tdGctdmlld3BvcnQtJHtwfWApO1xuICBjb25zdCBbXG4gICAgcyxcbiAgICBuLFxuICAgIHJcbiAgXSA9IFtcImhlaWdodFwiLCBcIndpZHRoXCIsIFwic3RhYmxlLWhlaWdodFwiXS5tYXAoKHApID0+IHQocCkpLCBpID0gKCkgPT4gUChzLCBgJHtlLmhlaWdodH1weGApLCBvID0gKCkgPT4gUChuLCBgJHtlLndpZHRofXB4YCksIGEgPSAoKSA9PiBQKHIsIGAke2Uuc3RhYmxlSGVpZ2h0fXB4YCksIGggPSBbXG4gICAgZS5vbihcImNoYW5nZTpoZWlnaHRcIiwgaSksXG4gICAgZS5vbihcImNoYW5nZTp3aWR0aFwiLCBvKSxcbiAgICBlLm9uKFwiY2hhbmdlOnN0YWJsZUhlaWdodFwiLCBhKVxuICBdO1xuICByZXR1cm4gaSgpLCBvKCksIGEoKSwgKCkgPT4gaC5mb3JFYWNoKChwKSA9PiBwKCkpO1xufVxuZnVuY3Rpb24gQXMoZSA9ICEwKSB7XG4gIGNvbnN0IHQgPSBbXG4gICAgeShcInJlbG9hZF9pZnJhbWVcIiwgKCkgPT4ge1xuICAgICAgQihcImlmcmFtZV93aWxsX3JlbG9hZFwiKSwgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0pXG4gIF0sIHMgPSAoKSA9PiB0LmZvckVhY2goKG4pID0+IG4oKSk7XG4gIGlmIChlKSB7XG4gICAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBuLmlkID0gXCJ0ZWxlZ3JhbS1jdXN0b20tc3R5bGVzXCIsIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobiksIHQucHVzaChcbiAgICAgIHkoXCJzZXRfY3VzdG9tX3N0eWxlXCIsIChyKSA9PiB7XG4gICAgICAgIG4uaW5uZXJIVE1MID0gcjtcbiAgICAgIH0pLFxuICAgICAgKCkgPT4gZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChuKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIEIoXCJpZnJhbWVfcmVhZHlcIiwgeyByZWxvYWRfc3VwcG9ydGVkOiAhMCB9KSwgcztcbn1cbmZ1bmN0aW9uIGtzKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA+IFwidVwiO1xufVxuYXN5bmMgZnVuY3Rpb24gQ24oKSB7XG4gIGlmIChJdCh3aW5kb3cpKVxuICAgIHJldHVybiAhMDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgdyh7IG1ldGhvZDogXCJ3ZWJfYXBwX3JlcXVlc3RfdGhlbWVcIiwgZXZlbnQ6IFwidGhlbWVfY2hhbmdlZFwiLCB0aW1lb3V0OiAxMDAgfSksICEwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn1cbmZ1bmN0aW9uIFRuKGUpIHtcbiAgY29uc3QgdCA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBsdChlKSA6IGU7XG4gIEp0KHQpO1xuICBmdW5jdGlvbiBzKHIpIHtcbiAgICBpZiAodHlwZW9mIHIgPT0gXCJzdHJpbmdcIilcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRUeXBlOiBpIH0gPSBBdChyKTtcbiAgICAgICAgaSA9PT0gXCJ3ZWJfYXBwX3JlcXVlc3RfdGhlbWVcIiAmJiBldChcInRoZW1lX2NoYW5nZWRcIiwge1xuICAgICAgICAgIHRoZW1lX3BhcmFtczogSlNPTi5wYXJzZShLdCh0LnRoZW1lUGFyYW1zKSlcbiAgICAgICAgfSksIGkgPT09IFwid2ViX2FwcF9yZXF1ZXN0X3ZpZXdwb3J0XCIgJiYgZXQoXCJ2aWV3cG9ydF9jaGFuZ2VkXCIsIHtcbiAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgaXNfc3RhdGVfc3RhYmxlOiAhMCxcbiAgICAgICAgICBpc19leHBhbmRlZDogITBcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgfVxuICBpZiAoYXQoKSkge1xuICAgIGNvbnN0IHIgPSB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlLmJpbmQod2luZG93LnBhcmVudCk7XG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSA9IChpKSA9PiB7XG4gICAgICBzKGkpLCByKGkpO1xuICAgIH07XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrdCh3aW5kb3cpKSB7XG4gICAgY29uc3QgciA9IHdpbmRvdy5leHRlcm5hbC5ub3RpZnkuYmluZCh3aW5kb3cuZXh0ZXJuYWwpO1xuICAgIHdpbmRvdy5leHRlcm5hbC5ub3RpZnkgPSAoaSkgPT4ge1xuICAgICAgcyhpKSwgcihpKTtcbiAgICB9O1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBuID0gd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5O1xuICB3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHkgPSB7XG4gICAgLi4ubiB8fCB7fSxcbiAgICBwb3N0RXZlbnQoLi4ucikge1xuICAgICAgcyhKU09OLnN0cmluZ2lmeSh7IGV2ZW50VHlwZTogclswXSwgZXZlbnREYXRhOiByWzFdIH0pKSwgbiAmJiBuLnBvc3RFdmVudCguLi5yKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBJcyhlKSB7XG4gIHJldHVybiBlIGluc3RhbmNlb2YgVztcbn1cbmZ1bmN0aW9uIEFuKGUsIHQpIHtcbiAgcmV0dXJuIElzKGUpICYmIGUudHlwZSA9PT0gdDtcbn1cbmZ1bmN0aW9uIEooZSwgdCkge1xuICBsZXQgcywgbiwgcjtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBzID0gZSA6IChzID0gZS5wYXRobmFtZSA9PT0gdm9pZCAwID8gdCA6IGUucGF0aG5hbWUsIG4gPSBlLnBhcmFtcywgciA9IGUuaWQpLCBPYmplY3QuZnJlZXplKHtcbiAgICBpZDogciB8fCAoTWF0aC5yYW5kb20oKSAqIDIgKiogMTQgfCAwKS50b1N0cmluZygxNiksXG4gICAgcGF0aG5hbWU6IHMsXG4gICAgcGFyYW1zOiBuXG4gIH0pO1xufVxuY2xhc3MgT3Mge1xuICBjb25zdHJ1Y3Rvcih0LCBzLCBuID0gQikge1xuICAgIGlmIChjKHRoaXMsIFwiaGlzdG9yeVwiKSwgYyh0aGlzLCBcImVlXCIsIG5ldyBEKCkpLCBjKHRoaXMsIFwiYXR0YWNoZWRcIiwgITEpLCBjKHRoaXMsIFwiYmFja1wiLCAoKSA9PiB0aGlzLmdvKC0xKSksIGModGhpcywgXCJvblwiLCB0aGlzLmVlLm9uLmJpbmQodGhpcy5lZSkpLCBjKHRoaXMsIFwib2ZmXCIsIHRoaXMuZWUub2ZmLmJpbmQodGhpcy5lZSkpLCB0aGlzLl9pbmRleCA9IHMsIHRoaXMucG9zdEV2ZW50ID0gbiwgdC5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyBiKG1lLCBcIkhpc3Rvcnkgc2hvdWxkIG5vdCBiZSBlbXB0eS5cIik7XG4gICAgaWYgKHMgPCAwIHx8IHMgPj0gdC5sZW5ndGgpXG4gICAgICB0aHJvdyBiKFxuICAgICAgICB2ZSxcbiAgICAgICAgXCJJbmRleCBzaG91bGQgbm90IGJlIHplcm8gYW5kIGhpZ2hlciBvciBlcXVhbCB0aGFuIGhpc3Rvcnkgc2l6ZS5cIlxuICAgICAgKTtcbiAgICB0aGlzLmhpc3RvcnkgPSB0Lm1hcCgocikgPT4gSihyLCBcIlwiKSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93cyB0aGlzIG5hdmlnYXRvciB0byBjb250cm9sIHRoZSBgQmFja0J1dHRvbmAgdmlzaWJpbGl0eSBzdGF0ZS4gSXQgYWxzbyB0cmFja3MgdGhlXG4gICAqIGBCYWNrQnV0dG9uYCBjbGlja3MgYW5kIGNhbGxzIHRoZSBgYmFja2AgbWV0aG9kLlxuICAgKi9cbiAgYXR0YWNoKCkge1xuICAgIHRoaXMuYXR0YWNoZWQgfHwgKHRoaXMuYXR0YWNoZWQgPSAhMCwgdGhpcy5zeW5jKCksIHkoXCJiYWNrX2J1dHRvbl9wcmVzc2VkXCIsIHRoaXMuYmFjaykpO1xuICB9XG4gIC8qKlxuICAgKiBDdXJyZW50bHkgYWN0aXZlIGhpc3RvcnkgaXRlbS5cbiAgICovXG4gIGdldCBjdXJyZW50KCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnlbdGhpcy5pbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFByZXZlbnRzIGN1cnJlbnQgbmF2aWdhdG9yIGZyb20gY29udHJvbGxpbmcgdGhlIEJhY2tCdXR0b24gdmlzaWJpbGl0eSBzdGF0ZS5cbiAgICovXG4gIGRldGFjaCgpIHtcbiAgICB0aGlzLmF0dGFjaGVkID0gITEsIHooXCJiYWNrX2J1dHRvbl9wcmVzc2VkXCIsIHRoaXMuYmFjayk7XG4gIH1cbiAgLyoqXG4gICAqIEdvZXMgdG8gdGhlIG5leHQgaGlzdG9yeSBpdGVtLlxuICAgKi9cbiAgZm9yd2FyZCgpIHtcbiAgICB0aGlzLmdvKDEpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2VzIGN1cnJlbnRseSBhY3RpdmUgaGlzdG9yeSBpdGVtIGluZGV4IGJ5IHRoZSBzcGVjaWZpZWQgZGVsdGEuIFRoaXMgbWV0aG9kIGRvZXNuJ3RcbiAgICogY2hhbmdlIGluZGV4IGluIGNhc2UsIHRoZSB1cGRhdGVkIGluZGV4IHBvaW50cyB0byB0aGUgbm9uLWV4aXN0aW5nIGhpc3RvcnkgaXRlbS4gVGhpcyBiZWhhdmlvclxuICAgKiBpcyBwcmVzZXJ2ZWQgdW50aWwgdGhlIGBmaXRgIGFyZ3VtZW50IGlzIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIGRlbHRhIC0gaW5kZXggZGVsdGEuXG4gICAqIEBwYXJhbSBmaXQgLSBjdXRzIHRoZSBkZWx0YSBhcmd1bWVudCB0byBmaXQgdGhlIGJvdW5kcyBgWzAsIGhpc3RvcnkubGVuZ3RoIC0gMV1gLlxuICAgKi9cbiAgZ28odCwgcykge1xuICAgIGNvbnN0IG4gPSB0aGlzLmluZGV4ICsgdCwgciA9IE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgoMCwgbiksXG4gICAgICB0aGlzLmhpc3RvcnkubGVuZ3RoIC0gMVxuICAgICk7XG4gICAgKG4gPT09IHIgfHwgcykgJiYgdGhpcy5yZXBsYWNlQW5kTW92ZShyLCB0aGlzLmhpc3Rvcnlbcl0pO1xuICB9XG4gIC8qKlxuICAgKiBHb2VzIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXguIE1ldGhvZCBkb2VzIG5vdGhpbmcgaW4gY2FzZSwgcGFzc2VkIGluZGV4IGlzIG91dCBvZiBib3VuZHMuXG4gICAqXG4gICAqIElmIFwiZml0XCIgb3B0aW9uIHdhcyBzcGVjaWZpZWQgYW5kIGluZGV4IGlzIG91dCBvZiBib3VuZHMsIGl0IHdpbGwgYmUgY3V0IHRvIHRoZSBuZWFyZXN0XG4gICAqIGJvdW5kLlxuICAgKiBAcGFyYW0gaW5kZXggLSB0YXJnZXQgaW5kZXguXG4gICAqIEBwYXJhbSBmaXQgLSBjdXRzIHRoZSBpbmRleCBhcmd1bWVudCB0byBmaXQgdGhlIGJvdW5kcyBgWzAsIGhpc3RvcnkubGVuZ3RoIC0gMV1gLlxuICAgKi9cbiAgZ29Ubyh0LCBzKSB7XG4gICAgdGhpcy5nbyh0IC0gdGhpcy5pbmRleCwgcyk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgbmF2aWdhdG9yIGhhcyBpdGVtcyBiZWZvcmUgdGhlIGN1cnJlbnQgaXRlbS5cbiAgICovXG4gIGdldCBoYXNQcmV2KCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4ID4gMDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBuYXZpZ2F0b3IgaGFzIGl0ZW1zIGFmdGVyIHRoZSBjdXJyZW50IGl0ZW0uXG4gICAqL1xuICBnZXQgaGFzTmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleCAhPT0gdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnRseSBhY3RpdmUgaGlzdG9yeSBpdGVtIGluZGV4LlxuICAgKi9cbiAgZ2V0IGluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLl9pbmRleDtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIG5ldyBoaXN0b3J5IGl0ZW0gcmVtb3ZpbmcgYWxsIGFmdGVyIHRoZSBjdXJyZW50IG9uZS5cbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGFkZC5cbiAgICovXG4gIHB1c2godCkge1xuICAgIHRoaXMuaGFzTmV4dCAmJiB0aGlzLmhpc3Rvcnkuc3BsaWNlKHRoaXMuaW5kZXggKyAxKSwgdGhpcy5yZXBsYWNlQW5kTW92ZSh0aGlzLmluZGV4ICsgMSwgSih0LCB0aGlzLmN1cnJlbnQucGF0aG5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgaGlzdG9yeSBpdGVtLlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gcmVwbGFjZSB0aGUgY3VycmVudCBpdGVtIHdpdGguXG4gICAqL1xuICByZXBsYWNlKHQpIHtcbiAgICB0aGlzLnJlcGxhY2VBbmRNb3ZlKHRoaXMuaW5kZXgsIEoodCwgdGhpcy5jdXJyZW50LnBhdGhuYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgaGlzdG9yeSBpdGVtIGJ5IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAqIEBwYXJhbSBpbmRleCAtIGhpc3RvcnkgaXRlbSBpbmRleCB0byByZXBsYWNlLlxuICAgKiBAcGFyYW0gaGlzdG9yeUl0ZW0gLSBoaXN0b3J5IGl0ZW0gdG8gc2V0LlxuICAgKi9cbiAgcmVwbGFjZUFuZE1vdmUodCwgcykge1xuICAgIGNvbnN0IG4gPSB0IC0gdGhpcy5pbmRleDtcbiAgICBpZiAoIW4gJiYgdGhpcy5jdXJyZW50ID09PSBzKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgaWYgKHRoaXMuaW5kZXggIT09IHQpIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLl9pbmRleDtcbiAgICAgIHRoaXMuX2luZGV4ID0gdCwgdGhpcy5hdHRhY2hlZCAmJiBpID4gMCAhPSB0ID4gMCAmJiB0aGlzLnN5bmMoKTtcbiAgICB9XG4gICAgdGhpcy5oaXN0b3J5W3RdID0gcywgdGhpcy5lZS5lbWl0KFwiY2hhbmdlXCIsIHtcbiAgICAgIG5hdmlnYXRvcjogdGhpcyxcbiAgICAgIGZyb206IHIsXG4gICAgICB0bzogdGhpcy5jdXJyZW50LFxuICAgICAgZGVsdGE6IG5cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWN0dWFsaXplcyB0aGUgYEJhY2tCdXR0b25gIHZpc2liaWxpdHkgc3RhdGUuXG4gICAqL1xuICBzeW5jKCkge1xuICAgIHRoaXMucG9zdEV2ZW50KFwid2ViX2FwcF9zZXR1cF9iYWNrX2J1dHRvblwiLCB7IGlzX3Zpc2libGU6ICEhdGhpcy5pbmRleCB9KTtcbiAgfVxufVxuZnVuY3Rpb24gRih7XG4gIHBhcmFtczogZSxcbiAgLi4udFxufSkge1xuICByZXR1cm4geyAuLi5lIHx8IHsgaGFzaDogXCJcIiwgc2VhcmNoOiBcIlwiIH0sIC4uLnQgfTtcbn1cbmZ1bmN0aW9uIFUoZSkge1xuICBjb25zdCB0ID0gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IGUuc3RhcnRzV2l0aChcIi9cIikgOiAhIShlLnBhdGhuYW1lICYmIGUucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikpLCBzID0gTChlKTtcbiAgcmV0dXJuIGAke3QgPyBzLnBhdGhuYW1lIDogcy5wYXRobmFtZS5zbGljZSgxKX0ke3Muc2VhcmNofSR7cy5oYXNofWA7XG59XG5mdW5jdGlvbiBRKGUsIHQsIHMpIHtcbiAgbGV0IG4sIHI7XG4gIHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBuID0gZSA6IChuID0gVShlKSwgcyA9IGUuc3RhdGUsIHIgPSBlLmlkKTtcbiAgY29uc3QgeyBwYXRobmFtZTogaSwgc2VhcmNoOiBvLCBoYXNoOiBhIH0gPSBuZXcgVVJMKG4sIGBodHRwOi8vYSR7TSh0LCBcIi9cIil9YCk7XG4gIHJldHVybiB7IGlkOiByLCBwYXRobmFtZTogaSwgcGFyYW1zOiB7IGhhc2g6IGEsIHNlYXJjaDogbywgc3RhdGU6IHMgfSB9O1xufVxuYXN5bmMgZnVuY3Rpb24gTihlKSB7XG4gIHJldHVybiBlID09PSAwID8gITAgOiBQcm9taXNlLnJhY2UoW1xuICAgIG5ldyBQcm9taXNlKCh0KSA9PiB7XG4gICAgICBjb25zdCBzID0gdHQoXCJwb3BzdGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgIHMoKSwgdCghMCk7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKGUpO1xuICAgIH0pLFxuICAgIC8vIFVzdWFsbHksIGl0IHRha2VzIGFib3V0IDFtcyB0byBlbWl0IHRoaXMgZXZlbnQsIGJ1dCB3ZSB1c2Ugc29tZSBidWZmZXIuXG4gICAgbmV3IFByb21pc2UoKHQpID0+IHtcbiAgICAgIHNldFRpbWVvdXQodCwgNTAsICExKTtcbiAgICB9KVxuICBdKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHFzKCkge1xuICBpZiAod2luZG93Lmhpc3RvcnkubGVuZ3RoIDw9IDEgfHwgKHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiKSwgYXdhaXQgTigxIC0gd2luZG93Lmhpc3RvcnkubGVuZ3RoKSkpXG4gICAgcmV0dXJuO1xuICBsZXQgZSA9IGF3YWl0IE4oLTEpO1xuICBmb3IgKDsgZTsgKVxuICAgIGUgPSBhd2FpdCBOKC0xKTtcbn1cbmZ1bmN0aW9uIHRlKGUpIHtcbiAgcmV0dXJuIEwoZSkucGF0aG5hbWU7XG59XG5jb25zdCBFdCA9IDAsIFkgPSAxLCBaID0gMjtcbmNsYXNzIGVlIHtcbiAgY29uc3RydWN0b3IodCwgcywgeyBwb3N0RXZlbnQ6IG4sIGhhc2hNb2RlOiByID0gXCJjbGFzc2ljXCIsIGJhc2U6IGkgfSA9IHt9KSB7XG4gICAgYyh0aGlzLCBcIm5hdmlnYXRvclwiKSwgYyh0aGlzLCBcImVlXCIsIG5ldyBEKCkpLCBjKHRoaXMsIFwiaGFzaE1vZGVcIiksIGModGhpcywgXCJiYXNlXCIpLCBjKHRoaXMsIFwiYXR0YWNoZWRcIiwgITEpLCBjKHRoaXMsIFwib25Qb3BTdGF0ZVwiLCAoeyBzdGF0ZTogbyB9KSA9PiB7XG4gICAgICBpZiAobyA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaCh0aGlzLnBhcnNlUGF0aCh3aW5kb3cubG9jYXRpb24uaHJlZikpO1xuICAgICAgbyA9PT0gRXQgPyB3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCkgOiBvID09PSBZICYmIHRoaXMuYmFjaygpLCBvID09PSBaICYmIHRoaXMuZm9yd2FyZCgpO1xuICAgIH0pLCBjKHRoaXMsIFwib25OYXZpZ2F0b3JDaGFuZ2VcIiwgYXN5bmMgKHtcbiAgICAgIHRvOiBvLFxuICAgICAgZnJvbTogYSxcbiAgICAgIGRlbHRhOiBoXG4gICAgfSkgPT4ge1xuICAgICAgdGhpcy5hdHRhY2hlZCAmJiBhd2FpdCB0aGlzLnN5bmNIaXN0b3J5KCksIHRoaXMuZWUuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgIGRlbHRhOiBoLFxuICAgICAgICBmcm9tOiBGKGEpLFxuICAgICAgICB0bzogRihvKSxcbiAgICAgICAgbmF2aWdhdG9yOiB0aGlzXG4gICAgICB9KTtcbiAgICB9KSwgYyh0aGlzLCBcIm9uXCIsIHRoaXMuZWUub24uYmluZCh0aGlzLmVlKSksIGModGhpcywgXCJvZmZcIiwgdGhpcy5lZS5vZmYuYmluZCh0aGlzLmVlKSksIHRoaXMubmF2aWdhdG9yID0gbmV3IE9zKFxuICAgICAgdC5tYXAoKG8pID0+IFEobywgXCIvXCIpKSxcbiAgICAgIHMsXG4gICAgICBuXG4gICAgKSwgdGhpcy5uYXZpZ2F0b3Iub24oXCJjaGFuZ2VcIiwgKG8pID0+IHtcbiAgICAgIHRoaXMub25OYXZpZ2F0b3JDaGFuZ2Uobyk7XG4gICAgfSksIHRoaXMuaGFzaE1vZGUgPSByLCB0aGlzLmJhc2UgPSB0ZShpIHx8IFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2hlcyBjdXJyZW50IG5hdmlnYXRvciB0byB0aGUgYnJvd3NlciBoaXN0b3J5IGFsbG93aW5nIG5hdmlnYXRvciB0byBtYW5pcHVsYXRlIGl0LlxuICAgKi9cbiAgYXN5bmMgYXR0YWNoKCkge1xuICAgIHRoaXMuYXR0YWNoZWQgfHwgKHRoaXMuYXR0YWNoZWQgPSAhMCwgdGhpcy5uYXZpZ2F0b3IuYXR0YWNoKCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgdGhpcy5vblBvcFN0YXRlKSwgYXdhaXQgdGhpcy5zeW5jSGlzdG9yeSgpKTtcbiAgfVxuICAvKipcbiAgICogR29lcyBiYWNrIGluIGhpc3RvcnkgYnkgMS5cbiAgICovXG4gIGJhY2soKSB7XG4gICAgdGhpcy5uYXZpZ2F0b3IuYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRhY2hlcyBjdXJyZW50IG5hdmlnYXRvciBmcm9tIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAqL1xuICBkZXRhY2goKSB7XG4gICAgdGhpcy5hdHRhY2hlZCA9ICExLCB0aGlzLm5hdmlnYXRvci5kZXRhY2goKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCB0aGlzLm9uUG9wU3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBHb2VzIGZvcndhcmQgaW4gaGlzdG9yeS5cbiAgICovXG4gIGZvcndhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmZvcndhcmQoKTtcbiAgfVxuICAvKipcbiAgICogQ3VycmVudCBoaXN0b3J5IGN1cnNvci5cbiAgICovXG4gIGdldCBpbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5uYXZpZ2F0b3IuaW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnQgaGlzdG9yeSBpdGVtIGlkZW50aWZpZXIuXG4gICAqL1xuICBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmN1cnJlbnQuaWQ7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZXMgY3VycmVudGx5IGFjdGl2ZSBoaXN0b3J5IGl0ZW0gaW5kZXggYnkgdGhlIHNwZWNpZmllZCBkZWx0YS4gVGhpcyBtZXRob2QgZG9lc24ndFxuICAgKiBjaGFuZ2UgaW5kZXggaW4gY2FzZSwgdGhlIHVwZGF0ZWQgaW5kZXggcG9pbnRzIHRvIHRoZSBub24tZXhpc3RpbmcgaGlzdG9yeSBpdGVtLiBUaGlzIGJlaGF2aW9yXG4gICAqIGlzIHByZXNlcnZlZCB1bnRpbCB0aGUgYGZpdGAgYXJndW1lbnQgaXMgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0gZGVsdGEgLSBpbmRleCBkZWx0YS5cbiAgICogQHBhcmFtIGZpdCAtIGN1dHMgdGhlIGRlbHRhIGFyZ3VtZW50IHRvIGZpdCB0aGUgYm91bmRzIGBbMCwgaGlzdG9yeS5sZW5ndGggLSAxXWAuXG4gICAqL1xuICBnbyh0LCBzKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmdvKHQsIHMpO1xuICB9XG4gIC8qKlxuICAgKiBHb2VzIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXguIE1ldGhvZCBkb2VzIG5vdGhpbmcgaW4gY2FzZSwgcGFzc2VkIGluZGV4IGlzIG91dCBvZiBib3VuZHMuXG4gICAqXG4gICAqIElmIFwiZml0XCIgb3B0aW9uIHdhcyBzcGVjaWZpZWQgYW5kIGluZGV4IGlzIG91dCBvZiBib3VuZHMsIGl0IHdpbGwgYmUgY3V0IHRvIHRoZSBuZWFyZXN0XG4gICAqIGJvdW5kLlxuICAgKiBAcGFyYW0gaW5kZXggLSB0YXJnZXQgaW5kZXguXG4gICAqIEBwYXJhbSBmaXQgLSBjdXRzIHRoZSBpbmRleCBhcmd1bWVudCB0byBmaXQgdGhlIGJvdW5kcyBgWzAsIGhpc3RvcnkubGVuZ3RoIC0gMV1gLlxuICAgKi9cbiAgZ29Ubyh0LCBzKSB7XG4gICAgdGhpcy5uYXZpZ2F0b3IuZ29Ubyh0LCBzKTtcbiAgfVxuICAvKipcbiAgICogQ3VycmVudCBoaXN0b3J5IGl0ZW0gaGFzaC5cbiAgICogQHNlZSBVUkwuaGFzaFxuICAgKiBAZXhhbXBsZVxuICAgKiBcIlwiLCBcIiNteS1oYXNoXCJcbiAgICovXG4gIGdldCBoYXNoKCkge1xuICAgIHJldHVybiAodGhpcy5uYXZpZ2F0b3IuY3VycmVudC5wYXJhbXMgfHwge30pLmhhc2ggfHwgXCJcIjtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBuYXZpZ2F0b3IgaGFzIGl0ZW1zIGJlZm9yZSB0aGUgY3VycmVudCBpdGVtLlxuICAgKi9cbiAgZ2V0IGhhc1ByZXYoKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmhhc1ByZXY7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgbmF2aWdhdG9yIGhhcyBpdGVtcyBhZnRlciB0aGUgY3VycmVudCBpdGVtLlxuICAgKi9cbiAgZ2V0IGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmhhc05leHQ7XG4gIH1cbiAgLyoqXG4gICAqIE5hdmlnYXRpb24gaGlzdG9yeS5cbiAgICovXG4gIGdldCBoaXN0b3J5KCkge1xuICAgIHJldHVybiB0aGlzLm5hdmlnYXRvci5oaXN0b3J5Lm1hcChGKTtcbiAgfVxuICAvKipcbiAgICogUGF0aCwgaW5jbHVkaW5nIHBhdGhuYW1lLCBzZWFyY2ggYW5kIGhhc2guXG4gICAqIEBleGFtcGxlIFBhdGhuYW1lIG9ubHkuXG4gICAqIFwiL3BhdGhuYW1lXCJcbiAgICogQGV4YW1wbGUgUGF0aG5hbWUgKyBzZWFyY2guXG4gICAqIFwiL3BhdGhuYW1lP3NlYXJjaFwiXG4gICAqIEBleGFtcGxlIFBhdGhuYW1lICsgaGFzaC5cbiAgICogXCIvcGF0aG5hbWUjaGFzaFwiXG4gICAqIEBleGFtcGxlIFBhdGhuYW1lICsgc2VhcmNoICsgaGFzaC5cbiAgICogXCIvcGF0aG5hbWU/c2VhcmNoI2hhc2hcIlxuICAgKi9cbiAgZ2V0IHBhdGgoKSB7XG4gICAgcmV0dXJuIFUodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnQgcGF0aG5hbWUuIEFsd2F5cyBzdGFydHMgd2l0aCB0aGUgc2xhc2guXG4gICAqIEBzZWUgVVJMLnBhdGhuYW1lXG4gICAqIEBleGFtcGxlXG4gICAqIFwiL1wiLCBcIi9hYmNcIlxuICAgKi9cbiAgZ2V0IHBhdGhuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hdmlnYXRvci5jdXJyZW50LnBhdGhuYW1lO1xuICB9XG4gIC8qKlxuICAgKiBEZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiB0eXBlLCBwYXJzZXMgaW5jb21pbmcgcGF0aCBhbmQgcmV0dXJucyBpdCBwcmVzZW50ZWQgYXNcbiAgICogYW4gb2JqZWN0LiBJbiBvdGhlciB3b3JkcywgdGhpcyBtZXRob2QgcGFyc2VzIHRoZSBwYXNzZWQgcGF0aCBhbmQgcmV0dXJucyBvYmplY3QsIGRlc2NyaWJpbmdcbiAgICogaG93IHRoZSBuYXZpZ2F0b3IgXCJzZWVzXCIgaXQuXG4gICAqXG4gICAqIEBleGFtcGxlIEhhc2ggbW9kZSBpcyBvbWl0dGVkLlxuICAgKiBwYXJzZVBhdGgoJy9hYmM/YT0xI2hhc2gnKTtcbiAgICogLy8geyBwYXRobmFtZTogJy9hYmMnLCBzZWFyY2g6ICc/YT0xJywgaGFzaDogJyNoYXNoJyB9XG4gICAqIHBhcnNlUGF0aCgnaHR0cDovL2V4YW1wbGUuY29tL2FiYz9hPTEjaGFzaCcpO1xuICAgKiAvLyB7IHBhdGhuYW1lOiAnL2FiYycsIHNlYXJjaDogJz9hPTEnLCBoYXNoOiAnI2hhc2gnIH1cbiAgICpcbiAgICogQGV4YW1wbGUgSGFzaCBtb2RlIGlzIGVuYWJsZWQuXG4gICAqIHBhcnNlUGF0aCgnL2FiYz9hPTEjdG1hP2lzPWNvb2wjeWVhaCcpO1xuICAgKiAvLyB7IHBhdGhuYW1lOiAnL3RtYScsIHNlYXJjaDogJz9pcz1jb29sJywgaGFzaDogJyN5ZWFoJyB9XG4gICAqIHBhcnNlUGF0aCgnaHR0cDovL2V4YW1wbGUuY29tL2FiYz9hPTEjdG1hP2lzPWNvb2wjeWVhaCcpO1xuICAgKiAvLyB7IHBhdGhuYW1lOiAnL3RtYScsIHNlYXJjaDogJz9pcz1jb29sJywgaGFzaDogJyN5ZWFoJyB9XG4gICAqL1xuICBwYXJzZVBhdGgodCkge1xuICAgIGxldCBzID0gTCh0KTtcbiAgICByZXR1cm4gdGhpcy5oYXNoTW9kZSAmJiAocyA9IEwocy5oYXNoLnNsaWNlKDEpKSksIHtcbiAgICAgIHBhdGhuYW1lOiBzLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoOiBzLnNlYXJjaCxcbiAgICAgIGhhc2g6IHMuaGFzaFxuICAgIH07XG4gIH1cbiAgcHVzaCh0LCBzKSB7XG4gICAgY29uc3QgbiA9IFEodCwgdGhpcy5wYXRoKSwgeyBzdGF0ZTogciA9IHMgfSA9IG4ucGFyYW1zO1xuICAgIHRoaXMubmF2aWdhdG9yLnB1c2goeyAuLi5uLCBwYXJhbXM6IHsgLi4ubi5wYXJhbXMsIHN0YXRlOiByIH0gfSk7XG4gIH1cbiAgcmVwbGFjZSh0LCBzKSB7XG4gICAgY29uc3QgbiA9IFEodCwgdGhpcy5wYXRoKSwgeyBzdGF0ZTogciA9IHMgfSA9IG4ucGFyYW1zO1xuICAgIHRoaXMubmF2aWdhdG9yLnJlcGxhY2UoeyAuLi5uLCBwYXJhbXM6IHsgLi4ubi5wYXJhbXMsIHN0YXRlOiByIH0gfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbWJpbmVzIHRoZSBuYXZpZ2F0b3IgYGJhc2VgIHByb3BlcnR5IHdpdGggdGhlIHBhc3NlZCBwYXRoIGRhdGEgYXBwbHlpbmcgdGhlIG5hdmlnYXRvclxuICAgKiBuYXZpZ2F0aW9uIG1vZGUuXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHBhdGggcHJlc2VudGVkIGFzIHN0cmluZyBvciBVUkxMaWtlLlxuICAgKi9cbiAgcmVuZGVyUGF0aCh0KSB7XG4gICAgY29uc3QgcyA9ICh0aGlzLmJhc2UubGVuZ3RoID09PSAxID8gXCJcIiA6IHRoaXMuYmFzZSkgKyBNKFUodCksIFwiL1wiKTtcbiAgICByZXR1cm4gdGhpcy5oYXNoTW9kZSA/IE0ocy5zbGljZSgxKSwgdGhpcy5oYXNoTW9kZSA9PT0gXCJjbGFzc2ljXCIgPyBcIiNcIiA6IFwiIy9cIikgOiBzO1xuICB9XG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgY3VycmVudCBuYXZpZ2F0b3Igc3RhdGUgd2l0aCBicm93c2VyIGhpc3RvcnkuXG4gICAqL1xuICBhc3luYyBzeW5jSGlzdG9yeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMub25Qb3BTdGF0ZSk7XG4gICAgY29uc3QgeyBzdGF0ZTogdCB9ID0gdGhpcywgcyA9IHRoaXMucmVuZGVyUGF0aCh0aGlzKTtcbiAgICBhd2FpdCBxcygpLCB0aGlzLmhhc1ByZXYgJiYgdGhpcy5oYXNOZXh0ID8gKHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShZLCBcIlwiKSwgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHQsIFwiXCIsIHMpLCB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoWiwgXCJcIiksIGF3YWl0IE4oLTEpKSA6IHRoaXMuaGFzUHJldiA/ICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoWSwgXCJcIiksIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh0LCBcIlwiLCBzKSkgOiB0aGlzLmhhc05leHQgPyAod2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHQsIHMpLCB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoWiwgXCJcIiksIGF3YWl0IE4oLTEpKSA6ICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoRXQsIFwiXCIpLCB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUodCwgXCJcIiwgcykpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMub25Qb3BTdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnQgcXVlcnkgcGFyYW1ldGVycy5cbiAgICogQHNlZSBVUkwuc2VhcmNoXG4gICAqIEBleGFtcGxlXG4gICAqIFwiXCIsIFwiP1wiLCBcIj9hPTFcIlxuICAgKi9cbiAgZ2V0IHNlYXJjaCgpIHtcbiAgICByZXR1cm4gKHRoaXMubmF2aWdhdG9yLmN1cnJlbnQucGFyYW1zIHx8IHt9KS5zZWFyY2ggfHwgXCJcIjtcbiAgfVxuICAvKipcbiAgICogQ3VycmVudCBoaXN0b3J5IGl0ZW0gc3RhdGUuXG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuICh0aGlzLm5hdmlnYXRvci5jdXJyZW50LnBhcmFtcyB8fCB7fSkuc3RhdGU7XG4gIH1cbn1cbmZ1bmN0aW9uIFZzKGUpIHtcbiAgZSB8fCAoZSA9IHt9KTtcbiAgY29uc3QgeyBocmVmOiB0LCBoYXNoOiBzIH0gPSB3aW5kb3cubG9jYXRpb247XG4gIGxldCBuID0gVShcbiAgICBlLmhhc2hNb2RlID09PSBudWxsID8gdCA6IHMuaW5jbHVkZXMoXCI/XCIpID8gcy5zbGljZSgxKSA6IGA/JHtzLnNsaWNlKDEpfWBcbiAgKTtcbiAgY29uc3QgciA9IGUuYmFzZSA/IHRlKGUuYmFzZSkgOiB2b2lkIDA7XG4gIGlmIChyKSB7XG4gICAgaWYgKCFuLnN0YXJ0c1dpdGgocikpXG4gICAgICB0aHJvdyBiKFxuICAgICAgICB5ZSxcbiAgICAgICAgYFBhdGggXCIke259XCIgZXhwZWN0ZWQgdG8gYmUgc3RhcnRpbmcgd2l0aCBcIiR7cn1cImBcbiAgICAgICk7XG4gICAgbiA9IG4uc2xpY2Uoci5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBuZXcgZWUoW25dLCAwLCBlKTtcbn1cbmZ1bmN0aW9uIGtuKGUpIHtcbiAgY29uc3QgdCA9IGUubWF0Y2goLyMoLispLyk7XG4gIHJldHVybiB0ID8gdFsxXSA6IG51bGw7XG59XG5mdW5jdGlvbiBOcyhlLCB0KSB7XG4gIGlmIChGdCgpKSB7XG4gICAgY29uc3QgcyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSk7XG4gICAgaWYgKHMpXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGluZGV4OiBuLCBoaXN0b3J5OiByIH0gPSBKU09OLnBhcnNlKHMpO1xuICAgICAgICByZXR1cm4gbmV3IGVlKFxuICAgICAgICAgIHIsXG4gICAgICAgICAgbixcbiAgICAgICAgICB0XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gcmVzdG9yZSBoYXNoIG5hdmlnYXRvciBzdGF0ZS5cIiwgbik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIFZzKHQpO1xufVxuZnVuY3Rpb24gSW4oZSwgdCkge1xuICBjb25zdCBzID0gTnMoZSwgdCksIG4gPSAoKSA9PiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsIEpTT04uc3RyaW5naWZ5KHtcbiAgICBpbmRleDogcy5pbmRleCxcbiAgICBoaXN0b3J5OiBzLmhpc3RvcnlcbiAgfSkpO1xuICByZXR1cm4gcy5vbihcImNoYW5nZVwiLCBuKSwgbigpLCBzO1xufVxuZnVuY3Rpb24gZChlLCB0KSB7XG4gIGZ1bmN0aW9uIHMobikge1xuICAgIHJldHVybiBmdW5jdGlvbihpLCBvLCBhKSB7XG4gICAgICByZXR1cm4gKGgpID0+IHtcbiAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAuLi5oLFxuICAgICAgICAgIFtpXTogbihvKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFB0KGEsIHsgLi4ucCB9KTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuICByZXR1cm4gW3MoZSksIHModCldO1xufVxuY29uc3Qgc2UgPSBuZSh2b2lkIDApO1xuZnVuY3Rpb24gRHMoKSB7XG4gIGNvbnN0IGUgPSByZShzZSk7XG4gIGlmICghZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VTREsgd2FzIHVzZWQgb3V0c2lkZSB0aGUgU0RLUHJvdmlkZXIuXCIpO1xuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIF8oZSkge1xuICBmdW5jdGlvbiB0KG4pIHtcbiAgICBjb25zdCByID0gRHMoKSwgW2ksIG9dID0gcnQoXG4gICAgICBuID8gdm9pZCAwIDogKCkgPT4ge1xuICAgICAgICBpZiAoa3MoKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2luZyBob29rcyBvbiB0aGUgc2VydmVyIHNpZGUsIHlvdSBtdXN0IGV4cGxpY2l0bHkgc3BlY2lmeSBzc3IgPSB0cnVlIG9wdGlvblwiKTtcbiAgICAgICAgcmV0dXJuIHIudXNlKGUpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIFMoKCkgPT4ge1xuICAgICAgbyhyLnVzZShlKSk7XG4gICAgfSwgW3JdKSwgaTtcbiAgfVxuICBmdW5jdGlvbiBzKG4pIHtcbiAgICBjb25zdCByID0gdChuKTtcbiAgICBpZiAocikge1xuICAgICAgaWYgKFwiZXJyb3JcIiBpbiByKVxuICAgICAgICB0aHJvdyByLmVycm9yO1xuICAgICAgcmV0dXJuIHIucmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gW3QsIHNdO1xufVxuY29uc3QgW0JzLCBNc10gPSBfKGplKSwgW09uLCBxbl0gPSBkKFxuICBCcyxcbiAgTXNcbiksIFtMcywgJHNdID0gXyhKZSksIFtWbiwgTm5dID0gZChcbiAgTHMsXG4gICRzXG4pLCBbSHMsIFVzXSA9IF8oUWUpLCBbRG4sIEJuXSA9IGQoXG4gIEhzLFxuICBVc1xuKSwgW1dzLCBHc10gPSBfKGVzKSwgW01uLCBMbl0gPSBkKFxuICBXcyxcbiAgR3NcbiksIFtqcywgenNdID0gXyhucyksIFskbiwgSG5dID0gZChcbiAganMsXG4gIHpzXG4pLCBbS3MsIEpzXSA9IF8oaXMpLCBbVW4sIFduXSA9IGQoS3MsIEpzKSwgW0ZzLCBRc10gPSBfKGFzKSwgW0duLCBqbl0gPSBkKEZzLCBRcyksIFtZcywgWnNdID0gXyhocyksIFt6biwgS25dID0gZChZcywgWnMpLCBbWHMsIHRuXSA9IF8oZHMpLCBbSm4sIEZuXSA9IGQoWHMsIHRuKSwgW2VuLCBzbl0gPSBfKGdzKSwgW1FuLCBZbl0gPSBkKGVuLCBzbiksIFtubiwgcm5dID0gXyhicyksIFtabiwgWG5dID0gZChubiwgcm4pLCBbb24sIGFuXSA9IF8odnMpLCBbdHIsIGVyXSA9IGQoXG4gIG9uLFxuICBhblxuKSwgW2NuLCBobl0gPSBfKEVzKSwgW3NyLCBucl0gPSBkKFxuICBjbixcbiAgaG5cbiksIFtwbiwgdW5dID0gXyhTcyksIFtyciwgaXJdID0gZChwbiwgdW4pO1xuZnVuY3Rpb24gb3IoZSkge1xuICBjb25zdCBbdCwgc10gPSBydCgoKSA9PiBlID8gdm9pZCAwIDogbnQoKSk7XG4gIHJldHVybiBTKCgpID0+IHtcbiAgICBlICYmIHMobnQoKSk7XG4gIH0sIFtdKSwgdDtcbn1cbmNvbnN0IFtsbiwgZG5dID0gXyh4cyksIFthciwgY3JdID0gZChsbiwgZG4pLCBbX24sIHduXSA9IF8oVHMpLCBbaHIsIHByXSA9IGQoX24sIHduKTtcbmZ1bmN0aW9uIHVyKHsgY2hpbGRyZW46IGUsIGFjY2VwdEN1c3RvbVN0eWxlczogdCwgZGVidWc6IHMgfSkge1xuICBjb25zdCBuID0gYnQoITApLCBbciwgaV0gPSBydCgvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKSwgbyA9IGJ0KHIpLCBhID0gaWUoXG4gICAgKHApID0+IHtcbiAgICAgIG4uY3VycmVudCAmJiBpKChDKSA9PiAocCAmJiBwKEMpLCBuZXcgTWFwKEMpKSk7XG4gICAgfSxcbiAgICBbXVxuICApLCBoID0gb2UoKCkgPT4gKHtcbiAgICB1c2UocCwgLi4uQykge1xuICAgICAgY29uc3Qgd3QgPSByLmdldChwKTtcbiAgICAgIGlmICh3dClcbiAgICAgICAgcmV0dXJuIHd0O1xuICAgICAgbGV0IG0sIEs7XG4gICAgICB0cnkge1xuICAgICAgICBtID0gcCguLi5DKTtcbiAgICAgIH0gY2F0Y2ggKGcpIHtcbiAgICAgICAgSyA9IGc7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBIKGcpIHtcbiAgICAgICAgcmV0dXJuIHIuc2V0KHAsIGcpLCBnO1xuICAgICAgfVxuICAgICAgaWYgKEspXG4gICAgICAgIHJldHVybiBIKHsgZXJyb3I6IEsgfSk7XG4gICAgICBsZXQgSTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG0pICYmIChJID0gbVsxXSwgbSA9IG1bMF0pLCAhbSlcbiAgICAgICAgcmV0dXJuIEgoeyByZXN1bHQ6IG0sIGNsZWFudXA6IEkgfSk7XG4gICAgICBmdW5jdGlvbiBndChnKSB7XG4gICAgICAgIGlmIChcIm9uXCIgaW4gZykge1xuICAgICAgICAgIGNvbnN0IE8gPSBnLm9uKFwiY2hhbmdlXCIsICgpID0+IGEoKSksIGZ0ID0gSTtcbiAgICAgICAgICBJID0gKCkgPT4ge1xuICAgICAgICAgICAgZnQgJiYgZnQoKSwgTygpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBnLCBjbGVhbnVwOiBJIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gbSBpbnN0YW5jZW9mIFByb21pc2UgPyAobS50aGVuKFxuICAgICAgICAoZykgPT4gYSgoTykgPT4gTy5zZXQocCwgZ3QoZykpKSxcbiAgICAgICAgKGcpID0+IGEoKE8pID0+IE8uc2V0KHAsIHsgZXJyb3I6IGcgfSkpXG4gICAgICApLCBIKHt9KSkgOiBIKGd0KG0pKTtcbiAgICB9XG4gIH0pLCBbcl0pO1xuICByZXR1cm4gUygoKSA9PiAobi5jdXJyZW50ID0gITAsICgpID0+IHtcbiAgICBuLmN1cnJlbnQgPSAhMTtcbiAgfSksIFtdKSwgUygoKSA9PiB7XG4gICAgaWYgKGF0KCkpXG4gICAgICByZXR1cm4gQXModCk7XG4gIH0sIFt0XSksIFMoKCkgPT4ge1xuICAgIHVlKHMgfHwgITEpO1xuICB9LCBbc10pLCBTKCgpID0+IHtcbiAgICBvLmN1cnJlbnQgPSByO1xuICB9LCBbcl0pLCBTKCgpID0+ICgpID0+IHtcbiAgICBvLmN1cnJlbnQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgXCJjbGVhbnVwXCIgaW4gcCAmJiBwLmNsZWFudXAgJiYgcC5jbGVhbnVwKCk7XG4gICAgfSk7XG4gIH0sIFtdKSwgLyogQF9fUFVSRV9fICovIFB0KHNlLlByb3ZpZGVyLCB7IHZhbHVlOiBoLCBjaGlsZHJlbjogZSB9KTtcbn1cbmV4cG9ydCB7XG4gIFZlIGFzIEJhY2tCdXR0b24sXG4gIE9zIGFzIEJhc2ljTmF2aWdhdG9yLFxuICB6ZSBhcyBCaW9tZXRyeU1hbmFnZXIsXG4gIGVlIGFzIEJyb3dzZXJOYXZpZ2F0b3IsXG4gIEZlIGFzIENsb3NpbmdCZWhhdmlvcixcbiAgdHMgYXMgQ2xvdWRTdG9yYWdlLFxuICB5ZSBhcyBFUlJfSU5WQUxJRF9QQVRIX0JBU0UsXG4gIGdlIGFzIEVSUl9JTlZPS0VfQ1VTVE9NX01FVEhPRF9SRVNQT05TRSxcbiAgX2UgYXMgRVJSX01FVEhPRF9QQVJBTUVURVJfVU5TVVBQT1JURUQsXG4gIGRlIGFzIEVSUl9NRVRIT0RfVU5TVVBQT1JURUQsXG4gIG1lIGFzIEVSUl9OQVZJR0FUSU9OX0hJU1RPUllfRU1QVFksXG4gIHZlIGFzIEVSUl9OQVZJR0FUSU9OX0lOREVYX0lOVkFMSUQsXG4gIGJuIGFzIEVSUl9OQVZJR0FUSU9OX0lURU1fSU5WQUxJRCxcbiAgeHQgYXMgRVJSX1BBUlNFLFxuICBtbiBhcyBFUlJfU1NSX0lOSVQsXG4gIGZlIGFzIEVSUl9USU1FRF9PVVQsXG4gIGJlIGFzIEVSUl9VTkVYUEVDVEVEX1RZUEUsXG4gIHdlIGFzIEVSUl9VTktOT1dOX0VOVixcbiAgRCBhcyBFdmVudEVtaXR0ZXIsXG4gIHNzIGFzIEhhcHRpY0ZlZWRiYWNrLFxuICBycyBhcyBJbml0RGF0YSxcbiAgb3MgYXMgSW52b2ljZSxcbiAgY3MgYXMgTWFpbkJ1dHRvbixcbiAgbHMgYXMgTWluaUFwcCxcbiAgd3MgYXMgUG9wdXAsXG4gIGZzIGFzIFFSU2Nhbm5lcixcbiAgVyBhcyBTREtFcnJvcixcbiAgdXIgYXMgU0RLUHJvdmlkZXIsXG4gIG1zIGFzIFNldHRpbmdzQnV0dG9uLFxuICB5cyBhcyBTd2lwZUJlaGF2aW9yLFxuICBQcyBhcyBUaGVtZVBhcmFtcyxcbiAgUnMgYXMgVXRpbHMsXG4gIENzIGFzIFZpZXdwb3J0LFxuICBYZSBhcyBhcnJheSxcbiAgU24gYXMgYmluZE1pbmlBcHBDU1NWYXJzLFxuICBSbiBhcyBiaW5kVGhlbWVQYXJhbXNDU1NWYXJzLFxuICB4biBhcyBiaW5kVmlld3BvcnRDU1NWYXJzLFxuICBFIGFzIGJvb2xlYW4sXG4gIHF0IGFzIGNhcHR1cmVTYW1lUmVxLFxuICBzdCBhcyBjbGFzc05hbWVzLFxuICBUZSBhcyBjb21wYXJlVmVyc2lvbnMsXG4gIFZzIGFzIGNyZWF0ZUJyb3dzZXJOYXZpZ2F0b3JGcm9tTG9jYXRpb24sXG4gIEllIGFzIGNyZWF0ZVBvc3RFdmVudCxcbiAgTCBhcyBjcmVhdGVTYWZlVVJMLFxuICBMdCBhcyBkYXRlLFxuICBrbiBhcyBnZXRIYXNoLFxuICB0ZSBhcyBnZXRQYXRobmFtZSxcbiAgamUgYXMgaW5pdEJhY2tCdXR0b24sXG4gIEplIGFzIGluaXRCaW9tZXRyeU1hbmFnZXIsXG4gIFFlIGFzIGluaXRDbG9zaW5nQmVoYXZpb3IsXG4gIGVzIGFzIGluaXRDbG91ZFN0b3JhZ2UsXG4gIG5zIGFzIGluaXRIYXB0aWNGZWVkYmFjayxcbiAgaXMgYXMgaW5pdEluaXREYXRhLFxuICBhcyBhcyBpbml0SW52b2ljZSxcbiAgaHMgYXMgaW5pdE1haW5CdXR0b24sXG4gIGRzIGFzIGluaXRNaW5pQXBwLFxuICBJbiBhcyBpbml0TmF2aWdhdG9yLFxuICBncyBhcyBpbml0UG9wdXAsXG4gIGJzIGFzIGluaXRRUlNjYW5uZXIsXG4gIHZzIGFzIGluaXRTZXR0aW5nc0J1dHRvbixcbiAgRXMgYXMgaW5pdFN3aXBlQmVoYXZpb3IsXG4gIFNzIGFzIGluaXRUaGVtZVBhcmFtcyxcbiAgeHMgYXMgaW5pdFV0aWxzLFxuICBUcyBhcyBpbml0Vmlld3BvcnQsXG4gIEFzIGFzIGluaXRXZWIsXG4gIFYgYXMgaW52b2tlQ3VzdG9tTWV0aG9kLFxuICBCdCBhcyBpc0NvbG9yRGFyayxcbiAgYXQgYXMgaXNJZnJhbWUsXG4gIEZ0IGFzIGlzUGFnZVJlbG9hZCxcbiAgY3QgYXMgaXNSR0IsXG4gIE9lIGFzIGlzUkdCU2hvcnQsXG4gIElzIGFzIGlzU0RLRXJyb3IsXG4gIEFuIGFzIGlzU0RLRXJyb3JPZlR5cGUsXG4gIGtzIGFzIGlzU1NSLFxuICBDbiBhcyBpc1RNQSxcbiAgdiBhcyBqc29uLFxuICB5biBhcyBtZXJnZUNsYXNzTmFtZXMsXG4gIFRuIGFzIG1vY2tUZWxlZ3JhbUVudixcbiAgUiBhcyBudW1iZXIsXG4gIHogYXMgb2ZmLFxuICB5IGFzIG9uLFxuICBFbiBhcyBwYXJzZUluaXREYXRhLFxuICBsdCBhcyBwYXJzZUxhdW5jaFBhcmFtcyxcbiAgWnQgYXMgcGFyc2VUaGVtZVBhcmFtcyxcbiAgQiBhcyBwb3N0RXZlbnQsXG4gIHcgYXMgcmVxdWVzdCxcbiAgS2UgYXMgcmVxdWVzdEJpb21ldHJ5SW5mbyxcbiAgUG4gYXMgcmVxdWVzdFRoZW1lUGFyYW1zLFxuICBYdCBhcyByZXF1ZXN0Vmlld3BvcnQsXG4gIG50IGFzIHJldHJpZXZlTGF1bmNoUGFyYW1zLFxuICBEZSBhcyByZ2IsXG4gIHV0IGFzIHNlYXJjaFBhcmFtcyxcbiAgVWUgYXMgc2VyaWFsaXplTGF1bmNoUGFyYW1zLFxuICBLdCBhcyBzZXJpYWxpemVUaGVtZVBhcmFtcyxcbiAgUCBhcyBzZXRDU1NWYXIsXG4gIHVlIGFzIHNldERlYnVnLFxuICB2biBhcyBzZXRUYXJnZXRPcmlnaW4sXG4gIHUgYXMgc3RyaW5nLFxuICBoZSBhcyBzdWJzY3JpYmUsXG4gIHggYXMgc3VwcG9ydHMsXG4gIGtlIGFzIHRhcmdldE9yaWdpbixcbiAgRHQgYXMgdG9SR0IsXG4gIFJ0IGFzIHVuc3Vic2NyaWJlLFxuICBVIGFzIHVybFRvUGF0aCxcbiAgTXMgYXMgdXNlQmFja0J1dHRvbixcbiAgQnMgYXMgdXNlQmFja0J1dHRvblJhdyxcbiAgJHMgYXMgdXNlQmlvbWV0cnlNYW5hZ2VyLFxuICBMcyBhcyB1c2VCaW9tZXRyeU1hbmFnZXJSYXcsXG4gIFVzIGFzIHVzZUNsb3NpbmdCZWhhdmlvcixcbiAgSHMgYXMgdXNlQ2xvc2luZ0JlaGF2aW9yUmF3LFxuICBHcyBhcyB1c2VDbG91ZFN0b3JhZ2UsXG4gIFdzIGFzIHVzZUNsb3VkU3RvcmFnZVJhdyxcbiAgenMgYXMgdXNlSGFwdGljRmVlZGJhY2ssXG4gIGpzIGFzIHVzZUhhcHRpY0ZlZWRiYWNrUmF3LFxuICBKcyBhcyB1c2VJbml0RGF0YSxcbiAgS3MgYXMgdXNlSW5pdERhdGFSYXcsXG4gIFFzIGFzIHVzZUludm9pY2UsXG4gIEZzIGFzIHVzZUludm9pY2VSYXcsXG4gIG9yIGFzIHVzZUxhdW5jaFBhcmFtcyxcbiAgWnMgYXMgdXNlTWFpbkJ1dHRvbixcbiAgWXMgYXMgdXNlTWFpbkJ1dHRvblJhdyxcbiAgdG4gYXMgdXNlTWluaUFwcCxcbiAgWHMgYXMgdXNlTWluaUFwcFJhdyxcbiAgc24gYXMgdXNlUG9wdXAsXG4gIGVuIGFzIHVzZVBvcHVwUmF3LFxuICBybiBhcyB1c2VRUlNjYW5uZXIsXG4gIG5uIGFzIHVzZVFSU2Nhbm5lclJhdyxcbiAgRHMgYXMgdXNlU0RLLFxuICBhbiBhcyB1c2VTZXR0aW5nc0J1dHRvbixcbiAgb24gYXMgdXNlU2V0dGluZ3NCdXR0b25SYXcsXG4gIGhuIGFzIHVzZVN3aXBlQmVoYXZpb3IsXG4gIGNuIGFzIHVzZVN3aXBlQmVoYXZpb3JSYXcsXG4gIHVuIGFzIHVzZVRoZW1lUGFyYW1zLFxuICBwbiBhcyB1c2VUaGVtZVBhcmFtc1JhdyxcbiAgZG4gYXMgdXNlVXRpbHMsXG4gIGxuIGFzIHVzZVV0aWxzUmF3LFxuICB3biBhcyB1c2VWaWV3cG9ydCxcbiAgX24gYXMgdXNlVmlld3BvcnRSYXcsXG4gIHFuIGFzIHdpdGhCYWNrQnV0dG9uLFxuICBPbiBhcyB3aXRoQmFja0J1dHRvblJhdyxcbiAgTm4gYXMgd2l0aEJpb21ldHJ5TWFuYWdlcixcbiAgVm4gYXMgd2l0aEJpb21ldHJ5TWFuYWdlclJhdyxcbiAgQm4gYXMgd2l0aENsb3NpbmdCZWhhdmlvcixcbiAgRG4gYXMgd2l0aENsb3NpbmdCZWhhdmlvclJhdyxcbiAgTG4gYXMgd2l0aENsb3VkU3RvcmFnZSxcbiAgTW4gYXMgd2l0aENsb3VkU3RvcmFnZVJhdyxcbiAgSG4gYXMgd2l0aEhhcHRpY0ZlZWRiYWNrLFxuICAkbiBhcyB3aXRoSGFwdGljRmVlZGJhY2tSYXcsXG4gIFduIGFzIHdpdGhJbml0RGF0YSxcbiAgVW4gYXMgd2l0aEluaXREYXRhUmF3LFxuICBqbiBhcyB3aXRoSW52b2ljZSxcbiAgR24gYXMgd2l0aEludm9pY2VSYXcsXG4gIEtuIGFzIHdpdGhNYWluQnV0dG9uLFxuICB6biBhcyB3aXRoTWFpbkJ1dHRvblJhdyxcbiAgRm4gYXMgd2l0aE1pbmlBcHAsXG4gIEpuIGFzIHdpdGhNaW5pQXBwUmF3LFxuICBZbiBhcyB3aXRoUG9wdXAsXG4gIFFuIGFzIHdpdGhQb3B1cFJhdyxcbiAgWG4gYXMgd2l0aFFSU2Nhbm5lcixcbiAgWm4gYXMgd2l0aFFSU2Nhbm5lclJhdyxcbiAgZXIgYXMgd2l0aFNldHRpbmdzQnV0dG9uLFxuICB0ciBhcyB3aXRoU2V0dGluZ3NCdXR0b25SYXcsXG4gIG5yIGFzIHdpdGhTd2lwZUJlaGF2aW9yLFxuICBzciBhcyB3aXRoU3dpcGVCZWhhdmlvclJhdyxcbiAgaXIgYXMgd2l0aFRoZW1lUGFyYW1zLFxuICByciBhcyB3aXRoVGhlbWVQYXJhbXNSYXcsXG4gIE50IGFzIHdpdGhUaW1lb3V0LFxuICBjciBhcyB3aXRoVXRpbHMsXG4gIGFyIGFzIHdpdGhVdGlsc1JhdyxcbiAgcHIgYXMgd2l0aFZpZXdwb3J0LFxuICBociBhcyB3aXRoVmlld3BvcnRSYXdcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@telegram-apps/sdk-react/dist/index.js\n"));

/***/ })

});